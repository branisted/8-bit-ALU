
<HEAD>
<TITLE>6.1f Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 6.1f
<br></h1></center>
<center>
&nbsp;Copyright 2006 Mentor Graphics Corporation
<br>
&nbsp;All rights reserved.
<br>
&nbsp;This document contains information that is proprietary to Mentor Graphics Corporation.
<br>
&nbsp;The original recipient of this document may duplicate this document in whole or in
<br>
&nbsp;part for internal business purposes only, provided that this entire notice appears in all
<br>
&nbsp;copies. In duplicating any part of this document, the recipient agrees to make every
<br>
&nbsp;reasonable effort to prevent the unauthorized use and distribution of the proprietary
<br>
&nbsp;information.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>May 15 2006</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file in www.model.com. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#assertiondefects">Assertion Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 6.1f</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 6.1f</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 6.1f</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 6.1f</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 6.1f</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
The RedHat Enterprise Linux 4 is supported as of the 6.1b release.
<br>
The support includes the following platforms:
<br>
<ul>
<li>32-bit linux
<li>64-bit linux_x86_64 
</ul>
<p>
For a complete list of supported platforms see the Install Guide under the section Supported platforms.</li>
<li>
The following platforms will be discontinued as of the 6.2 release:
<br>
<ul>
<li>Windows 98
<li>Windows ME
<li>Windows NT 4.0
<li>Solaris 2.6
<li>Solaris 7
<li>AIX 4.3
</ul>
</li>
<li>
Solaris OS 10 is supported as of the 6.1a release. Solaris OS 10 support includes SystemC. However, cdebug is not supported.

<UL>Solaris 10 has the following limitations:

<LI>In the OS, vt alarm is producing irregular and random beats between 20ms and 100ms. As a result, the profiler produces the error message, "Too few samples."  To workaround this problem, add the following line to the file /etc/system and reboot the system:<br>
set hires_tick=1<br>
This will produce consistent sample times. The minimum sample time will be 20ms. This problem has been filed as Sun CR 6290459 and will be fixed in a coming kernel patch. With the patch, the minimum sample time will be approximately 10ms, as in previous Solaris releases.
<LI>In rare cases, simulations using sockets via the FLI may hang the system and produce a messages like "nfs server array not responding" may be produced. This problem has been filed as Sun CR 6296698.
<LI>In Solaris 10, g7 is always reserved. Any  PLI/FLI/DIP using g7 will break under Solaris 10.
</UL>

</li>
<li>
The following platform changes are effective as of the 6.0 release.<BR>

<UL>
<LI>The 64-bit simulator is supported on the AMD Opteron and compatible processors running 64-bit Linux (SuSE 9.0 (x86-64) or RedHat Enterprise Linux WS release 3) as the linux_x86_64 platform. The profiling feature is not supported in 64-bit mode. The 32-bit simulator for the linux platform may also be installed and used concurrently on these systems.
<LI>RedHat 6.0 through 7.1 are no longer supported. 
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 6.0x or  earlier release versions. See "Regenerating your design libraries" in the User's Manual for more information on refreshing your models.</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in version 5.5c or greater.

</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
Beginning in the 5.8 release, SDF files compressed in the Unix compress format (.Z) are no longer supported, but the GNU zip format (.gz)is supported.  Therefore, we only when read in compressed SDF files that are created with the GNU zip (gzip) extension. A file is not require to have a .gz extension, but it will error on files that have a .Z extension.</li>
<li>
Support of SystemC has dependencies on both operating system versions and C++ compiler versions. The OS support is slightly different than the simulation environments OS support for designs without SystemC content. Also, 64-bit compilation is not supported for SystemC designs.
<br>
Supported Operating Systems and C++ compilers:<br>
<ul>
<li>RedHat 7.3 and greater, gcc 3.2</li>
<li>RedHat EWS2.1/7.2 and greater, gcc 3.2.3 (simulation environment version 5.8b and greater)</li>
<li>Solaris 2,6, 7, 8 , 9, 10, gcc 3.3</li>
<li>HP-UX 11.0 and greater, aCC 3.45</li>
<li>Win32 XP and 2000, gcc 3.2.3 (Simulation environment versions 6.0 and greater)</li>
</ul>
</li>
<li>
The LE product does not support VHDL. However, it does support Verilog and SystemC.</li>
<li>
CDEBUG compatibility information by platform.<BR>
<UL>
<LI>On HP-UX 11.0, the built-in HP wdb 3.3 program is used as the underlying C/C++ debugger.  In order to run wdb successfully, you must have installed HP-UX PHSS_23842, or a superseding patch.  Without this patch installed, error messages will occur during CDEBUG startup.
<LI>On rs6000, gdb-6.0 works with gcc-3.2. Additionally, when creating shared objects, 'ld' (/bin/ld) should be used, not 'gcc'.
This combination works with AIX-5.1. On AIX-5.1  use gcc-3.2-aix51.
The native compiler /bin/cc is not compatible with gdb-6.0.
</UL>

</li>
<li>
The vcom compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches <b>-87</b>, <b>-93</b>, or <b>-2002</b>, or<br>
<LI>set the VHDL93 variable in the [vcom] section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
</li>
<li>
Although the vlog compiler currently supports some SystemVerilog features, these extensions are not enabled by default because they require new language keywords that may conflict with identifiers in existing code.  There are two ways to enable SystemVerilog features: the first is by using the <b>-sv</b> command line option and the second is by naming the source file with a ".sv" suffix.</li>
<li>
The EM64T platform is supported as of the 6.0b release.<BR>
The support includes EM64T machines loaded with Suse 9.1 OS or RedHat Enterprise Linux 3 Update 3 OS and the following linux configurations.
<UL>
<LI>32-bit linux
<LI>64-bit linux_x86_64
</UL>
FlexLM v8.2a (which is currently shipped in 6.0x) is not supported on an EM64T machine loaded with Suse 9.1 OS.

</li>
<li>
The 6.1 release will use the following licensing versions: FLEXlm v9.5; Mentor Graphics Licensing MGLS v2004.2 and PCLS 2004.328.
<p>
CRITICAL LICENSING INFORMATION:
<p>
For this release of the product, the FLEXlm licensing software
being used is version 9.5. For floating licenses it will be necessary to
verify that the vendor daemon (i.e., mgcld) and the license server
(i.e., lmgrd) have FLEXlm versions equal to or greater than 9.5. The
vendor daemons and lmgrd that are shipped with this release will be
FLEXlm version 9.5. If the current FLEXlm version of your vendor daemon
and lmgrd are less than 9.5 then it will be necessary to stop your
license server and restart it using the vendor daemon and lmgrd
contained in this release. If you use node locked licenses you don't
need to do anything.</li>
<li>
SystemVerilog Program blocks are now supported except for the $exit() task.</li>
<li>
The default time unit for SystemC can be set using the "ScTimeUnit" variable in the modelsim.ini file.  By default ScTimeUnit is set to 1 ns.  The default time unit in SystemC can also be set using the sc_set_default_time_unit() function before any time based object like sc_clock or sc_time is created.</li>
<li>
vlog,vcom and vopt command line options will be case sensitive similar to the vsim command line options.</li>
<li>
Starting in the 6.1 release, the vsim -dpiexportobj option
has changed behavior somewhat.  This primarily affects
win32 and rs6000 users.

<OL>
<LI>You shouldn't put an extension on the object filename.
   That will be done for you automatically now.</LI>

<LI>There is no longer a need to add "-c -do 'quit -f'"
   to the vsim -dpiexportobj command line.</LI>
</OL>
The examples/systemverilog/dpi/simple_calls runtest.bat
files have been modified to show the correct flow now.
</li>
<li>
Due to some bug fixes, some VHDL models compiled with 6.1b or higher will not
run under 6.1 and 6.1a. These models will generate the error:<br>
<code>
# ** Fatal: (vsim-3274) Empty built-in function pointer (511).<br>
# Either this version of vsim is not compatible with the compiled<br>
# version of the libraries that were loaded or a required shared library<br>
# was not loaded. Please recompile the libraries with -refresh or make<br>
# sure you specify the required shared library to vsim.<br>
</code></li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 2000, XP
   <li>sunos5aloem - Solaris 8, 9
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 6.1f</b>
<ul>
<li>
Radix binary waveforms for integer signals were displayed incorrectly.</li>
<li>
The toolbar icons were not updated appropriately after selections in the Wave window.</li>
<li>
The automatic saving of virtuals during quit could hang the GUI if the virtuals.do file (or the file specified by the preference setting Main DefaultVirtualFileName) is not writeable.</li>
<li>
The behavior of drag and drop into a Dataflow window formerly caused the display update operation to be done immediately, effectively locking the user interface until the operation was complete.  Now the drop operation causes an <b>add dataflow</b> command to be executed; this command will be seen in the Transcript pane.</li>
<li>
Display names of signals within a group could not be edited.</li>
<li>
The simulator crashed when using the <b>virtual delete</b> command with a wildcard pattern and there was a match with non-virtual items.</li>
<li>
The Wave Mouse Mode toolbar did not update correctly when the Wave window was undocked.</li>
<li>
WLF file data was displayed incorrectly for Verilog multi-dimentional bit arrays of the form:
<code>
 "bit [K:0] L0 [P]".
</code></li>
<li>
If you link a PSL file to HDL code from a project tab and
the path name to the PSL file has a space, the operation failed.</li>
<li>
The "compile to" field (and other sccom compiler options) for SystemC objects in the project manager were ignored.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 6.1f</b>
<ul>
<li>
In some cases vopt generated an internal error for assignment statements using the SystemVerilog "iff" qualifier like:
<br>
<code>
    wdata <= @(posedge clk iff ready) 1'b1;
</code>
<br>
These errors only occured if the variable being assigned to was unused in the design.</li>
<li>
In some cases SystemVerilog code with multiple packages generated an internal error like:
<br>
<code>
Internal error: ../../../src/vlog/vallocate.c(607) vl_current_nesting_level <= 
save_current_nesting_level
</code></li>
<li>
Using iff could cause a crash.</li>
<li>
X-generation due to $width or $period timing check violations in certain cases caused an optimized cell instance to produce incorrect result on next active clock.</li>
<li>
In some cases, a vopt optimization incorrectly removed an "initial" or "always" construct that wrote to a variable that was also read inside a called task or function.</li>
<li>
In some cases, always_comb and always_latch blocks produced incorrect results during initialization.  A common symptom was that $monitor() displayed multiple values for the outputs of always_comb and always_latch blocks at time zero.</li>
<li>
Function calls, from Verilog HDL, to $enable_signal_spy()/$disable_signal_spy() were not accepted when the 3rd argument was specified.</li>
<li>
When the <b>tcheck_status</b> command was used with the vsim command line option +delayed_timing_checks a segmentation violation occurred in some cases.</li>
<li>
If an argument was given to vlog <b>-dpiheader</b> with a path delimiter in it (e.g. vlog <b>-dpiheader path/to/header.h</b>), the generated header file would contain illegal C syntax.</li>
<li>
In certain cases the simulator produced incorrect values for nets in SystemVerilog designs when the Verilog "force" was used with a constant value.</li>
<li>
Designs containing generate case statements with nested procedural blocks containing case statements encountered fatal errors during elaboration in certain cases.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 6.1f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 6.1f</b>
<ul>
<li>
The simuluator crashed if a vector port of an entity was contrained by an attribute on a generic and the entity was directly instantiated.</li>
<li>
A VHDL procedure which contains local array variables and calls a foreign subprogram crashed the simulator on rs6000 and rs64 platforms.</li>
<li>
Using the predefined attributes 'INSTANCE_NAME and/or 'PATH_NAME in a concatenation expression in some situations produce incorrect concatenation results.</li>
<li>
A variable assignment statement in a subprogram where both the target and right hand side were of an unconstrained array type would sometimes not detect array matching element test failures, possibly corrupting memory.</li>
<li>
An error will now be reported if <b>vcom -genxml entity</b> is executed and the entity has not been compiled into the library.</li>
<li>
A PORT MAP with an association element with a conversion function or type conversion (on either the formal part or actual part or both) could sometimes affect another unrelated PORT MAP for a component instance at a lower level, which would then attempt to perform the conversion for itself, causing spurious errors when the conversion failed.</li>
<li>
Repeated calls to file_open resulted in a memory leak if the file did not exist and if file_close was not called before the next file_open call.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 6.1f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 6.1f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 6.1f</b>
<ul>
<li>
The kernel crashed on Solaris when the user logged variables of type "short" or "unsigned short" within a SystemC module.</li>
<li>
sccom incorrectly errored out while parsing gcc options that took filenames as arguments.</li>
<li>
sc_fifo and tlm_fifo of classes defined in the C++ Standard Template Library caused the waveform viewer to crash in certain cases.</li>
<li>
The "View Declaration" and "View Instantiation" menu items were not working properly at a C Debug breakpoint.</li>
<li>
Improved performance of mixed-language vector ports in a Verilog or VHDL design instantiating a SystemC module.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="assertiondefects"></a><b>Assertion Defects Repaired in 6.1f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 6.1f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 6.1f</b>
<ul>
<li>
Taking a slice wider than 32-bits of a memory could generate incorrect results.</li>
<li>
The <b>-elab_load</b> option caused the following fatal error in the simulator startup script:<br>
<code>
can't read "Startup(-dpiexportobj)": no such variable
</code>
</li>
<li>
Dataflow operations on wide bus signals in large designs could be very slow.</li>
<li>
It was not possible to View Source for signal names in the Profile report windows. Also, specifying Showcalls and Expand All for a Structural Profile report window, containing signal names, exhausted GUI memory. Now, signal names in profile reports are of the form @signal@/x/y.</li>
<li>
Certain <b>readers</b> commands and dataflow operations on signals with high fanout  took a long time to complete.
</li>
<li>
The "View Declaration" and "View Instantiation" menu items were not working properly at a C Debug breakpoint.</li>
<li>
Turning on expression coverage caused a simulation difference in certain cases. This was related to assignment statements of more than one bit wide.</li>
<li>
The default value of IterationLimit has been made consistent.  Its default value is 5000.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 6.1f</b>
<ul>
<li>
dts0100320318 - Wave view in radix binary of a VHDL variable is wrongly converted.</li>
<li>
dts0100326503 - Issue in group signals.</li>
<li>
dts0100329112 - Wave window GUI display issue with unpacked array.</li>
<li>
dts0100329342 - Link a psl file to a hdl code from a project tab.</li>
<li>
dts0100309490 - Simulator crash in fork join block on a conditional statement.</li>
<li>
dts0100329393 - vsim crash with +delayed_timing_checks turned on.</li>
<li>
dts0100322134 - Unconstrained std_logic_vector causes crash.</li>
<li>
dts0100330744 - sccom reports a problem with C/C++ file extensions on repeated invocations following a good invocation.</li>
<li>
dts0100327862 - Crash during log of SystemC variables of type unsigned short.</li>
<li>
dts0100326396 - Dataflow window hangs with extremely large fanout.</li>
<li>
dts0100325412 - vopt generate issue.</li>
<li>
dts0100321077 - Crash when using the -hexadecimal switch with 'add wave'.</li>
<li>
dts0100308327 - Simulator crashes during design load.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 6.1f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 6.1f</b>
<ul>
<li>
Increase timing check capacities for optimized Verilog cells.</li>
<li>
Progress information is now included for loading the Dataflow window and is now displayed in the Dataflow window's footer.</li>
<li>
The <b>coverage report</b> and <b> vcover report</b> commands have been 
changed in how toggles are handled. Formerly, if the <b>-cover t</b> compile option was used for module A, and module A had a signal connected to module B,
then toggles would also be reported for module B. Now, if a module is not
compiled with the toggles option, toggles will not be reported for that module,
even if it has signals connected to toggle nodes.</li>
<li>
The Active Processes window now loads only those processes it needs for display.  This provides better interactive performance on designs with a large number of active processes when selecting a process from the Structure or Dataflow window.</li>
<li>
The coverage data files produced by the <b>coverage save</b> command have been
evolving. Originally toggle coverage data was in one global list; then toggles
were added to individual instances. But the global list was still saved. Now
there is no need for the global list and considerable space and time can be
saved by not saving it. A <b>-noglobals</b> option has been added to the 
<b>coverage save</b> command, which will eliminate saving of the global list.
Also, if you already have data files containing global toggles, you can use
the <b>vcover merge -noglobals</b> or <b>vcover report -noglobals</b> option to
quickly skip the global list.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 6.1f</b>
<ul>
<li>
<b>vcover merge</b> has a new option <b>-du duname [-recursive]</b>. Use this
option to merge all the instances of design unit duname from all the input
files. With the <b>-recursive</b> option it will merge the design subtree
all the way down; otherwise it merges just one level. The output will be one
instance of the design unit, containing all the merged
data (actually a tree if <b>-recursive</b> is used). The default result instance
path will be the path of the first instance of the specified du that
it finds; to change the result path, use
the <b>-install</b> option. The duname specified to <b>-du</b> may be of the form 
[library.]primary[(secondary)].</li>
</ul>
</BODY>
</HTML>


<HEAD>
<TITLE>5.8 Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.8
<br></h1></center>
<center>
&nbsp;Copyright Model Technology, a Mentor Graphics
<br>
&nbsp;Corporation company, 2003 - All rights reserved.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Nov 13 2003</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.8</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.8</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.8</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.8</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.8</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
The following platform changes are effective as of the 5.8 release.<BR>

<UL>
<LI>For Linux: 
<UL>
<LI>Linux is built on RedHat Enterprise Workstation 2.1. This version is compatible with RedHat 7.2 and higher. 
<LI>RedHat 6.0 through 7.1 will be supported for one release with a new platform vco, called linux_rh60. 
<LI>RedHat 9.0 is now supported (32-bit only).
<LI>We will soon validate 32-bit ModelSim on the Opteron platform (in 32-bit mode only). The first OS to be supported is SuSE SLES 9. It is not recommended to run 32-bit ModelSim on versions of SuSE earlier then 9. At the time of writting this release note, ModelSim has not been validated on SuSE 9 although this validation should be complete in a week or two.
<LI> Linux now supports large files. 
</UL>
<LI>For AIX:
<UL> 
<LI>rs64 is built on AIX 5.1 and, as such, supports AIX 5.1 and higher OS versions. 
<LI>rs64 no longer supports AIX 4.3.
<LI>rs64 will support large files if you are using a JFS type file system and the large file option is enabled.
<LI>AIX version 4.2 is discontinued.
</UL>
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 5.8 
Betas or 5.7x or earlier release versions. See "Regenerating your Libraries" 
in the <i>ModelSim Installation & Licensing Guide</i> for more information on refreshing your models. 
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in ModelSim version 5.5c or greater.

</li>
<li>
Product changes and new features mentioned here are introduced in the 5.8 
release. If you are migrating to the 5.8 release from 5.7x or earlier releases,
please also consult version 5.7x release notes for product changes and new 
features introduced during the 5.7 patch releases. The previous version 
release notes can be found in your modeltech installation directory at 
docs/rlsnotes.
</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the ModelSim
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
Beginning with the 5.8 release, FLEXlm licensing software is upgraded to version 8.2. For floating licenses it will be necessary to verify that the vendor daemon (i.e., modeltech or mgcld) and the license server (i.e., lmgrd) have FLEXlm versions equal to or greater than 8.2.  The vendor daemons and lmgrd that are shipped with this release will be FLEXlm version 8.2.  If the current FLEXlm version of your vendor daemon and lmgrd are less than 8.2 then it will be necessary to stop your license server and restart it using the vendor daemon and lmgrd contained in this release.  If you use nodelocked licenses you don't need to do anything.</li>
<li>
Beginning in the 5.8 release, ModelSim will no longer support SDF files compressed in the Unix compress format (.Z), but will support the GNU zip format (.gz).  Therefore, ModelSim will read in compressed SDF files that are created only with GNU zip (gzip).  ModelSim does not require the file to have a .gz extension, but it will error on files that do have a .Z extension.</li>
<li>
The vcom compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches -87, -93, or -2002, or<br>
<LI>set the VHDL93 variable in the [vcom]section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
</li>
<li>
ModelSim's SystemC support has dependencies on both operating system version and C++ compiler version.  The OS support is slightly different than ModelSim's OS support for designs without SystemC content. Also, 64-bit compilation is not supported for SystemC designs.
<br>
Supported Operating Systems and C++ compilers:<br>
<ul>
<li>RedHat 7.3 and greater, gcc 3.2</li>
<li>SunOS 5.6 and greater, gcc 3.2</li>
<li>HP-UX 11.0 and greater, aCC 3.45 (with associated patches)</li>
</ul>
</li>
<li>
ModelSim LE does not support VHDL. However, it does support Verilog and SystemC.</li>
<li>
CDEBUG compatability information by platform.<BR>
<UL>
<LI>On HP-UX 11.0, ModelSim uses the built-in HP wdb 3.3 program as the underlying C/C++ debugger.  In order to run wdb successfully, you must have installed HP-UX PHSS_23842, or a superseding patch.  Without this patch installed, error messages will occur during CDEBUG startup.
<LI>On rs6000, gdb-6.0 works with gcc-3.2. Additionally, when creating shared objects, 'ld' (/bin/ld) should be used,not 'gcc'.
This combination work on both AIX-4.3 and AIX-5.1. On AIX-5.1, either of
the gcc-3.2 compilers can be used (either gcc-3.2-aix43 or gcc-3.2-aix51).
The native compiler /bin/cc is not compatable with gdb-6.0.
</UL>

</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8, 9
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.8</b>
<ul>
<li>
The <b>coverage reload</b> command was missing the <b>-root</b> and <b>-incremental</b> options in the GUI.</li>
<li>
The Source window examine and describe operations could not handle aliases and array elements.</li>
<li>
Verilog named events were not displayed correctly in the List window.</li>
<li>
Projects now have a mechanism for adding miscellaneous options to compiles.
</li>
<li>
The user could not break when a .wlf file was loading if the file was opened with the Open Dataset dialog.</li>
<li>
Environment variable references for project files were not saved in the ".mpf" file.</li>
<li>
Coverage report filters did not work in the case of reporting on a specific instance or a source file.</li>
<li>
For rs6000 and rs64 only, the Tcl Stubs interface must be used for building and loading shared libraries in Tcl.  The Init function in the shared library must call Tcl_InitStubs() like this:
<PRE>
    if (Tcl_InitStubs(interp, TCL_VERSION, 1) == NULL) {
        return TCL_ERROR;
    }
</PRE>
The shared library must be linked with the tclstub archive using these switches:
<PRE>
    -L<path to>/modeltech/rs6000 -ltclstub8.3
</PRE>
Other platforms may optionally use the preferred Stubs method.</li>
<li>
The <b>-sdfmaxerrors</b> option was ignored when used at the ModelSim prompt and could cause a crash if "<b>-sdfmaxerrors 1</b>" was specified.</li>
<li>
When the PrefMain(LinePrefix) option was set to an empty string (""), output to the transcript was sometimes chopped off.</li>
<li>
The File menu in the Wave window has been changed by removing Open Dataset, Load Format, Save Dataset, Save Format, and Save Image and adding the following instead:<br>
File > Open > Dataset<br>
File > Open > Format<br>
File > Save > Dataset<br>
File > Save > Format<br>
File > Save > Image</li>
<li>
After executing the <b>quit -sim</b> command, the <b>report simulator state</b> command reported "now" and "delta" to be their values at the end of
simulation. When not simulating, these values are now both 0.</li>
<li>
Waveform selection highlighting on Windows platforms caused the selected waveform to be drawn as a solid grey bar.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.8</b>
<ul>
<li>
Verilog generate statements are now supported in <b>-fast</b> mode.</li>
<li>
Verilog path pulse violation messages were changed to report port name rather than net name.</li>
<li>
Ordered parameter instantiations now ignore localparams in the instantiated module.</li>
<li>
When compiling a Verilog file with the <b>-fast</b> or <b>+opt</b> switch, VHDL configurations could not be referenced by Verilog. This restriction is now removed.</li>
<li>
Assigning a floating point value to an element
of an array of time caused upper-level bits
to get lost (set to zero).</li>
<li>
A hierarchical path that includes a generate block indexed with a variable is illegal. The compiler now returns an error in this case. 
</li>
<li>
Timing checks with zero-width violation regions and negative limits were ignored in delay net delay solution calculations.</li>
<li>
Hierarchical references to the ports of optimized cells could cause them to not be optimized.</li>
<li>
The X and Z fill was incorrectly occurring for
some sized literal constants when assigned to
a larger sized variable or net.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.8</b>
<ul>
<li>
Verilog generate instances were not accessible through the PLI.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.8</b>
<ul>
<li>
In some contexts, a vcom compilation error was generated when a user comment line of the form "-- coverage" was confused with the pragmas "-- coverage on" and "-- coverage off".</li>
<li>
<b>vcom</b> previously allowed a generate statement without a BEGIN keyword between the declarative items and the concurrent statements. Now a warning message is issued, 
or, if the <b>-pedanticerrors</b> option is used, an error message is given, since this is technically illegal VHDL.</li>
<li>
Declaring a very large array within a subprogram on Windows platforms in some cases caused a crash. The available stack space was increased.</li>
<li>
In some cases if a package was compiled with optimization level <b>-O0</b> or <b>-O1</b> and the design unit using the package was compiled with <b>-O4</b> or <b>-O5</b>, an incorrect simulation resulted.  The problem also occurred if the package was compiled with <b>-O4</b> or <b>-O5</b> and the using design unit was compiled with <b>-O1</b> or <b>-O0</b>. For this to occur the package had to define constants that were initialized with expressions that used &, or any function from std_logic_arith or numeric_std, and contained a vector as the result of the expression or subexpression.</li>
<li>
In previous releases ModelSim failed to check that a resolution function was not included in a declaration when declaring an access type.


</li>
<li>
Syntax error messages generated by vcom no longer convert the text found "near" the error to lowercase; the text is displayed as it is found in the source file.</li>
<li>
The `path_name attribute returned the wrong value if used within a clocked process and other clocked processes with the same clock and reset existed
in other instances in the design. The correct path_name is now returned.</li>
<li>
The VHDL compiler reported size errors within generate statements at
compile time even if the condition was locally static and FALSE. This
prevented valid designs from compiling. In 5.8 the compiler now checks
the generate condition. If the generate condition is false, then no error or warning is reported if a size mismatch is found.  If the condition is locally
static and true, and a size mismatch is found, then an error is reported. If
the condition is not locally static, a warning is issued if a size mismatch
is found.</li>
<li>
In some cases, an optimized VHDL array signal set to a value with the FLI function mti_SetSignalValue() did not correctly log to the WLF file the next transition on the array.</li>
<li>
Lengths of non-static array elements of aggregates were not compared with the declared type's array lengths. A simulator error message is now issued in the event of a mismatch.</li>
<li>
Under <b>-O5</b> optimization, assignments to the first field of a record in some
case were erroneously hoisted out of a loop despite dependence on values computed in the loop.</li>
<li>
If a qualified expression q'(e) was used in a context where the type of e was illegal, the compiler did not identify the error if q was unconstrained. For example, if v was declared as string(1 to 3), the assignment
<br>
<code>
v := string'("00");
</code>
<br>
did not produce an error report. Type checking was strengthened for qualified expressions, ensuring that a qualified expression's type is not more general than its contained expression.</li>
<li>
The VHDL compiler incorrectly diagnosed a mismatch between the declaration of a subprogram in a package header and its definition in the package body when parameters to the subprogram had non-static constrained types, even though the types were lexically identical.</li>
<li>
Some non-static slices of arrays of arrays failed when used as targets in signal assignments.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.8</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.8</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.8</b>
<ul>
<li>
A VITAL model driving a Verilog module using multisource interconnects annotated incorrectly if the SDF file used an uppercase module name for the VITAL cell.</li>
<li>
In some cases the wrong driver was found when annotating multisource interconnects from Verilog cells to VITAL cells.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.8</b>
<ul>
<li>
In rare cases the simulator crashed, while stepping over or breaking at certain lines of code, or incorrectly reported the current line number.</li>
<li>
Versions of hp700 ModelSim newer than 5.5f crashed at load time with a SIGILL. 
The SIGILL occurred on HP B180 9000/778 computers running HPUX 11.X.</li>
<li>
In rare cases, single-stepping produced the error "Cannot disassemble opcode!".</li>
<li>
In some cases <b>vcd2wlf</b> crashed when similar VCD IDs were shared between variables of differing types (i.e., wire and reg).</li>
<li>
VCD files generated from "vcd dumpports" or $dumpports were limited to a maximum of 10,000 ports. That limit has been removed.</li>
<li>
<b>wlf2log</b> did not run fast enough in some cases. The performance is now substantially improved.</li>
<li>
<b>vcd2wlf</b> could crash with non-MTI generated VCD files containing same VCD IDs of differing types.</li>
<li>
A problem was introduced in 5.7e with extended identifier names that look like arrays. There was also a problem with escape characters in names which caused redundent backslash characters. For example, the following expression "\\\foo[0][0]\" is now corrected to be "\foo[0][0]\".
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.8</b>
<ul>
<li>
DR 00128501 - Out-of-range messages involving real data-types are now reported
               with greater precision. This avoids the rounding that could result
               in confusing messages, such as "Value -1 is out of range -1 to 1."</li>
<li>
DR 00146869 - 
The PROCEDURE modelsim_lib.util.signal_force
sometimes failed or crashed when called
multiple times with a string literal actual
for the 2nd argument (formal "force_value").
</li>
<li>
DR 00150322 - In the Wave window, when you enable Waveform Selection
Highlighting Enabled(In Tools-Window Preferences), the waveforms
are never highlighted. <P>

The issue was that waveform selection highlighting on Windows platforms caused the selected waveform to be drawn as a solid grey bar.</li>
<li>
ER 00127368 - Add support to ModelSim for Verilog 2001 configurations.</li>
<li>
DR 00120581 - Sub-program array allocation causes ModelSim to crash.</li>
<li>
DR 00108141 - Simulation performance slowness in interactive session.</li>
<li>
DR 00105824 / SC338893 - Optimized Verilog assignments are missing the "arrow" when viewing the source.</li>
<li>
ER 00104707 / SC337651 - New option at compilation to get LRM paragraph in case of error.</li>
<li>
ER 00100947 - Would like ModelSim to be able to view .zip source files.</li>
<li>
ER 00094891 / SC306091 - Would like Lmtools added to ModelSim.</li>
<li>
ER 00094808 - Would like switch to show missing ports.</li>
<li>
ER 00084019 - Wave Window performance is incredibly slow.</li>
<li>
DR 00106821 - misleading message: (All branch statements covered).</li>
<li>
ER 00064559 / SC160875 - Change command should work predictably with generics.</li>
<li>
DR 00152560 - Wrong simulation behavior of fifo.</li>
<li>
DR 00152522 - nolog switches -in, -out, -inout, -internal and -ports; #
Unrecognized switch.</li>
<li>
DR 00108141 - Simulation performance slowness in interactive session.</li>
<li>
DR 00105105 - Instance Coverage window not linked to Source window correctly.</li>
<li>
ER 00112410 - Cross-highlight a signal in all windows.</li>
<li>
ER 00121310 - No warning when using vlog option in compilation commands.</li>
<li>
DR 00142374 - Crash related to VPI.</li>
<li>
DR 00150004 - A function name exists both in modelsim kernel and FLI application.
In one case, the function name was "drive_signal". As a workaround, the user can change the function name in the FLI application.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.8</b>
<ul>
<li>
During code coverage on packages, each package needs to be in a separate
file and not be mixed with entities or architectures, or the statistics
will be merged together.</li>
<li>
In the RedHat 9.0 environment, when a Dataflow window is opened, vish may hang. The work-around is to set the following environment variable prior to invoking the vsim session.<br>
<code>
C-Shell Syntax<br>
setenv LD_ASSUME_KERNEL 2.4.1<br>
</code>
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.8</b>
<ul>
<li>
Changed the limitation that allows running only one instance of PE on a machine with a node-locked license so that one instance of any OEM can be run on the same machine where one instance of PE is running.</li>
<li>
The <b>change</b> command was rewritten so that it now allows you to change
more objects than was previously possible.  See the <b>change</b> command documentation in the ModelSim Command Reference for details.
</li>
<li>
The <b>quit -sim</b> command now causes the simulation kernel to exit, leaving the user interface running. The FLI quit callback is called when the kernel exits. In previous versions of ModelSim the restart callback was called for <b>quit -sim</b>. In cases where the <b>-keeploaded</b> command line argument is used, the kernel does not exit and <b>quit -sim</b> results in a restart callback as before. The <b>restart</b> command does not cause the kernel to exit, so the restart callback is called as before. If a simulation is loaded after <b>quit -sim</b>, then mti_IsFirstInit() returns true.</li>
<li>
The gdb debugger is now distributed with ModelSim.  This eliminates the need for users to track compatability between gdb versions and ModelSim's CDEBUG feature.  As a result, the CDEBUG Setup dialogue now has a "default" selection for the path to gdb.  Users can still use custom versions of gdb at their own discretion by choosing the "custom" selection.</li>
<li>
ModelSim now automatically launches the gdb debugger when users issue debug commands on C/C++ source files.  If you try to set a breakpoint while viewing a C/C++ source file, or if you issue a "gdb" command at the VSIM> prompt, gdb will be automatically launched (if it is not already running).</li>
<li>
The "Start Here for ModelSim" manual has been renamed. The new title is "ModelSim Installation & Licensing."</li>
<li>
ModelSim will now report the name of unconnected ports as part of the "Too few port connections." [TFMPC] warning.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.8</b>
<ul>
<li>
A change was made in the Dataflow window to be able to show VHDL record elements instead of showing the entire record.</li>
<li>
Two new features were added to the Dataflow window to expand nets to:<br>
- Primary design inputs<br>
- Primary hierarchical inputs
</li>
<li>
The new commands <b>setenv</b> and <b>unsetenv</b> have been added.  These commands will add, modify, or remove environment variables in the context of the simulator and user interface. They are used to keep these two ModelSim processes synchronized.</li>
<li>
Code Coverage was enhanced in 5.8 to include condition coverage and
expression coverage. Please see the User's Manual for details. Also, coverage
was changed so that only statement coverage is on by default. Branch,
condition, and expression coverage require compile time options of the form
<b>-cover bcetx</b> where "b" turns on branch, "c" turns on condition, and "e"
turns on expression coverage for the design units being compiled. "t" and "x", which are mutually exvlusive, turn on toggle and extended toggle coverage respectively for all signals in the compiled design units. Coverage reports now include source code with the metrics.</li>
<li>
Toggle coverage for 5.8 was enhanced to include Verilog registers, and
now has an extended mode that includes transitions to and from Z or X. The
extended mode is invoked using the <b>-full</b> option with the <b>toggle add</b> command. Toggle coverage can be turned on at compile time using <b>-cover t</b> or <b>-cover x</b>. "t" turns on 2-edge toggle coverage and "x" turns on 6-edge extended coverage.</li>
<li>
A new code coverage merge utility, <b>vcover merge</b>, has been added, that
merges sets of coverage data without requiring elaboration of the design 
and without requiring a simulation license. <b>vcover stats</b> prints summary
coverage data on files and print summary information after each file in
a group is merged. The save/reload file now includes toggle data and 
exclusion information. Please see the ModelSim Command Reference for details on using <b>vcover</b>.
</li>
<li>
Virtual Types now support don't-cares. There are two ways to specify them:
either using the '-' character in a binary or hex notation value, or by giving
a separate mask value. For example: <p>
virtual type {{0x01-- add}{0x02-- sub}{default bad}} mydecodetype<p>
virtual type {{0x0100 0xff add}{0x0200 0xff sub}{default bad}} mydecodetype<p>
In the second example, the middle field is the mask, and the mask should have
bits set to 1 for the bits that are don't care. Virtual types support up to
64 bits of value and mask.</li>
<li>
A new Memory window has been introduced in ModelSim 5.8. This window has the ability to view arrays of signals and variables.  Besides viewing, the ability to search, modify, save to file, and restore from file are also supported.  The Memory window is available in the GUI under the View->Memory menu selection.  For batch support of memories, there is a new <b>mem</b> command. Please consult the User's Manual for further details.</li>
<li>
ModelSim 5.8 includes support for Verilog 2001 automatic tasks and functions.</li>
<li>
Functions which meet the requirements of a constant function in the Verilog 2001 LRM may now be used in constant expressions.</li>
<li>
VHDL2002 features:<br>

<OL>
<LI>The compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches -87, -93, or -2002, or<br>
<LI>set the VHDL93 variable in the [vcom]section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
<LI>Buffer ports may now be associated with ports of mode OUT or INOUT.
They may also have more than one source. See IEEE VHDL Language Reference
Manual 1076-2002 Section 1.1.1.2 for details.<br>

<LI>Section 5.2.2 of the IEEE VHDL Language Reference Manual VHDL-2002
clarifies the rules for finding entity names for default binding. The rules that ModelSim has always used are an extension of the rules described in the IEEE LRM. ModelSim's search rules are described in "Default binding rules for VHDL resource libraries" in Chapter 3 of the ModelSim User's Manual. Starting with this release, if ModelSim uses rules beyond those given in the IEEE LRM,
then a warning message is issued, or, if the <b>-pedanticerrors</b> compiler
option is selected, an error is reported.<br>

<LI>Protected types are recognized but not implemented.
</OL>
Differences between VHDL-87, VHDL-93, and VHDL-2002:<br>
Since the default VHDL language version for vcom has changed from VHDL-87 to
VHDL-2002, some programs will no longer compile unless either the source code is updated to be compatible with VHDL-2002 or VHDL-1993, or the language version is reset to VHDL-87.
<BR>
Here are some things to look for to identify language incompatibilities;
<OL>
<LI>The only major problem between VHDL-93 and VHDL-2002 is the
addition of the keyword "PROTECTED". VHDL-93 programs which use this
as an identifier should choose a different name.
<BR>
All other incompatibilities are between VHDL-87 and VHDL-93.

<LI>VITAL and SDF:<br>

It is important to use the correct language version for VITAL.
VITAL2000 must be compiled with VHDL-93 or VHDL-2002.
VITAL95 must be compiled with VHDL-87.

A typical error message which indicates the need to compile under
language version VHDL-87 is:
<BR>
"VITALPathDelay DefaultDelay parameter must be locally static"
<BR>
<LI>Purity of NOW:<br>
In VHDL-93 the function "now" is impure.
Consequently, any function which invokes "now" must also be
declared to be impure. Such calls to "now" occur in VITAL.

Typical error message:
<BR>
"Cannot call impure function 'now' from inside pure function '&lt;name>'"
<BR>
<LI>Files:<br>
File syntax and usage have changed between VHDL-87 and VHDL-93.
In many cases vcom issues a warning and continues:
<BR>
"Using 1076-1987 syntax for file declaration."
<BR>
In addition, when files are passed as parameters, the following
warning message is produced:
<BR>
"Subprogram parameter name is declared using VHDL 1987 syntax."
<BR>
This message often involves calls to endfile(&lt;name>) where
&lt;name> is a file parameter.

<LI>Files and packages:<br>
Each package header and body should be compiled with the same language
version. Common problems in this area involve files as parameters and
the size of type CHARACTER.
For example, if a package header and body have a procedure which has a file
parameter, such as:
<BR>
  procedure proc1 ( out_file : out std.textio.text) ...
<br>
If you compile the package header with VHDL-87 and the body with
VHDL-93 or VHDL-2002, you will get an error message such as:
<BR>
"** Error: mixed_package_b.vhd(4): Parameter kinds do not conform between 
declarations in package header and body: 'out_file'."

<LI>Direction of concatenation:<br>
To solve some technical problems, the rules for direction and
bounds of concatenation were changed from VHDL-87 to VHDL-93.
You won't see any difference in simple variable/signal assignments
such as:<BR>
v1 := a & b;<BR>
But if you (1) have a function which takes an unconstrained array
as a parameter, (2) pass a concatenation expression as a formal argument
to this parameter and (3) the body of the function makes assumptions about
the direction or bounds of the parameter, then you will get unexpected results.
This may be a problem in environments which assume that all arrays have
"downto" direction.

<LI>xnor:<br>
"xnor" is a reserved word in VHDL-93. If you declare an xnor function
in VHDL-87 (without quotes) and compile it under VHDL-2002 you will get an
error message like the following: 
<BR>
** Error: xnor.vhd(3): near "xnor": expecting: STRING IDENTIFIER

<LI>'FOREIGN attribute<br>
In VHDL-93, package STANDARD declares an attribute 'FOREIGN.
If you declare your own attribute with that name in another package,
then we issue a warning message such as the following:
<BR>
-- Compiling package foopack<br>
** Warning: foreign.vhd(9): (vcom-1140) VHDL-1993 added a definition of the 
attribute foreign to package std.standard. The attribute is also defined in package 'standard'. Using the definition from package 'standard'.

<LI>Size of CHARACTER type:<br>
In VHDL-87 type CHARACTER has 128 values, in VHDL-93 it has 256
values. Code which depends on this size will behave incorrectly.
This is most likely to occur in test suites that check VHDL functionality.
It's unlikely to occur in practical designs.

A typical instance is the replacement of warning message:
<BR>
"range nul downto del is null"
<BR>
by
<BR>
"range nul downto 'ÿ' is null" -- range is nul downto y(umlaut)

<LI>bit string literals:<br>
In VHDL-87 bit string literals are of type bit_vector. In VHDL-93 they
can also be of type STRING or STD_LOGIC_VECTOR. This implies that
some expressions that are unambiguous in VHDL-87 now become ambiguous
is VHDL-93. A typical error message is:
<BR>
** Error: bit_string_literal.vhd(5): Subprogram '=' is ambiguous. 
Suitable definitions exist in packages 'std_logic_1164' and 'standard'.<BR>

<LI>In VHDL-87 when using individual subelement association in an association
list, associating individual subelements with NULL is discouraged. In VHDL-93
such association is forbidden.  A typical message is:
<BR>
"Formal '&lt;name>' must not be associated with OPEN when subelements are
associated individually."
</OL>
</li>
<li>
ModelSim 5.8 supports SystemC as a native simulator language.  The <b>sccom</b> command is used to compile SystemC files into the design library.  Verilog and VHDL design units can instantiate SystemC design units, and SystemC design units can instantiate Verilog or VHDL design units.  The GUI tools such as the Structure, Signals, and Wave windows all support SystemC objects in a native fashion. Please refer to the User's Guide for more details.  </li>
<li>
The <b>describe</b> command now supports instance names.  This command will provide design unit information including source file pathname(s) for instances.</li>
<li>
Project compile status now indicates whether a succesful compile has warnings or not.  The warning status is displayed as a different icon.  </li>
<li>
When suspending ModelSim with "^Z" in the parent shell or by sending a SIGTSTP signal to the vish process or to the process group for vish/vsimk, all the checked out licenses will be checked in.  When "unsuspending" or continuing ModelSim by using "bg" or "fg" in the parent shell or by sending a SIGCONT signal to the vish process or to the process group for vish/vsimk, ModelSim will attempt to re-aquire the licenses needed to resume.<BR>

In order to keep the licenses from being checked in when suspending ModelSim, you must set the environment variable RELEASE_ON_SUSPEND to 0. If this environment variable is unset, the default behavior is to check in licenses when ModelSim is suspended.<BR>

It's recommended that all signals only be sent to the vish process or the vish/vsimk process group. Never send signals to the vlm process.</li>
<li>
Users can now add files directly to Project folders by dragging the files onto a folder and releasing.  When the cursor is over a project folder, the folder will highlight, which indicates it is the drop point. (Windows version only).</li>
<li>
A new dialog called "Project Settings" is now available in the Project window. This dialog allows users to specify global project settings.  Currently the dialog allows users to specify the double-click behavior for each file type, how compile output should be handled, and whether location maps are used.</li>
<li>
Support of compressed files (GNU zip format - .gz) in ModelSim 5.8 is as
follows:<br>
<UL>
<li>VCD - Supports writing and reading of compressed files.  When
specifying VCD file names for writing via ModelSim commands or
Verilog system tasks, names that end in .gz will result in the
creation of a compressed file.  ModelSim VCD commands also have
a <b>-compress</b> switch which creates a compressed file with a .gz
extension. When reading compressed VCD files, a .gz extension
is not required.</li>

<li>SDF - Supports reading of compressed files.  The .gz extension is
not required.</li>

<li>Checkpoint/Restore - Supports writing and reading of compressed
files.  The compression of the checkpoint file is controlled
solely by the CheckpointCompressMode variable in the modelsim.ini
file.  The .gz extension is not appended when writing and not
required when reading.</li>

<li>Elab/Load_Elab - Supports writing and reading of compressed files.
The creation of a compressed elaboration file is controlled by
the <b>-compress_elab</b> vsim command line switch.  The .gz extension
is not appended when writing and not required when reading.</li>

<li>vcom/vlog - Supports reading of compressed files.  The .gz extension
is not required.</li>
<li>Source window - can view and edit compressed files, but cannot create a new compressed file.  The .gz extension is not required.</li>
</UL>
</li>
<li>
SuSE Linux support notes:<br>
ModelSim 5.8 does not officially support SuSE Linux, but the software has been cursorily tested and validated on SuSE 8.2 Professional. If you are running on SuSE 8.2 and you would like to try ModelSim 5.8, please make sure that you have the "statd" RPM installed and operational.  You must have the rpc.statd daemon running, which doesn't appear to be the SuSE default. Also, please make sure you install the "termcap-developer" RPM.</li>
<li>
Code coverage now supports instance-specific exclusions. These
exclusions can be specified in an exclusion file or via the GUI,
are saved and reloaded with the <b>coverage save</b> and <b>coverage reload</b>
commands, and can be merged using the <b>vcover merge</b> utility or the
<b>coverage reload</b> command.</li>
<li>
WLF file optimization provides substantial wave drawing performance improvement at large zoom levels.  The optimizations are enabled by default.  They can be disabled using the vsim option <b>-wlfnoopt</b>.</li>
</ul>
</BODY>
</HTML>


<HEAD>
<TITLE>5.7e Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> SE/PE 5.7e
<br></h1></center>
<center>
&nbsp;Copyright Model Technology, a Mentor Graphics
<br>
&nbsp;Corporation company, 2003 - All rights reserved.
</center>

&nbsp;
<blockquote>
<blockquote>
<center><b>Jul 15 2003</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation, supported platforms, and licensing, see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>How to Get Support</b></li>

<br>For information on how to obtain technical support visit the support
page at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>

<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.7e</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.7e</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.7e</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.7e</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.7e</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
The following platform will be discontinued as of the ModelSim 5.8 release:<br>
<UL>
<LI>AIX 4.2
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 5.7 
Betas or 5.6x or earlier release versions. See "Regenerating your Libraries" 
in the ModelSim Start Here Guide for more information on refreshing your models. 
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in ModelSim version 5.5c or greater.

</li>
<li>
Product changes and new features mentioned here are introduced in the 5.7e 
release. If you are migrating to the 5.7e release from 5.6x or earlier releases,
please also consult version 5.7x release notes for product changes and new 
features introduced during the 5.7 patch releases. The previous version 
release notes can be found in your modeltech installation directory at 
docs/rlsnotes.
</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the ModelSim
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
In the next major release, the linux platform executables will be built on 
RedHat Enterprise Workstation 2.1. This version is compatible with RedHat 7.2 
and higher. RedHat 6.0 through 7.1 will be supported for one release with a new
platform vco.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.7e</b>
<ul>
<li>
The simulator could not load a design whose name was an escaped identifier (DR 00029779).</li>
<li>
A previous invocation with a generic was remembered even when it was not part of a  Simulation Configuration.</li>
<li>
Inconsistent warnings occurred when invoking on edited HDL code.</li>
<li>
A generic value mapping that was set in a simulation configuration was not used when the project simulation was invoked (DR 00103797).</li>
<li>
The <b>compare info</b> command did not always output results. This occurred most  often when using the <b>-write &lt;filename&gt;</b> option and there were no compare differences. Now the command will always produce a summary report even when there are no miscompares.</li>
<li>
A simulation configuration would not allow the use of multiple do files.</li>
<li>
In the C Debug tool during init mode, it was possible to delete or disable reserved breakpoints thereby preventing a design from being completely loaded.</li>
<li>
In some cases a function parameter was the wrong size in the Variables window 
(DR 00080624).</li>
<li>
The interpretation of end-of-line in .do files was different between UNIX and DOS. Now the TCL end-of-line recognition mode is used.</li>
<li>
Searching for Verilog net values greater than 32 bits did not work in the Wave or List windows.</li>
<li>
Projects did not track warnings.</li>
<li>
The Source window incorrectly displayed a source file as though it were empty after externally editing the file and restarting the simulator.</li>
<li>
Dragging an instance from the Instance Coverage window to the Wave window failed.</li>
<li>
Verilog named events were not displayed correctly in the List window.</li>
<li>
Expanded regions or signals in the Structure or Signals windows collapsed
after an attempt to add a non-existent signal to the Wave window or List window.</li>
<li>
A hang occurred during the <b>restart</b> command if the Structure window was sorted in any order other than the default declaration order.</li>
<li>
The compare option <b>-noignoreVlogStrength</b> did not work correctly.
This option can be accessed via the command line or from the
"Ignore Verilog Strength" checkbutton in the Compare Options dialog.</li>
<li>
Logged signals within Verilog named blocks were not visible
when the WLF file was opened in -view mode.</li>
<li>
The Expression Builder failed to save expressions containing spaces.
</li>
<li>
Virtual signals failed to handle VHDL BOOLEAN types correctly.
</li>
<li>
The Expression Builder failed to display the reason for a parsing failure.
The detailed reason is now displayed.</li>
<li>
In rare cases, the WLF reverse search mechanism would fail to find a signal transition.</li>
<li>
Editing dofiles in a project executed the dofile instead. A new menu item has been added to execute the dofiles.
</li>
<li>
On Windows platforms only, in some cases an error occurred when the vsim.wlf file was in use. This resulted in an invalid wlf file name or a simulation crash.</li>
<li>
The <b>force</b> command accepted at most three comma-separated indices within a single set of parentheses.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.7e</b>
<ul>
<li>
A design containing a $value$plusargs system task resulted in a false "Second argument must be a modifiable variable" elaboration error message if the design was compiled with <b>-fast</b>.
</li>
<li>
A design compiled with <b>-fast</b> might not have properly computed posedge or negedge events on vector nets that were determined by the compiler to be "vectored" nets.</li>
<li>
Filenames reported in compiler errors immediately after `includes were incorrect.</li>
<li>
The <b>nolog</b> command did not match logged ports of optimized cells.</li>
<li>
The system task $sscanf was returning 1 for early miscompares instead of 0.</li>
<li>
When optimizing designs with <b>-fast</b>, if the size of the design was large and
a 32-bit version of vlog was running, spurious errors were generated in some cases. Most errors appeared to be caused by wires/registers not exisiting or
multiple copies existing. (For example, an error stating a named object
already exists.) These errors were generated during the optimization pass.</li>
<li>
Indexed part-selects might not have simulated correctly when
inside generate loops.</li>
<li>
The count expression of a repeat statement was truncated rather than rounded if the expression was of type real.</li>
<li>
Changes to disable timing check messages and X generation (using the tcheck_set command) were not sticking when the timing check's initial limit value was zero.</li>
<li>
A $monitor call containing a hierarchical reference to an optimized cell port in some cases crashed the simulator.</li>
<li>
Compiling a design containing multiple always blocks having event controls on bit-selects of the same vector register resulted in an internal compiler error in some cases.</li>
<li>
A hierarchical reference where the first name in the path refers to the name of the module containing the reference resulted in a compile error if the design was compiled with <b>-fast</b>.
</li>
<li>
The Verilog compiler accepted strings that extended across lines (this is not syntactically correct). It now produces a warning when this occurs, unless <b>+nowarnEXTSTR</b> is used.</li>
<li>
The Verilog LRM states that it is illegal to have multiple drivers on specify path destination ports. Before version 5.7, ModelSim did not enforce this even though the simulation results in these cases could be incorrect. In 5.7, ModelSim started generating an error. This caused elaboration errors in some scenarios, forcing users to go through extensive rewriting to achieve desired funtionality. This error message has been removed and the simulator modified such that it gives the correct results in the case of multiple drivers.</li>
<li>
Some cases of ternary expressions where both choices were equivalent constant values resulted in a compiler internal error.
</li>
<li>
Non-blocking assignments didn't evaluate correctly in some cases when used with sequential UDPs (<b>+nocheckSUDP</b>).</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.7e</b>
<ul>
<li>
The "workarea" field of the current instance was restored to its <b>-elab</b>
value instead of being reset to NULL during a <b>-load_elab</b>.
Since the data it pointed to was not restored (instead, being regenerated
via the playback of tf calls during <b>-load_elab</b>), it essentially pointed
to uninitialized data.</li>
<li>
Verilog generate instances were not accessible through the PLI.</li>
<li>
In rare cases Verilog designs crashed due to an optimization related defect.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.7e</b>
<ul>
<li>
When designs were compiled with <b>-O0</b>, in some cases indexing into REAL arrays caused the simulator to erroneously report index out-of-range errors. This occurred only on 64-bit platforms.</li>
<li>
ModelSim allowed character literals to be aliased to non-enumeration literals as prohibited by IEEE Std 1076-2002.</li>
<li>
If a scalar alias of a vector signal was driven within multiple processes, incorrect simulation results or crashes occurred in some cases.</li>
<li>
Type descriptors for default values of generics appearing in entities were not
correctly initialized when bound to component instantiations by configurations.</li>
<li>
A synchronous process with an asynchronous reset could have behaved incorrectly
during reset.  The following conditions must have occurred:<br>
1) The reset portion of the process must have read a signal.<br>
2) The signal being read did not appear in the sensitivity list.<br>
3) The signal being read changed value after the reset condition became true.<br>
4) The clock signal must have had an event other than the rising/falling edge
   that triggered the flip-flop.<br>
If all of these conditions were true, then the flip-flop would have an incorrect value on its output.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.7e</b>
<ul>
<li>
When using the <b>-elab_defer_fli</b> switch, the simulator crashed when
generating the elab file if Verilog code was present in the design.</li>
<li>
If a fatal error occurred while executing an FLI entry point initialization routine, then subsequent attempts to load a design within the same invocation of the ModelSim application resulted in corrupted generic and port lists being passed to FLI applications.</li>
<li>
mti_GetParentSignal() in some cases crashed the simulator when the 
parent of a VHDL signal was a constant value within a Verilog scope.</li>
<li>
mti_FirstProcess() and mti_NextProcess() in some cases returned an invalid process handle due to optimization of processes. Use of the invalid process handle sometimes caused the simulator to crash.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.7e</b>
<ul>
<li>
A VITAL SDF multisource interconnect delay that referred to a non-existent port caused a crash in some cases.</li>
<li>
The VITAL 2000 vital_timing VHDL source code had an error that showed up
under certain conditions when coming out of a negative-preemptive glitch.
This problem also existed in the <b>-novital1</b> acceleration but not in the
normal ModelSim VITAL acceleration.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.7e</b>
<ul>
<li>
A transport interconnect delay applied to a path from a VITAL cell to an optimized Verilog cell crashed the simulator in some cases.</li>
<li>
A Verilog module instantiated underneath a VHDL generate statement could not be SDF annotated.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.7e</b>
<ul>
<li>
In rare cases, single-stepping produced the error "Cannot disassemble opcode!".</li>
<li>
The simulator crashed on loading a design containing SmartModels or hardware models if within the same invocation of the ModelSim application a previous design was loaded that did not contain SmartModels or hardware models.
</li>
<li>
If a fatal error occurred while loading a hardware model, then subsequent attempts to load hardware models within the same invocation of the ModelSim application could result in a crash.
</li>
<li>
Wlfman crashed when attempting to filter a WLF file containing
Verilog "generate" regions.</li>
<li>
Memory corruption occurred in very rare cases after a warm restore.</li>
<li>
The code coverage <b>reload</b> command failed when a design contained
a case statement with over 1000 branches. The limit was increased
to 10,000 branches.</li>
<li>
Finding and examining objects declared in VHDL subprograms did not always work.</li>
<li>
The <b>find</b> and <b>examine</b> commands did not always handle multiple contiguous path separators.  (e.g. "//tb/clk")</li>
<li>
When the user registered a <b>dataset snapshot -time</b> command and did a <b>run -all</b>, the simulation would hang in the case of a testbench that did not have an explicit stop.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.7e</b>
<ul>
<li>
DR 00029779/SC311022 - Extended Identifiers: "Design>Load Design ..." leads to Error.</li>
<li>
DR 00103797/SC336642 - Generic set in simulation configuration did not load when project simulation was invoked.</li>
<li>
DR 00123733 - Crash with Modelsim 5.7c when loading design.  <BR>The design in this case involved clocked processes that were sensitive to record signals.</li>
<li>
DR 00080624/SC302187 - Function parameter has wrong size in Variables window.</li>
<li>
DR 00105267/SC338275 - A virtual signal could not be created, deleted and then re-created using the same name.</li>
<li>
DR 00126653 - Overflow error when reloading coverage data.<BR> The <b>coverage reload</b> command failed when a design contained a case statement with over 1000 branches. The limit was increased to 10,000 branches.</li>
<li>
DR 00125804 - Expression builder can not save expressions containing spaces.</li>
<li>
DR 00125931 - wlfman core dumps when the original VHDL source code contained
generate statements.</li>
<li>
DR 00128786 - Unresolved reference error when using verilog generate.</li>
<li>
DR 00126684 - SDF annotate error for generated instance.</li>
<li>
DR 00126719 - Wave Compare issue.</li>
<li>
DR 00030186/SC311137 - VCD: Difference between MTI and Leapfrog VCD files.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.7e</b>
<ul>
<li>
When using code coverage for VHDL, if you have an entity declaration
containing concurrent assertion statements, and that entity declaration
is in a separate file from the associated architecture, misleading
indications of executable lines will show up in the architecture file
corresponding to line numbers of the assertion statements in the entity.
The workaround is to put the entity and architecture in the same file. </li>
<li>
The <b>examine -expr &lt;expr&gt;</b> command requires the signals in the expression to be logged. If the signals were not logged, the error message was not helpful enough.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.7e</b>
<ul>
<li>
The behavior of the Source window Find dialog box was changed in several ways:<br>
1) Focus remains in the dialog box instead of changing to the Source window.<br>
2) The &lt;Return&gt; key may be used to repeat the last search.<br>
3) The entry box text is reselected so that typing will replace the current search string with a new one.<br>
4) The Source window's selection is now exported and is available for middle-mouse-button paste operations in other windows and (on UNIX) other applications.<br>
5) The entry box selected text is no longer exported.<br>
The net effect of all these changes makes the Find dialog much easier and more intuitive to use.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.7e</b>
<ul>
<li>
A "Remove All (Panes and Signals)" menu item has been added to the Edit menu in the Wave window.  This will remove all signals from the window and all additional window panes, leaving the window in its original state as if just opened.</li>
<li>
Code coverage exclusion files now support environment variables in the
file path name fields. The <b>coverage report</b> command also supports 
environment variables in the <b>-file</b> and <b>-source</b> options.</li>
<li>
Optimized Verilog cell support for continuous assignments containing ternary operators.</li>
</ul>
</BODY>
</HTML>

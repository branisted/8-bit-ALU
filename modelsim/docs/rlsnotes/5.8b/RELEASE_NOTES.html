
<HEAD>
<TITLE>5.8b Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.8b
<br></h1></center>
<center>
&nbsp;Copyright Model Technology, a Mentor Graphics
<br>
&nbsp;Corporation company, 2004 - All rights reserved.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Jan 27 2004</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#psldefects">PSL Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.8b</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.8b</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.8b</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.8b</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.8b</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
The following platform changes are effective as of the 5.8 release.<BR>

<UL>
<LI>For Linux: 
<UL>
<LI>Linux is built on RedHat Enterprise Workstation 2.1. This version is compatible with RedHat 7.2 and higher. 
<LI>RedHat 6.0 through 7.1 will be supported for one release with a new platform vco, called linux_rh60. 
<LI>RedHat 9.0 is now supported (32-bit only).
<LI>AMD Opteron is now supported running SuSE SLES 9 (in 32-bit mode only). It is not recommended to run 32-bit ModelSim on versions of SuSE earlier than 9. 
<LI> Linux now supports large files. 
</UL>
<LI>For AIX:
<UL> 
<LI>AIX 5.2 is supported in 32-bit and 64-bit modes.
<LI>rs64 is built on AIX 5.1 and, as such, supports AIX 5.1 and higher OS versions. 
<LI>rs64 no longer supports AIX 4.3.
<LI>rs64 will support large files if you are using a JFS type file system and the large file option is enabled.
<LI>AIX version 4.2 is discontinued.
</UL>
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 5.8 betas or 5.7x or earlier release versions. See "Regenerating your Libraries" 
in the <i>ModelSim Installation & Licensing Guide</i> for more information on refreshing your models. 
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in ModelSim version 5.5c or greater.

</li>
<li>
Product changes and new features mentioned here are introduced in the 5.8b 
release. If you are migrating to the 5.8b release from 5.7x or earlier releases,
please also consult version 5.7x release notes for product changes and new 
features introduced during the 5.7 patch releases. The previous version 
release notes can be found in your modeltech installation directory at 
docs/rlsnotes.
</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the ModelSim
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
Beginning with the 5.8 release, FLEXlm licensing software is upgraded to version 8.2. For floating licenses it will be necessary to verify that the vendor daemon (i.e., modeltech or mgcld) and the license server (i.e., lmgrd) have FLEXlm versions equal to or greater than 8.2.  The vendor daemons and lmgrd that are shipped with this release will be FLEXlm version 8.2.  If the current FLEXlm version of your vendor daemon and lmgrd are less than 8.2, then you need to stop your license server and restart it using the vendor daemon and lmgrd contained in this release.  If you use nodelocked licenses you don't need to do anything.</li>
<li>
Beginning in the 5.8 release, ModelSim will no longer support SDF files compressed in the Unix compress format (.Z), but will support the GNU zip format (.gz).  Therefore, ModelSim will read in compressed SDF files that are created only with GNU zip (gzip).  ModelSim does not require the file to have a .gz extension, but it will error on files that have a .Z extension.</li>
<li>
ModelSim's SystemC support has dependencies on both operating system version and C++ compiler version.  The OS support is slightly different than ModelSim's OS support for designs without SystemC content. Also, 64-bit compilation is not supported for SystemC designs.
<br>
Supported Operating Systems and C++ compilers:<br>
<ul>
<li>RedHat 7.3 and greater, gcc 3.2</li>
<li>SunOS 5.6 and greater, gcc 3.2</li>
<li>HP-UX 11.0 and greater, aCC 3.45 (with associated patches)</li>
</ul>
</li>
<li>
ModelSim LE does not support VHDL. However, it does support Verilog and SystemC.</li>
<li>
CDEBUG compatibility information by platform.<BR>
<UL>
<LI>On HP-UX 11.0, ModelSim uses the built-in HP wdb 3.3 program as the underlying C/C++ debugger.  In order to run wdb successfully, you must have installed HP-UX PHSS_23842, or a superseding patch.  Without this patch installed, error messages will occur during CDEBUG startup.
<LI>On rs6000, gdb-6.0 works with gcc-3.2. Additionally, when creating shared objects, 'ld' (/bin/ld) should be used, not 'gcc'.
This combination works with AIX-5.1. On AIX-5.1  use gcc-3.2-aix51.
The native compiler /bin/cc is not compatible with gdb-6.0.
</UL>

</li>
<li>
The vcom compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches -87, -93, or -2002, or<br>
<LI>set the VHDL93 variable in the [vcom] section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
</li>
<li>
Although the vlog compiler currently supports some System Verilog features, these extensions are not enabled by default because they require new language keywords that may conflict with identifiers in existing code.  There are two ways to enable System Verilog features in vlog 5.8b: the first is by using the <b>-sv</b> command line option and the second is by naming the source file with a ".sv" suffix.</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8, 9
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.8b</b>
<ul>
<li>
The Wave window did not remember scaling of analog signals.</li>
<li>
The <b>mem save</b> command failed for datawords wider than 80 characters.</li>
<li>
The List window failed to reset the time unit for the simulation time column when a new design was loaded.</li>
<li>
Source window object value popup displays of arrays with descending index ranges 
did not work correctly. Also, object field names are now displayed if the object is a VHDL record or System Verilog struct.</li>
<li>
The Variables window had a problem when viewing a WLF file post-simulation (-view mode).</li>
<li>
<b>wlfman</b> did not recognize shared and process variables in WLF files.

Variables did not appear in the 'items' list and were ignored during a 'filter' operation.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.8b</b>
<ul>
<li>
Variables declared inside of generate conditional constructs
could give a compile error when written to.</li>
<li>
Beginning in 5.8, compile times increased for designs containing large numbers of hierarchical references.</li>
<li>
Hierarchical references to parameters inside optimized cells from separately compiled testbenches no longer cause sporadic crashes during design load.</li>
<li>
Sometimes a logged signal that was an input port annotated with a multisource interconnect delay would not log correctly; no value was found. This occurred only on the Windows platforms.</li>
<li>
Non-blocking assignments within tasks or functions called with a hierarchical reference did not correctly update the intended variable if the assignment was not optimized.</li>
<li>
Parameters did not propagate down through generated instances correctly.</li>
<li>
Mixed designs with a VHDL top-level were not getting
parameters propagated correctly into Verilog levels
containing generate conditionals.</li>
<li>
The case of a single input driving two different nets in continuous assignments and a second net being read inside an edge-triggered always block gave a mismatch when the <b>-fast</b> option was used.</li>
<li>
System functions that can return an EOF value are now signed.
This allows users to assume negative return values as
error conditions for these functions ($fgetc(), $ungetc(), $fscanf(), $sscanf(), $ftell()).</li>
<li>
The <b>-vlog95compat</b> switch caused the word "static" to be treated as a reserved keyword which resulted in a syntax error when "static" was used as an identifier.
</li>
<li>
The power operator (**) returned incorrect results for an exponent of 0 if the result length was larger than 32 bits. Only the lower 32 bits were set, and the upper bits were left uninitialized.
</li>
<li>
An assignment to a partially out-of-bounds part-select of a vector register resulted in an internal compiler error.
</li>
<li>
SDF annotation of $width limits contained an implicit zeroing of the threshold limit which wasn't occurring for unoptimized cells.</li>
<li>
A continuous assignment having a right-hand side expression using '+', '-', '*', '/', or '%' operators on scalar operands evaluated incorrectly in some cases.
</li>
<li>
A fork-join block having a mix of parallel non-delayed statements and parallel zero-delayed (#0) statements failed to guarantee execution of the non-delayed statements before the zero-delayed statements.</li>
<li>
Disabling a fork with active threads executing in named blocks caused a crash in some cases.</li>
<li>
Expressions of the form (~A & ~B) and (~A | ~B) sometimes had the wrong value.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.8b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.8b</b>
<ul>
<li>
Case statements with locally static case expressions were not compiled correctly if at least one choice was a range (e.g., 0 TO 5).</li>
<li>
The compiler, when run with the <b>-lint</b> option, will now produce a warning if
the actual expression associated with a subprogram formal parameter of an unconstrained array type is an implicit concatenation operation. The warning will serve as a reminder that the 1993 rules for implicit concatenation are being used regardless of the specified language version (VHDL-1987, VHDL-1993, or VHDL-2002).
This is a VHDL compiler change related to DR 00162274.</li>
<li>
Incorrect size mismatch errors could be generated during elaboration under
the following conditions: <BR>
<UL>
<LI> The size of an entity's port depends on a generic.
<LI> The entity is directly instantiated.
<LI> The port is assigned a literal expression.
</UL>
If these conditions were met then an error message similar to the follow message was generated.<BR>
" ** Fatal: (vsim-3590) (line 17): Array with index bounds (-1 downto 0) (null range) is length 0; string is length 4."
</li>
<li>
ModelSim crashed while loading a design on win32 or linux platforms with the message "Fatal cg: register allocation failure." The problem was related to range bounds checks.
</li>
<li>
In SE, if a sequential process's sensitivity list contained signals other than
the clock and reset signals and one or more of the extra signals was a vector, 
then incorrect simulation may have occurred.  The simulation error appeared
as if the sequential process failed to evaluate.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.8b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.8b</b>
<ul>
<li>
VITAL cells with more than 256 path delays caused the simulator to crash.  Modelsim will now generate a warning and the cell will not be accelerated.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 5.8b</b>
<ul>
<li>
SystemC is now supported on RedHat Linux versions 7.2, and Enterprise Workstation
version 2.1, in addition to the Linux versions already supported. gcc 3.2.3 is
required on these new platforms and can be downloaded from the MTI Web site.</li>
<li>
sccom errored out promptly on HP-UX for non-aCC users when the user had set CppPath pointing to gcc/g++ in the modelsim.ini file.</li>
<li>
Attempting to set a breakpoint dot in the Source window gave a misleading error message from the C Debug tool. This happened on a non-supported SystemC platform.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="psldefects"></a><b>PSL Defects Repaired in 5.8b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.8b</b>
<ul>
<li>
Mixed designs with a VHDL top-level could crash during elaboration
when lower-level Verilog modules contained generate conditionals.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.8b</b>
<ul>
<li>
wlfman filter crashed on Windows.</li>
<li>
The <b>tssi2mti</b> command exited with a return status of 8 when the number of force statements printed was a multiple of 101. This caused the ModelSim user interface to report the following error:<BR>
    ** Error: child process exited abnormally</li>
<li>
Reading an invalid enumeration value using the TEXTIO procedure read() caused the simulator to crash.</li>
<li>
vsim crashed when <b>restart -f</b> was issued during simulation of a pre-elaborated design (-elab/-load_elab)</li>
<li>
In Windows 98 and ME systems, the <b>vmap</b> command returned an error similar to:
<br>
<code>
Copying c:/modeltech/win32/../modelsim.ini to modelsim.ini<br>
Modifying modelsim.ini<br>
Error: This function is only valid in Win32 mode<br>
</code>

</li>
<li>
ModelSim crashed while loading a design with the message "Fatal: cg: double register allocation failure".
</li>
<li>
"vsim -lib /tmp/nonexist simple" would crash the simulator if the library /tmp/noexist did not exist.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.8b</b>
<ul>
<li>
DR 00164994 - <b>examine -radix</b> was not implemented in the C Debug tool.</li>
<li>
DR 00166088 - ModelSim crashes on loading a Verilog design with generate
statements.</li>
<li>
DR 00161863 - Modelsim 5.8 compilation hangs while 5.7 is ok.</li>
<li>
DR 00162274 - Bits in bus reversed so results do not match ModelSim 5.5.</li>
<li>
DR 00163070 - Crash on HP 64-bit : # ** Fatal: cg: double register allocation failure.</li>
<li>
DR 00165095 - Wave window : format analog step -scale factor doesn't work.</li>
<li>
DR 00165195 - ModelSim crashes when restart is used if we use <b>-elab</b> for
elaboration.</li>
<li>
DR 00165354 - ModelSim does not allow 'static' to be used as an identifier when
using <b>-vlog95compat</b>.</li>
<li>
DR 00165672 - Incorrect Simulation result.</li>
<li>
DR 00165493 - Problems With Co-simulation on RH Linux WS 3.0.</li>
<li>
DR 00164686 - ModelSim's <b>mem save</b> command crashes.</li>
<li>
DR 00163083 - ModelSim does not pick the correct conditional "when" statement when a constant is being used as the index for case statement.</li>
<li>
DR 00162171 - vsim crashed when library compiled with <b>+opt</b> & design compiled separately.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.8b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.8b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.8b</b>
<ul>
<li>
A new subcommand for <b>find</b> has been added. <b>find instances</b> will find instances in the current region which match the search pattern. The usage is: <BR> 
<code>
find instances [-r] &lt;pattern&gt;
</code></li>
<li>
vsim <b>-restore</b> is now allowed in GUI mode.</li>
<li>
The vlog switch <b>-instantiateReadOnly</b> allows Verilog modules compiled with <b>-fast</b> to instantiate modules or UDPs from library directories which have read-only permission.  The instantiations will not be inlined or further optimized.
</li>
<li>
The vsim option <b>+delayed_timing_checks</b> causes timing checks to be performed on the delayed versions of input ports. This is used when there are negative timing check limits.</li>
<li>
VHDL configurations now support loading Verilog configurations and vice versa.</li>
</ul>
</BODY>
</HTML>

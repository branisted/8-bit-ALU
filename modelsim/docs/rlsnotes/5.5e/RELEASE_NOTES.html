
<HEAD>
<TITLE>5.5e Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#C0C0C0" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.5e</h1></center>

&nbsp;
<blockquote>
<blockquote>
<center><b>Oct 05 2001</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
<li>World-Wide-Web Support
<p><a href="https://websupport.altera.com/">https://websupport.altera.com/</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.5e</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.5e</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.5e</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.5e</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.5e</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
You must recompile or refresh your models if you are moving forward from
 5.5 Betas or earlier release versions. See "Regenerating your Libraries" in
 the ModelSim Start Here Guide for more information on refreshing your models.

</li>
<li>
Listed below are platform support changes starting with the next major ModelSim release, version 5.6:
<ul>
<li>The Windows 95 platform will no longer be supported.
<li>The executables in .../modeltech/hp700 will be based on HPUX 11.0. If you need
HPUX 10.20 compatible executables, they will be in a new platform directory
.../modeltech/hp700_1020.
</ul>


</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any .PDF files 
contained in ModelSim versions 5.5c or greater.
</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 95, 98, Me, NT, 2000
   <li>sunos5aloem - Solaris 2.6, 7, 8
   <li>hp700aloem - HP-UX 10.2, 11
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.5e</b>
<ul>
<li>
Zooming full did not work if a previous <b>.wave.tree zoomfull</b> command was 
interrupted with the 'stop' icon.
</li>
<li>
When performing a cold <b>checkpoint restore</b>, if all licenses were reserved 
or in use, ModelSim queued for a license but did not display queueing
information in a dialog box or in the invocation window. The user interface 
was changed to display queueing information if a license cannot be checked out.
</li>
<li>
When waveform comparisons were displayed in the List Window and the user clicked 
the right mouse button, the simulator failed to find the comparison object.
</li>
<li>
The default display width for List Window values was incorrect if the value 
range was similar to -20 to -4 where the most negative value required more 
space than the least negative value.
</li>
<li>
The virtual count was incorrectly set to zero after a <b>checkpoint</b> command 
was executed. Also, the <b>virtual count</b> command now returns a count of all
the currently defined virtuals, not just those not saved. A <b>-unsaved</b> 
option was added in order to count only those virtuals that have not been saved.
</li>
<li>
Executing a macro file that performed compiles, then pressing the break button 
caused a Tcl error and the simulator to hang.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.5e</b>
<ul>
<li>
The <b>-fast</b> compiler option generated code that crashed the simulator in 
some unusual cases.

</li>
<li>
On the rs64 platform (64-bit rs6000), part selects of the high-order bits
of 32-bit objects (regs & wires) containing 1 in the high-order bit resulted
in propagation of the 1-bit into high-order bits of the result. 32-bit masking
is now performed on part selects.
</li>
<li>
Removed the hard limit of 256 for total number of files included via 
`include in Verilog. The <b>vlog</b> compiler no longer imposes a limit on the 
number of included files.
</li>
<li>
Annotating a multisource input-to-input INTERCONNECT delay that was
driven from VHDL sometimes caused a simulation crash.
</li>
<li>
The <b>-fast</b> cell optimizations failed to allow instantiations of UDPs from
any library other than the "work" library.

</li>
<li>
Verilog macros that contained procedure calls that had a quoted string for
the value of at least one parameter were not being parsed correctly. 
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.5e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.5e</b>
<ul>
<li>
If a locally defined procedure had the same name as an implictly-defined
procedure (arising, for example, from a FILE type), then a call to
this local procedure would not compile since the argument list for the
implicit one was not satisfied.
</li>
<li>
The simulator crashed during the elaboration of an entity containing a 
procedure that contained a constant with a local array subtype.
</li>
<li>
The vsim <b>drivers</b> command failed to handle 'collapsed' ports, 
and crashed the simulator. The crash was observed only with 64-bit ModelSim, 
and could potentially occur with 32-bit ModelSim as well.
</li>
<li>
Signals defined in an external package and passed to a procedure
were not handled properly. This was a problem on all platforms,
but manifested as a crash on 64-bit platforms only.
</li>
<li>
Incorrect simulation results occurred if a port of mode out or inout was 
undriven in a model and the type of the port was an array of records. The port
did not generate a driving value (when it should have generated a value) to 
the actual signal associated with the port.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.5e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.5e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.5e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.5e</b>
<ul>
<li>
Simulating a top level module which was compiled nodebug sometimes caused 
an infinite loop.
</li>
<li>
The <b>vcd add</b> command caused a simulator crash if the <b>vcd file</b> 
command was unable to create a vcd file. The <b>vcd add</b> command now issues 
an error indicating that no vcd file was opened.

</li>
<li>
vsim commands with large argument tokens (strings exceeding 512 characters) 
could fail unpredictably.
</li>
<li>
The compilers and simulator would incorrectly issue a warning
("...Logical libraries should be mapped to directory paths.") with the
following logical/physical library mappings, because lib1 was incorrectly
determined to be a logical library.<br>
  lib1 = lib1<br>
  lib2 = lib1<br>
In addition, whenever lib2 was used, because of faulty error recovery, it was
incorrectly determined to be a physical library.
</li>
<li>
<b>wlf2log</b> was not recognizing bidirectional ports declared as vectors.
They were getting output as internal signals, and would not appear
if the <b>-inout</b> switch was used.
</li>
<li>
An incorrect license error occurred when viewing ".wlf" files using <b>dataset 
open</b> when a license wasn't already checked out. This was an OEM PE only 
defect.
</li>
<li>
ModelSim did not create a PATH variable when attempting to add the executables
directory to the PATH variable if the PATH variable did not exist. In addition,
a warning message is now generated if the PATH variable does not exist.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.5e</b>
<ul>
<li>
304398 - Overloaded procedures from standard libraries overwrite local 
procedures with same name.
</li>
<li>
305968 - Breakpoint context menu does not change to 'disable' when 
breakpoint set
</li>
<li>
304844 - VLOG crashes/generates compile errors when there are too many
include statements
</li>
<li>
306325 - Library mapping with same name for library and logical library
not working any more

</li>
<li>
307125 - vcd2wlf utility generates error with valid VCD data
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.5e</b>
<ul>
<li>
When the Source Window is brought up the first time, the source
colorization and highlighting of executable lines will not change
dynamically but remain constant.
For the case where there is an existing Source Window, and you do
a <b>File > Open</b>, and pick a file which has source lines that just
fit the Source Window, the same non-changeable colorization and
highlighting occurs.
</li>
<li>
When multiple variables are selected in the Source Window, the
variable balloon (via Right Mouse Button) displays the same
variable even when the cursor is moved from one variable to the
next.
</li>
<li>
Selected text in the Source Window or Transcript Window gets
unhighlighted when the cursor moves out of the window or to the
toolbar or menu bar. This is a Windows only issue.
</li>
<li>
Using the menu sequence <b>Design > Create a New Library</b> to create a
new library and mapping when a library already existed causes a
window system error message to appear via a dialog box.
</li>
<li>
Executing the vmap command at the VSIM prompt does not update the
Library drop-down list.
</li>
<li>
When single-stepping in a .coverage_source Window, as long as the
context stays within the current file the coverage numbers can be
seen to increment with each step. If a step causes another source
file to be brought up, then the coverage numbers in the first
column do not increment correctly. Sometimes clicking on the name
of the current source file in the Coverage_Summary Window will
correct the problem.
</li>
<li>
Start a compare, and do some compare runs. If a <b>compare reload</b>
command is unsuccessful, ModelSim does an implicit <b>compare end</b>
without providing an option to save results and the data is lost.
</li>
<li>
When ModelSim is invoked with "vsim -lib vhwork", the library
entry in the Design tab of the Load Design dialog box incorrectly
shows the default library "work" instead of the specified library
"vhwork".
</li>
<li>
Loading a Tcl shared library fails on rs64 with the following
message: <code>ERROR: couldn't load file " testload.sl": readExports:
bad magic number</code>
</li>
<li>
 List Window Marker problems:<br>
<UL>
<LI>If you add a bunch of signals to the List Window then select
<b>Markers > Add Marker</b> with nothing selected in the List
Window, then the 2nd list line is highlighted. If you then
click on another line then no marker outline is left on the
supposedly added marker line.
<LI>If you click on some line and do <b>Markers > Add Marker</b> then
the line selected is marked with an outline but the second
list line is highlighted.
<LI>With a marker added on a particular line, if you then click
on various lines in the List Window then the marker outline
occasionally moves to some other line (usually the previously
selected line). Markers don't stay put.
</UL>
</li>
<li>
 List Window scrolling problems:<br>
<UL>
<LI>When using the Find dialog box to find signals, when the next
    signal is outside of what is currently showing in the List
    Window, the window is not scrolled to show the next item
    found.
<LI>If you do a find to the left and the search goes past the
    beginning of the list to wrap around to the end of the list
    and there's a lot of stuff in the List Window that is out of
    view, then the List Window scrolls right only one page even
    though that does not bring the next selected item into view.
<LI>When doing a search forward on an item's values, the next
    line to match is scrolled to the top line but the scroll bar
    stays the full length of the scroll bar region. (This is in a
    List Window where there aren't very many lines of data.)
<LI>The documentation for the List Window says that the up and
    down arrow keys are supposed to move the line selection up or
    down one line. The current behavior is that the up and down
    arrow keys behave exactly the same as the TAB and shift-TAB
    keys (searches for next transition).
</UL>
</li>
<li>
In some cases, Redhat 6.0 did not have coverage for the entire
source file. There is no problem with Redhat 6.1, 6.2 and 7.0.
</li>
<li>
In the Library page of the Main Window workspace, if a design unit
is selected and accessed with a right button click to Edit or
Refresh or Recompile, the following error will occur:
<code>Error - cannot read work/_info: No such file or directory</code>
This bogus error message occurs only when the Library entry field
in the Library page is set to work, and work is logically mapped
to another library directory name.
The work around is to set the Library entry field to the actual
library name instead of work.
</li>
<li>
There is an inconsistency in how the path separator works when
parsing commands. Given that the path separator in the example
below is "/ ", .top.clk should not work.<br>
<code>
       echo $PathSeparator<br>
       # /<br>
       exa /top/clk<br>
       # 1<br>
       exa /clk<br>
       # 1<br>
       exa clk<br>
       # 1<br>
       exa .top.clk<br>
       # 1<br>
       exa .clk<br>
       # evaluating expression ".clk"<br>
       # No object found matching clk in context /<br>
       # Item '.clk' not found<br>
</code>
</li>
<li>
The following steps show a waveform compare problem.<br>
<UL>
<LI>In the compare wizard, specify an opened dataset and a sim
    dataset to be compared (via the compare start functionality).
<LI>Log some simulation signals.
<LI>The button "Update after simulation run" should NOT be
    checked.
<LI>Click the "Compute Diffs Now" button in the wizard. This
    message was given: "Null time range for signal compare". The
    message could be improved to "Cannot compare run because no
    simulation data currently available"
<LI>Do a run 500.
<LI>Do a compare info command. The following message is given:
    "No comparison differences" Does it mean my comparisons were
    all matches? A better message choice might be "No available
    compare data, please do a compare run or compare update
    first.".
</UL>
A compare run or compare update had not been done, so there should
be no compare results or data. The Wave Window is correct at this
point; the compare signal does not show any compare result.

</li>
<li>
No waves are displayed in the Wave Window for virtual constants or
virtual functions that are children of virtuals.
</li>
<li>
Virtual signals which are a concatenation of a signal from a <b>view
dataset</b> and a sim dataset show "-No Data-" in the Signals Window,
even after simulation.
</li>
<li>
A virtual signal containing a Verilog bit was expanded within a
Signals Window. Double clicking on this Verilog bit to invoke a
view declaration did not bring up the Source Window. If the
Source Window was already opened, it did not highlight this
signal.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.5e</b>
<ul>
<li>
Range checking on scalar subtypes will now be performed by default on all VHDL
designs when variables or signals are assigned values explicitly (through
assignment statements), or implicitly through parameter passing or port mapping.
For example, if x and y are variables of type natural and integer, respectively,
the <b>vcom</b> compiler emits range checks for the assignment x := y. For 
better performance, use the <b>-norangecheck vcom</b> compiler switch to 
inhibit range checking. For compatibility, the <b>-rangecheck</b> switch is 
still supported. Results are indeterminate if <b>-norangecheck</b> and 
<b>-rangecheck</b> switches both appear on a single <b>vcom</b> command line.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.5e</b>
<ul>
<li>
Comment and Uncomment functions have been added to the source editor. To
use the functions: select a range of text in the Source Window then click 
<b>Edit->Comment Selected</b>. The selected lines will be turned into comments 
by inserting the correct language comment characters at the beginning of each 
line. Selecting the <b>Uncomment Selected</b> menu item will remove the comment 
characters from the selected lines.
<p>
Currently, this feature only applies to VHDL and Verilog source code. It does 
not apply to Tcl or any other language.
</li>
<li>
Added a feature in the GUI for additional flexibility in mapping binary
buses to state names. Virtual type definitions may now include sparse
mapping of bus values to alphanumeric strings.
<p>
An example of an 8-bit one-hot encoding using a variety of supported syntax 
is:<br>
<code>
    virtual type {NULL_STATE st1 {2 st2} {0x04 st3} 
                  {16'h08 st4} {'h10 st5} {16#20 st6} 
                  {0b01000000 st7} {0x80 st8} {default BAD_STATE}} myMappedType
</code>
<p>
The first two terms use positional association to map value zero to
string "NULL_STATE" and value 1 to string "st1". Positional association may
be used up until the first mapping pair. 
<p>
From there, mapping pairs are used to associate a value with a string. 
Values can be expressed in decimal or based notation. Three kinds of 
based notation are supported: Verilog, VHDL, and C-language styles. The 
values are interpreted without regard to the size of the bus to be mapped. 
Bus widths up to 64 bits are supported.
<p>
The string member of each mapping does not need to be quoted unless it 
contains a space or other special character. The value "default" has 
special meaning and corresponds to any value not explicitly specified.
</li>
<li>
The hardware modeler is now supported in the linux platform. <b>hm_entity</b> 
and <b>libhm.sl</b> library files are included in the linux binaries
directory at .../modeltech/linux. These libraries support Synopsys Hardware 
Modeling release 3.6a.
</li>
</ul>
</BODY>
</HTML>

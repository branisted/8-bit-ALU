
<HEAD>
<TITLE>6.1g Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 6.1g
<br></h1></center>
<center>
&nbsp;Copyright 2006 Mentor Graphics Corporation
<br>
&nbsp;All rights reserved.
<br>
&nbsp;This document contains information that is proprietary to Mentor Graphics Corporation.
<br>
&nbsp;The original recipient of this document may duplicate this document in whole or in
<br>
&nbsp;part for internal business purposes only, provided that this entire notice appears in all
<br>
&nbsp;copies. In duplicating any part of this document, the recipient agrees to make every
<br>
&nbsp;reasonable effort to prevent the unauthorized use and distribution of the proprietary
<br>
&nbsp;information.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Aug 11 2006</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file in www.model.com. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#assertiondefects">Assertion Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 6.1g</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 6.1g</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 6.1g</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 6.1g</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 6.1g</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
The RedHat Enterprise Linux 4 is supported as of the 6.1b release.
<br>
The support includes the following platforms:
<br>
<ul>
<li>32-bit linux
<li>64-bit linux_x86_64 
</ul>
<p>
For a complete list of supported platforms see the Install Guide under the section Supported platforms.</li>
<li>
The following platforms will be discontinued as of the 6.2 release:
<br>
<ul>
<li>Windows 98
<li>Windows ME
<li>Windows NT 4.0
<li>Solaris 2.6
<li>Solaris 7
<li>AIX 4.3
</ul>
</li>
<li>
Solaris OS 10 is supported as of the 6.1a release. Solaris OS 10 support includes SystemC. However, cdebug is not supported.

<UL>Solaris 10 has the following limitations:

<LI>In the OS, vt alarm is producing irregular and random beats between 20ms and 100ms. As a result, the profiler produces the error message, "Too few samples."  To workaround this problem, add the following line to the file /etc/system and reboot the system:<br>
set hires_tick=1<br>
This will produce consistent sample times. The minimum sample time will be 20ms. This problem has been filed as Sun CR 6290459 and will be fixed in a coming kernel patch. With the patch, the minimum sample time will be approximately 10ms, as in previous Solaris releases.
<LI>In rare cases, simulations using sockets via the FLI may hang the system and produce a messages like "nfs server array not responding" may be produced. This problem has been filed as Sun CR 6296698.
<LI>In Solaris 10, g7 is always reserved. Any  PLI/FLI/DIP using g7 will break under Solaris 10.
</UL>

</li>
<li>
The following platform changes are effective as of the 6.0 release.<BR>

<UL>
<LI>The 64-bit simulator is supported on the AMD Opteron and compatible processors running 64-bit Linux (SuSE 9.0 (x86-64) or RedHat Enterprise Linux WS release 3) as the linux_x86_64 platform. The profiling feature is not supported in 64-bit mode. The 32-bit simulator for the linux platform may also be installed and used concurrently on these systems.
<LI>RedHat 6.0 through 7.1 are no longer supported. 
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 6.0x or  earlier release versions. See "Regenerating your design libraries" in the User's Manual for more information on refreshing your models.</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in version 5.5c or greater.

</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
Beginning in the 5.8 release, SDF files compressed in the Unix compress format (.Z) are no longer supported, but the GNU zip format (.gz)is supported.  Therefore, we only when read in compressed SDF files that are created with the GNU zip (gzip) extension. A file is not require to have a .gz extension, but it will error on files that have a .Z extension.</li>
<li>
Support of SystemC has dependencies on both operating system versions and C++ compiler versions. The OS support is slightly different than the simulation environments OS support for designs without SystemC content. Also, 64-bit compilation is not supported for SystemC designs.
<br>
Supported Operating Systems and C++ compilers:<br>
<ul>
<li>RedHat 7.3 and greater, gcc 3.2</li>
<li>RedHat EWS2.1/7.2 and greater, gcc 3.2.3 (simulation environment version 5.8b and greater)</li>
<li>Solaris 2,6, 7, 8 , 9, 10, gcc 3.3</li>
<li>HP-UX 11.0 and greater, aCC 3.45</li>
<li>Win32 XP and 2000, gcc 3.2.3 (Simulation environment versions 6.0 and greater)</li>
</ul>
</li>
<li>
The LE product does not support VHDL. However, it does support Verilog and SystemC.</li>
<li>
CDEBUG compatibility information by platform.<BR>
<UL>
<LI>On HP-UX 11.0, the built-in HP wdb 3.3 program is used as the underlying C/C++ debugger.  In order to run wdb successfully, you must have installed HP-UX PHSS_23842, or a superseding patch.  Without this patch installed, error messages will occur during CDEBUG startup.
<LI>On rs6000, gdb-6.0 works with gcc-3.2. Additionally, when creating shared objects, 'ld' (/bin/ld) should be used, not 'gcc'.
This combination works with AIX-5.1. On AIX-5.1  use gcc-3.2-aix51.
The native compiler /bin/cc is not compatible with gdb-6.0.
</UL>

</li>
<li>
The vcom compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches <b>-87</b>, <b>-93</b>, or <b>-2002</b>, or<br>
<LI>set the VHDL93 variable in the [vcom] section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
</li>
<li>
Although the vlog compiler currently supports some SystemVerilog features, these extensions are not enabled by default because they require new language keywords that may conflict with identifiers in existing code.  There are two ways to enable SystemVerilog features: the first is by using the <b>-sv</b> command line option and the second is by naming the source file with a ".sv" suffix.</li>
<li>
The EM64T platform is supported as of the 6.0b release.<BR>
The support includes EM64T machines loaded with Suse 9.1 OS or RedHat Enterprise Linux 3 Update 3 OS and the following linux configurations.
<UL>
<LI>32-bit linux
<LI>64-bit linux_x86_64
</UL>
FlexLM v8.2a (which is currently shipped in 6.0x) is not supported on an EM64T machine loaded with Suse 9.1 OS.

</li>
<li>
The 6.1 release will use the following licensing versions: FLEXlm v9.5; Mentor Graphics Licensing MGLS v2004.2 and PCLS 2004.328.
<p>
CRITICAL LICENSING INFORMATION:
<p>
For this release of the product, the FLEXlm licensing software
being used is version 9.5. For floating licenses it will be necessary to
verify that the vendor daemon (i.e., mgcld) and the license server
(i.e., lmgrd) have FLEXlm versions equal to or greater than 9.5. The
vendor daemons and lmgrd that are shipped with this release will be
FLEXlm version 9.5. If the current FLEXlm version of your vendor daemon
and lmgrd are less than 9.5 then it will be necessary to stop your
license server and restart it using the vendor daemon and lmgrd
contained in this release. If you use node locked licenses you don't
need to do anything.</li>
<li>
SystemVerilog Program blocks are now supported except for the $exit() task.</li>
<li>
The default time unit for SystemC can be set using the "ScTimeUnit" variable in the modelsim.ini file.  By default ScTimeUnit is set to 1 ns.  The default time unit in SystemC can also be set using the sc_set_default_time_unit() function before any time based object like sc_clock or sc_time is created.</li>
<li>
vlog,vcom and vopt command line options will be case sensitive similar to the vsim command line options.</li>
<li>
Starting in the 6.1 release, the vsim -dpiexportobj option
has changed behavior somewhat.  This primarily affects
win32 and rs6000 users.

<OL>
<LI>You shouldn't put an extension on the object filename.
   That will be done for you automatically now.</LI>

<LI>There is no longer a need to add "-c -do 'quit -f'"
   to the vsim -dpiexportobj command line.</LI>
</OL>
The examples/systemverilog/dpi/simple_calls runtest.bat
files have been modified to show the correct flow now.
</li>
<li>
Due to some bug fixes, some VHDL models compiled with 6.1b or higher will not
run under 6.1 and 6.1a. These models will generate the error:<br>
<code>
# ** Fatal: (vsim-3274) Empty built-in function pointer (511).<br>
# Either this version of vsim is not compatible with the compiled<br>
# version of the libraries that were loaded or a required shared library<br>
# was not loaded. Please recompile the libraries with -refresh or make<br>
# sure you specify the required shared library to vsim.<br>
</code></li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 2000, XP
   <li>sunos5aloem - Solaris 8, 9
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 6.1g</b>
<ul>
<li>
Waveform printing now handles labels too large to fit into the waveform by replacing characters in the label with '...' or removing the label instead of scaling down the font for the label. </li>
<li>
The waveform printing interface now handles sizes specified in cm correctly.</li>
<li>
A WLF writer bug caused optimizations to inadvertently be disabled, in some cases, if a large number of signals (>50,000) was logged after time 0. This resulted in slower than expected Wave window drawing speed and potentially a vsim assertion.</li>
<li>
A WLF dataset snapshot bug caused the snapshotting to become disabled under some circumstances.</li>
<li>
A bug in the "dataset close" function in certain cases caused a crash if a virtual signal was currently displayed in the Objects window and the command <b>dataset close -all</b> was issued.</li>
<li>
The Wave window crashed in certain cases if the window was closed while waves were actively drawing.</li>
<li>
There were problems with the GUI "Customize" feature, such as the buttons were not added, errors were produced, or the U/I locked up. This feature is found under the Windows menu, or when using the commands apply_button_adder or _add_menu.</li>
<li>
A memory leak caused the U/I to run out of resources and either hang or crash the simulator after multiple simulation runs during a single session.</li>
<li>
Dragging a signal from the Source window to the Wave window took a very long time.</li>
<li>
Selection of a non-active process in the Structure or Dataflow window in certain cases required excessive time as the Active Process window was populated. An example of this scenario is immediately after elaboration but before any run has been done when many Verilog "initial" processes would be scheduled.  This time has been minimized.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 6.1g</b>
<ul>
<li>
An optimization of a "repeat (1)" statement under the default label of a case statement resulted in an internal error during compilation.</li>
<li>
An inversion of an or-reduction expression (and other reduction operators) evaluated to incorrect results in some cases.</li>
<li>
In certain cases the command <b>coverage report -du</b> did not have the
correct data for Verilog registers. </li>
<li>
vlog <b>-source</b> crashed in certain cases when attempting to print a source line with a warning or error message.</li>
<li>
In the vlog compiler, a cache related to timing check condition
expressions was not cleared correctly resulting in
unpredictable behaviour in some cases.</li>
<li>
Under certain conditions, the gate-level optimized cell evaluator ignored notifier register toggles fanning into always blocks.</li>
<li>
When +multisource_int_delays and/or +transport_int_delays was specified with -v2k_int_delays or compiled SDF files, in simulating a design that had nets with large fanin and fanout, the SDF load times were very long.
</li>
<li>
When +grp_ntc_outputs was specified for vlog and +multisource_int_delays or +transport_int_delays was specified for vsim, some simulations looped infinitely.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 6.1g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 6.1g</b>
<ul>
<li>
When compiled with <b>-O1</b>, individual association in a configuration's port maps incorrectly connected signals if the component port was an array and has different bounds than the actual associated with it.</li>
<li>
If an alias to a type was declared in the same scope as the type was declared, the implicit operators for the type were incorrectly redeclared. This was a problem if the implicit operators were replaced with explicit versions. This caused the compiler to report ambiguous expressions.</li>
<li>
An expression with a subexpression of an array type followed by a subexpression involving a short-circuit operation with array type operands in some cases resulted in the preceding subexpression having its value corrupted.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 6.1g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 6.1g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 6.1g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="assertiondefects"></a><b>Assertion Defects Repaired in 6.1g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 6.1g</b>
<ul>
<li>
Changes did not propagate on a forced or released Verilog I/O port that was connected to a VHDL I/O port.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 6.1g</b>
<ul>
<li>
vcover with the <b>merge</b> argument crashed in certain cases.</li>
<li>
The <b>coverage save</b> command produced duplicate information
in the coverage save output file under some conditions.</li>
<li>
The command <b>vcd dumpports</b> crashed for VHDL 'bit' type (this type is not supported - see the documentation for more information).</li>
<li>
There was a problem with the <b>coverage report</b> and <b>coverage save</b> commands where design hierarchy regions were ignored if they had toggles coverage enabled and no other coverage metrics enabled.</li>
<li>
There was a problem in vcover with the <b>report</b> option where condition and expression tables were missing from certain coverage reports.</li>
<li>
Condition and expression data was missing from certain GUI coverage windows.</li>
<li>
If vsim assertions were redirected to a file other than the transcript file (with the <b>-assertfile</b> command line option or the "AssertFile" modelsim.ini variable) and the assertion file grew to a size greater than 2GB, vsim crashed. </li>
<li>
vcover with the options <b>report -xml</b> produced the wrong condition and expression statistics which was caused by the active count not including exclusions.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 6.1g</b>
<ul>
<li>
dts0100335166 - Modelsim crashing when using "vcd dumpports".</li>
<li>
dts0100341584 - Verilog compilation is not able to handle >1000 modules in one vlog command.</li>
<li>
dts0100335726 - Documentation not clear enough about coverage exclude -inst.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 6.1g</b>
<ul>
<li>
In code coverage, there is no way to exclude a condition or expression table
row for the case of more than one table on a line and the table in question
is not the first table on the line.</li>
<li>
The add_menu command does not work for the Wave window.  The work around is to use the [winfo toplevel $wave] command to obtain the correct widget pathname; for example:
<br>
<code>
    set wave [view -undock wave]<br>
    set wavetop [winfo toplevel $wave]<br>
    add_menu $wavetop "MyMenu"<br>
</code>
This work around is not required for future versions, but should not cause problems.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 6.1g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 6.1g</b>
<ul>
<li>
HDL source code pragmas have been added for individual code coverage metrics.
This allows you to turn statement, branch, condition, expression and fsm
coverage on and off independently using source code pragmas. To use it, add
an additional argument to the <b>coverage on</b> or <b>coverage off</b> pragma
using characters to indicate the coverage metric. This works for both VHDL
and Verilog. (For toggle coverage, use the "coverage toggle_ignore" pragma.)
For example: <br>
<code>
// coverage off sce <br>
</code>
turns off statement, condition and expression coverage, and leaves the other
metrics alone. <br>
<code>
// coverage on bf <br>
</code>
turns on branch and fsm coverage, leaving the other metrics alone.</li>
<li>
Added a <b>-depth</b> option to the <b>coverage save -instance</b> command
that specifies the depth of hierarchy to save. The following example will save two levels of hierarchy, starting at /top/myinst.<br>
<code>
coverage save -inst /top/myinst -depth 2 myout.cov
</code>
</li>
<li>
Added a <b>-filter</b> option to the <b>coverage save -instance</b> command
that will filter out excluded instances and everything below.</li>
<li>
A feature has been added to <b>coverage report</b> to print the file name
for the design unit in the toggle details section. To turn it on, you need
to use <b>coverage report -tfile</b>.</li>
<li>
SDF annotation support of setuphold and recrem timing checks using a combination of explicit condition arguments and implicit condtions on events were added.</li>
</ul>
</BODY>
</HTML>

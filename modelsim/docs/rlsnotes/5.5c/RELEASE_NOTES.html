
<HEAD>
<TITLE>5.5c Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#C0C0C0" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.5c</h1></center>

&nbsp;
<blockquote>
<blockquote>
<center><b>Jun 27 2001</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
<li>World-Wide-Web Support
<p><a href="https://websupport.altera.com/">https://websupport.altera.com/</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.5c</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.5c</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.5c</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.5c</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.5c</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
 You must recompile or refresh your models if you are moving forward from
 5.5 Betas or earlier release versions. See "Regenerating your Libraries" in
 the ModelSim Start Here Guide for more information on refreshing your models.
</li>
<li>
Listed below are platform support changes starting with the next major ModelSim release, version 5.6:
<ul>
<li>The Windows 95 platform will no longer be supported.
<li>The executables in .../modeltech/hp700 will be based on HPUX 11.0. If you need
HPUX 10.20 compatible executables, they will be in a new platform directory
.../modeltech/hp700_1020.
</ul>


</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any .PDF files 
contained in ModelSim versions 5.5c or greater.
</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 95, 98, Me, NT, 2000
   <li>sunos5aloem - Solaris 2.6, 7, 8
   <li>hp700aloem - HP-UX 10.2, 11
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.5c</b>
<ul>
<li>
Forcing of a virtual signal which is a simple scalar object did not work.
It reported that the signal could not be found.
Example:
<pre>
    vsim counter
    virtual signal reset rst
    force rst 0
</pre>

</li>
<li>
The GUI code that parses object names did not understand
that a leading underscore is a legal identifier in Verilog.

</li>
<li>
The <b>write list</b> command caused a crash if it was invoked with an 
empty List Window.


</li>
<li>
In the Source Window, Control-F did not bring up the Find Text dialog. This was a 
Windows only issue.
</li>
<li>
Pressing [F3] in the Source Window caused an error if a <b>find</b> 
command had not been previously executed in the Source Window.
</li>
<li>
The add/edit breakpoint dialog would incorrectly put the <b>-inst</b> option 
within the <b>breakpoint</b> command.
</li>
<li>
Using the <b>zoom</b> command in the Wave Window while the Wave Window was
actively drawing caused strange behavior. Sometimes the Wave Window would 
pause for a long period of time then later redraw the traces.

</li>
<li>
Several Windows printing problems resulted in bad printouts or 
the simulator crashing.

</li>
<li>
With the addition of drag and drop, <b>vsim</b> now has an indirect
dependency on <windows>/system/imagehlp.dll.
<p>   
Windows 98 service packs 0 and 1 did not include this file.  Immediately 
after running install, <b>vsim</b> now checks for the OS version and the 
existence of this file.  If it does not exist, <b>vsim</b> adds it 
(imagehlp.dll is also used by the profiler and is shipped with ModelSim).
This is a Window only problem.  
</li>
<li>
When a record was forced, the UI crashed instead of issuing the following
message:<br> "<code>Error: can't specify record values</code>".

</li>
<li>
The "whatBrowser" dialog, which allows the user to specify a path to a
web browser, could not be cancelled or ok'ed.

</li>
<li>
An attempt to use the examine command before any design had been loaded resulted in a crash.

</li>
<li>
ModelSim attempts to move the cursor to the relevant time point in the
waveform viewer after double-clicking a message in the Transcript Window
containing time text (e.g. 0.160us). Fractional times did not work correctly. 
For example: "10.125 us" tooks you to 125 us.
</li>
<li>
The compare signal icons did not display correctly when a signal had
differences removed.
</li>
<li>
There was a problem with the windows common dialog when called from the 
Verilog compiler options dialog. Cancel was not being handled correctly; 
it was returning as if "OK" was selected.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.5c</b>
<ul>
<li>
Windows style file paths that include the drive specifier ( e.g. c: ) were 
not handled correctly when used with the <code>`uselib</code> compiler 
directive. The result was a <b>vlog</b> compiler error of the form:
<p>
<code>
ERROR: afile.v(2): Error in `uselib directive: Can't understand '...some part of the uselib directive...'
</code>

</li>
<li>
The Verilog compiler did not accept functions declared to return type
time.
</li>
<li>
Environment variables did not work when specifying <b>-y</b> directories
on the command line. For example:
<p>
<code>vlog -f compile_script</code>
<p>
The file "compile_script" contains the following:<br>
-y $TEST_DIR/src/cells +libext+.v src/a.v
</li>
<li>
Cell optimization where an input port change was not updating the cell state 
when passed through a $setuphold or $recrem delayed net to a sequential UDP 
that was not edge-sensitive to the net.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.5c</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.5c</b>
<ul>
<li>
The time unit of time generics specified by the <b>-g</b> and <b>-G</b> switches
is now case insensitive. In prior releases an error was generated if the time 
unit contained uppercase characters.
</li>
<li>
Returning an array from a function sometimes sent back garbage values.

</li>
<li>
Certain range expressions in VHDL were incorrectly determined
to be equivalent.  This could cause various negative effects in
a VHDL simulation.

</li>
<li>
The VHDL compiler declared an error for a static-sized aggregate with 2 choices
in which one was OTHERS and the other was non-static. Unless the
<b>-pedanticerrors</b> switch is used, the compiler should issue a warning.

</li>
<li>
Recursive VHDL model instantiation caused a crash. It now generates an
elaboration error when decending to 75 levels deep.
</li>
<li>
The compiler crashed when attempting to determine if a for...generate loop, 
whose index was an enumerated type, could be instantiated multiple times.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.5c</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.5c</b>
<ul>
<li>
Added support for a mixture of SDF INTERCONNECT and PORT delay statements to
slices of a bussed input port.  Previously, since both statements mapped to
a single tipd_ generic array, mixed statement types were not supported.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.5c</b>
<ul>
<li>
There was a defect in mapping Verilog parameters compiled with the 
<b>vlog -93</b> option to VHDL generics.   
<p>
The problem was that a lowercase parameter name wasn't being mapped to 
a lowercase generic name when both a lowercase and an uppercase generic 
name existed. Instead it could only be mapped to the escaped uppercase 
generic name. The fix preserves case sesitivity in the mapping.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.5c</b>
<ul>
<li>
Comparing Verilog nets and registers could lead to false negatives.
</li>
<li>
The <b>nolog</b> command worked inconsistently.
</li>
<li>
Memory failures, like freeing the same memory twice, generated an error message
to the transcript and stderr, but did not indicate where the error occurred
in a design. An assertion is now reported.
</li>
<li>
Single stepping sometimes caused the simulator to crash on a Windows or Linux 
machine. The crash occurred when the statement being single-stepped was an 
"if" statement without an "else" clause, and the body of the "then" clause had 
to generate a single machine instruction less than 5 bytes long.
</li>
<li>
<b>vcd2wlf</b> did not correctly handle case sensitivity of port names in 
the VCD file.

</li>
<li>
Logging signals could have resulted in the following error message when
using a dataset in <b>-view</b> mode.
<br> <code>
    Fatal WLF Error (25): checkArgs: WlfValueId has no logfile info.
</code>



</li>
<li>
Fixed license queuing when the license reserve switches are used 
(e.g., lic_vhdl, lic_vlog, lic_plus). Note that when using the license 
reserve switches, the queuing dialog box "Cancel" button has been 
replaced by an "Exit ModelSim" button because these special switches 
attempt license checkout as the session is starting up. To prevent 
queuing when using the license reserve switches, use the
<b>-lic_noqueue</b> switch. 
</li>
<li>
Fixed the following queuing problems in Mentor Graphics Licensing. (Windows Only)
<ul>
<li>
The user was prevented from queuing on multiple features concurrently.

<li>
The user was prevented from checking out an available, more expensive 
feature if a less expensive feature was queued.
</ul>
</li>
<li>
The <b>vmake</b> utility now accepts the command-line switch -fullsrcpath,
which prefixes source file names with full paths to enable building and
running makefiles in directories different from where compiles originally
took place.

</li>
<li>
Upon <b>restart -f</b>, disabled <b>when</b> commands were re-enabled whereas
disabled breakpoints stayed disabled. Disabled <b>when</b> commands
are no longer re-enabled in this situation.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.5c</b>
<ul>
<li>
400370 - The imagehlp.dll file did not get copied to the c:\windows\system directory.

</li>
<li>
287499 - Modelsim: When using the -lic_vlog option it doesn't seem to queue
 up for licenses
</li>
<li>
301809 - ModelSim GUI sets the compile optimzations for 1164 the opposite of 
options.
</li>
<li>
290717 - restart fails when using "configure list -gateexpr"
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.5c</b>
<ul>
<li>
A virtual signal containing a Verilog bit is expanded within a Signals
Window. Double clicking on this Verilog bit to invoke a view
declaration does not bring up the Source Window. If the Source Window
is already opened, it does not highlight this signal.
</li>
<li>
Virtual signals which are a concatenation of a signal from a <b>view
dataset</b> and a sim dataset show "-No Data-" in the Signals Window, even
after simulation.
</li>
<li>
Virtual concatenations which contain a virtual constant always display
a value, even when non-constant children are "-No Data-". For example:
<code>virtual signal {'1' & clk & prdy} foo</code>
</li>
<li>
No waves are displayed in the Wave Window for virtual constants or
virtual functions that are children of virtuals.
</li>
<li>
The following steps show a waveform compare problem.<P>
<UL>
<LI>In the compare wizard, specify an opened dataset and a sim dataset
to be compared (via the compare start functionality).
<LI>Log some simulation signals.
<LI>The button "Update after simulation run" should NOT be checked.
<LI>Click the "Compute Diffs Now" button in the wizard. This message
was given: "Null time range for signal compare". The message could
be improved to "Cannot compare run because no simulation data
currently available"
<LI>Do a run 500.
<LI>Do a compare info command. The following message is given: "No
comparison differences" Does it mean my comparisons were all
matches? A better message choice might be "No available compare
data, please do a compare run or compare update first.".
</UL><P>
A compare run or compare update had not been done, so there should be
no compare results or data. The Wave Window is correct at this point;
the compare signal does not show any compare result.
</li>
<li>
There is an inconsistency in how the path separator works when parsing
commands. Given that the path separator in the example below is "/ ",
.top.clk should not work.<BR>
<code>echo $PathSeparator<BR>
     # /<BR>
     exa /top/clk<BR>
     # 1<BR>
     exa /clk<BR>
     # 1<BR>
     exa clk<BR>
     # 1<BR>
     exa .top.clk<BR>
     # 1<BR>
     exa .clk<BR>
     # evaluating expression ".clk"<BR>
     # No object found matching clk in context /<BR>
     # Item '.clk' not found<BR>
</code>
</li>
<li>
A virtual signal foo is defined. The <B>checkpoint</B> command is issued.
Then, <B>virtual count</B> gives a count of 0. It should be 1. Nothing is saved
during <B>virtual save</B> command. The <B>virtual count</B> and <B>virtual 
save</B> commands before the <B>checkpoint</B> give the correct expected 
results. Also <B>virtual show</B> and <B>virtual describe foo</B> after the 
<B>checkpoint</B> give the correct expected results. <B>virtual count</B>
and<B>virtual save</B> are not working correctly. This bug also exists in 
5.4e
</li>
<li>
In the Library page of the main window workspace, if a design unit is
selected and accessed with a right button click to Edit or Refresh or
Recompile, the following error will occur:<BR>
Error - cannot read work/_info: No such file or directory
<BR>
This bogus error message occurs only when the Library entry field in
the Library page is set to work, and work is logically mapped to
another library directory name.
<BR>
The work around is to set the Library entry field to the actual library
name instead of work.
</li>
<li>
Create a List Window with some signals, <B>choose Prop > Display Props</B>,
select the Triggers page, click on Trigger Gating: Expression, and press
the Use Expression Builder button. Select a signal in the List Window
and press the Insert Selected Signal button in the Expression Builder.
Nothing happens. The selected signal should be added to the expression.
</li>
<li>
In some cases, Redhat 6.0 did not have coverage for the entire source
file. There is no problem with Redhat 6.1, 6.2 and 7.0.
</li>
<li>
List Window scrolling problems:<BR>
<UL>
<LI>When using the Find dialog box to find signals, when the next
signal is outside of what is currently showing in the List Window,
the window is not scrolled to show the next item found.
<LI>If you do a find to the left and the search goes past the
beginning of the list to wrap around to the end of the list and
there's a lot of stuff in the list window that is out of view,
then the List Window scrolls right only one page even though that
does not bring the next selected item into view.
<LI>When doing a search forward on an item's values, the next line to
match is scrolled to the top line but the scroll bar stays the
full length of the scroll bar region. (This is in a List Window
where there aren't very many lines of data.)
<LI>The documentation for the List Window says that the up and down
arrow keys are supposed to move the line selection up or down one
line. The current behavior is that the up and down arrow keys
behave exactly the same as the TAB and shift-TAB keys (searches
for next transition).
</UL>
</li>
<li>
List Window Marker problems:<BR>
<UL>
<LI>If you add a bunch of signals to the List Window then select Markers
> Add Marker with nothing selected in the List Window, then the
2nd list line is highlighted. If you then click on another line
then no marker outline is left on the supposedly added marker
line.
<LI>If you click on some line and do Markers > Add Marker then the line
selected is marked with an outline but the second list line is
highlighted.
<LI>With a marker added on a particular line, if you then click on
various lines in the List Window then the marker outline
occasionally moves to some other line (usually the previously
selected line). Markers don't stay put.
</UL>
</li>
<li>
The <B>List Signal Search</B> dialog does not always display the name of the
selected signal. Names of the format /top/signame do not display. Names
of the format signame do. If I select multiple signals of the first
format, all I see are commas in the Signal Name(s) box.
</li>
<li>
Loading a tcl shared library fails on rs64 with the following message:
<code>ERROR: couldn't load file " testload.sl": readExports: bad magic 
number</code>
</li>
<li>
When ModelSim is invoked with "vsim -lib vhwork", the library entry in
the Design tab of the Load Design dialog box incorrectly shows the
default library "work" instead of the specified library "vhwork".
</li>
<li>
Start a compare, and do some compare runs. If a <B>compare reload</B> command
is unsuccessful, ModelSim does an implicit <B>compare end</B> without
providing an option to save results and the data is lost.
</li>
<li>
When single-stepping in a .coverage_source Window, as long as the
context stays within the current file the coverage numbers can be seen
to increment with each step. If a step causes another source file to be
brought up, then the coverage numbers in the first column do not
increment correctly. Sometimes clicking on the name of the current
source file in the Coverage_Summary Window will correct the problem.


</li>
<li>
The <B>vmap</B> command executed at the VSIM prompt does not update the
Library drop-down list.
</li>
<li>
First, invoke the <B>Design > Create New Library</B> menu item. Second,
attempt to create a new library and mapping resulting in an error. For
example create a new library that already exists, and a windows system 
message dialog appears. Click OK in this dialog.
<P>
The problem is that the Create New Library dialog widget is frozen and
the only way to close it is to click on the "X" in the upper right
corner. This is a Windows
only issue.

</li>
<li>
Follow the steps below:<BR>
<UL>
<LI>Add some wave signals.
<LI>Create a virtual from a couple of these signals.
<LI>Expand the virtual signal tree.
<LI>Double click on the virtual or any child of the virtual (in the
value grid of the Wave Window) to invoke the signal props dialog.
</UL><BR>
The dialog will not come up. Subsequent actions to other signals also fail
to bring up the signal properties dialog. To get out of this "stuck situation",
double click on any signal (in the name grid) to invoke view
declaration.

</li>
<li>
Selected text in the Source Window or Transcript Window gets
unhighlighted when the cursor moves out of the window or to the toolbar
or menu bar. This is a Windows only issue.
</li>
<li>
When multiple variables are selected in the Source Window the variable
balloon (via Right Mouse Button) displays the same variable even when
the cursor is moved from one variable to the next.
</li>
<li>
When the Source Window is brought up the first time, the source colorization 
and highlighting of executable lines will not change dynamically but remain 
constant.<br>
For the case where there is an existing Source Window, and you do a <B>File >
Open</B>, and pick a file which has source lines that just fit the Source
Window, the same non-changeable colorization and highlighting occurs.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.5c</b>
<ul>
<li>
The <b>-v2k_intr_delay</b> switch was changed to <b>-v2k_int_delays</b> to be 
consistent with the other <b>vsim</b> interconnect delay switches. Both switches 
will continue to be supported for compatibility purposes.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.5c</b>
<ul>
<li>
Added a wave tree interrupt method (e.g. .wave.tree interrupt) and
a toolbar icon to invoke it. This will stop any waves currently being 
drawn in the specified window.

</li>
<li>
Added the preference variable PrefSource(OpenOnBreak). This will enable the 
automatic opening of the Source Window when a break or assertion is reached
while running a simulation.
</li>
<li>
The Verilog compiler now supports the <b>+opt</b> option for generating 
optimized code for designs that have been previously compiled unoptimized 
(that is without the <b>-fast</b> option). The syntax for <b>+opt</b> is as 
follows:
<p>
<code>
    +opt+[&lt;lib&gt;.]&lt;module&gt;
</code>

<p>
The &lt;module&gt; specification is the name of the top-level design module, and,
optionally, &lt;lib&gt; is the library that it resides in. By default, the top-level
module is searched for in the work library. If the design has multiple top-level
modules, then provide the names in a list separated by +. For example,

<p>
<code>
    vlog +opt+testbench+globals
</code>

<p>
The optimizations performed by <b>+opt</b> are identical to those performed by 
<b>-fast</b>. The only difference is that <b>+opt</b> does not need to compile
the source code, but instead loads the design units from the libraries and 
regenerates optimized code for them. If the design units reside in multiple 
libraries, then it may be necessary to specify the appropriate library search 
options to the compiler in addition to the <b>+opt</b> option.

<p>
Any options that are appropriate with <b>-fast</b> are also appropiate with 
<b>+opt</b>. Specifically, use the <b>+acc</b> option to enable PLI access, 
and use the <b>-L</b> and <b>-Lf</b> options to specify the libraries to be 
searched. The <b>-fast</b> option is also allowed with <b>+opt</b>, but it is 
only useful if you want to specify the secondary name used for the optimized 
design units (-fast=<name>).

<p>
The <b>+opt</b> option also allows you to compile source files and generate 
optimized code for the design just as is done with <b>-fast</b>. In fact, 
specifying <b>+opt</b> without any top-level modules is equivalent to 
specifying <b>-fast</b>. For example, the following compiler invocations have 
the same effect:

<p>
<code>
    vlog -fast design.v<br>
    vlog +opt design.v
</code>

<p>
If you specify top-level modules to <b>+opt</b> and source files, then code 
will be generated only for the modules referenced within the hierarchy of the 
top-level modules. If any of these modules are not defined in the source files,
then they are loaded from the pre-compiled libraries. It is an error if a 
module cannot be found.

</li>
<li>
Verilog 2001 multisource interconnect support has been implemented.

</li>
</ul>
</BODY>
</HTML>

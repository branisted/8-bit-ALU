
<HEAD>
<TITLE>5.8a Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.8a
<br></h1></center>
<center>
&nbsp;Copyright Model Technology, a Mentor Graphics
<br>
&nbsp;Corporation company, 2003 - All rights reserved.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Dec 19 2003</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#psldefects">PSL Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.8a</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.8a</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.8a</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.8a</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.8a</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
You must recompile or refresh your models if you are moving forward from 5.8 betas or 5.7x or earlier release versions. See "Regenerating your Libraries" 
in the <i>ModelSim Installation & Licensing Guide</i> for more information on refreshing your models. 
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in ModelSim version 5.5c or greater.

</li>
<li>
Product changes and new features mentioned here are introduced in the 5.8a 
release. If you are migrating to the 5.8a release from 5.7x or earlier releases,
please also consult version 5.7x release notes for product changes and new 
features introduced during the 5.7 patch releases. The previous version 
release notes can be found in your modeltech installation directory at 
docs/rlsnotes.
</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the ModelSim
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
Beginning with the 5.8 release, FLEXlm licensing software is upgraded to version 8.2. For floating licenses it will be necessary to verify that the vendor daemon (i.e., modeltech or mgcld) and the license server (i.e., lmgrd) have FLEXlm versions equal to or greater than 8.2.  The vendor daemons and lmgrd that are shipped with this release will be FLEXlm version 8.2.  If the current FLEXlm version of your vendor daemon and lmgrd are less than 8.2, then you need to stop your license server and restart it using the vendor daemon and lmgrd contained in this release.  If you use nodelocked licenses you don't need to do anything.</li>
<li>
Beginning in the 5.8 release, ModelSim will no longer support SDF files compressed in the Unix compress format (.Z), but will support the GNU zip format (.gz).  Therefore, ModelSim will read in compressed SDF files that are created only with GNU zip (gzip).  ModelSim does not require the file to have a .gz extension, but it will error on files that have a .Z extension.</li>
<li>
ModelSim's SystemC support has dependencies on both operating system version and C++ compiler version.  The OS support is slightly different than ModelSim's OS support for designs without SystemC content. Also, 64-bit compilation is not supported for SystemC designs.
<br>
Supported Operating Systems and C++ compilers:<br>
<ul>
<li>RedHat 7.3 and greater, gcc 3.2</li>
<li>SunOS 5.6 and greater, gcc 3.2</li>
<li>HP-UX 11.0 and greater, aCC 3.45 (with associated patches)</li>
</ul>
</li>
<li>
ModelSim LE does not support VHDL. However, it does support Verilog and SystemC.</li>
<li>
CDEBUG compatibility information by platform.<BR>
<UL>
<LI>On HP-UX 11.0, ModelSim uses the built-in HP wdb 3.3 program as the underlying C/C++ debugger.  In order to run wdb successfully, you must have installed HP-UX PHSS_23842, or a superseding patch.  Without this patch installed, error messages will occur during CDEBUG startup.
<LI>On rs6000, gdb-6.0 works with gcc-3.2. Additionally, when creating shared objects, 'ld' (/bin/ld) should be used, not 'gcc'.
This combination works with AIX-5.1. On AIX-5.1  use gcc-3.2-aix51.
The native compiler /bin/cc is not compatible with gdb-6.0.
</UL>

</li>
<li>
The vcom compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches -87, -93, or -2002, or<br>
<LI>set the VHDL93 variable in the [vcom] section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
</li>
<li>
The following platform changes are effective as of the 5.8 release.<BR>

<UL>
<LI>For Linux: 
<UL>
<LI>Linux is built on RedHat Enterprise Workstation 2.1. This version is compatible with RedHat 7.2 and higher. 
<LI>RedHat 6.0 through 7.1 will be supported for one release with a new platform vco, called linux_rh60. 
<LI>RedHat 9.0 is now supported (32-bit only).
<LI>We will soon validate 32-bit ModelSim on the Opteron platform (in 32-bit mode only). The first OS to be supported is SuSE SLES 9. It is not recommended to run 32-bit ModelSim on versions of SuSE earlier than 9. At the time of writing this release note, ModelSim has not been validated on SuSE 9 although this validation should be completed soon.
<LI> Linux now supports large files. 
</UL>
<LI>For AIX:
<UL> 
<LI>rs64 is built on AIX 5.1 and, as such, supports AIX 5.1 and higher OS versions. 
<LI>rs64 no longer supports AIX 4.3.
<LI>rs64 will support large files if you are using a JFS type file system and the large file option is enabled.
<LI>AIX version 4.2 is discontinued.
</UL>
</UL>

</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8, 9
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.8a</b>
<ul>
<li>
It was possible to install a virtual signal in a virtual region, but it was not
possible to see the virtual signal in the Signals window because the virtual region could not be selected in the sim pane.</li>
<li>
The encoding system was not initialized properly when ModelSim was started without a design.</li>
<li>
The GUI crashed when loading a Verilog module with a large number of source files.</li>
<li>
When the <b>mem search -replace</b> command was used to change the value of a VHDL signal memory, the changes in the value were not logged.</li>
<li>
The <b>nolog</b> command only recognized the last port mode on the command line.  For example, the command <b>nolog -in -out *</b> only nologged the -out signals.</li>
<li>
Under obscure conditions the following error message was reported:<br>
"INTERNAL ERROR: Illegal array element type in log_event."
</li>
<li>
<b>mem load -filldata { }</b> did not generate an error message.</li>
<li>
The input address range in the Change/Load/Save dialogs of the Memory window is now checked so it matches the address radix used in the currently viewed memory.</li>
<li>
The Memory window was highlighting an incorrect amount of data after "Data Search" when the search pattern involved an escaped id.</li>
<li>
In GUI mode, if vsim was started with options that are valid only
when loading a design but no design was specified, the GUI appeared to hang.
The footer message Loading... would be present and updating.  In fact,
there was a ModelSim> prompt that was completely usable along with the
menus.  ModelSim was changed so that on a load error when no
design is specified the loading message is turned off.</li>
<li>
The command <b>report simulator</b> was inadvertently changed to <b>report simulation</b>.  It has been changed back.
</li>
<li>
A problem viewing HTML Help documents existed when ModelSim was installed on a remote location requiring UNC pathname access to the help documents.
</li>
<li>
In some cases certain radix settings caused analog waves to display incorrectly.
</li>
<li>
The SIGPIPE signal on UNIX systems caused the vish process to exit. This happened if the user wrote to a user-created TCL socket where the process owning the other end of the socket was terminated. The vish signal handler no longer catches SIGPIPE.</li>
<li>
<b>mem load</b> with an ASCII compressed file and the <b>-filldata</b> option did not work properly.</li>
<li>
The 5.8 GUI supports the ability to "drag-out" window panes from the Main window. If 5.7x was invoked and used after this operation was performed in 5.8, a crash resulted.  </li>
<li>
The column widths of the coverage report output were increased to prevent large counts from being merged together and making the report difficult to read.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.8a</b>
<ul>
<li>
In some cases a design compiled with <b>-fast</b> produced incorrect results from continuous assignments having unequal widths or signs between the left-hand side and right-hand side.
</li>
<li>
Previously, in indexed part selects, whitespace was permitted between characters (eg, "+ :", "-  :"). This syntax now generates a warning.</li>
<li>
Expressions of the form ~(x & y) and ~(x | y) in some cases generated incorrect machine code due to improper optimizations.</li>
<li>
The assignment of a floating point value to a register was truncated to a 64-bit integer even if the register was large enough to hold the converted value.
</li>
<li>
Hierarchical references to memory elements in external modules resulted in excessive memory allocation (equivalent to the size of the entire memory for each reference).
</li>
<li>
In some cases a large number of nested generate conditionals resulted in a compiler hang.</li>
<li>
A design compiled with <b>-fast</b> produced incorrect results if different instances of the same module had the same parameter set to the same value, but the sign of the value differed, and if sign extension on that parameter affected expression results.</li>
<li>
Verilog named blocks with no variable declarations in some cases crashed the simulator if they were contained within another named block that was disabled and the model was compiled with <b>-fast</b>.</li>
<li>
Expressions of the form (~p & c) and (~p | c) in some cases resulted in a compiler crash if "p" was a parameter and "c" was a constant expression.</li>
<li>
Large modules containing many hierarchical references resulted in slow compiler performance.</li>
<li>
A port consisting of a concatenation having mixed port modes incorrectly resulted in a compiler error message.</li>
<li>
Exiting a simulation with $finish in Windows 2000 could leave an orphaned vsimk.exe process.</li>
<li>
In some cases a design compiled with -fast resulted in incorrect parameter values, particularly in cases with parameters having string values.</li>
<li>
Simulation errors could occur during SDF annotation 
of interconnect delay to a module port when the module port was 
hierarchically right above an optimized cell port with a $setuphold
or $recrem timing check.</li>
<li>
Simulations using SmartModels on 64-bit platforms were getting invalid time values when the time exceeded 2147483647 time units.</li>
<li>
Generate-conditional branching was not performed properly when tasks and
functions were defined inside a generate-conditional.  This could
result in the unexpected execution of a conditional branch.</li>
<li>
Instances and nets within `protect...`endprotect regions could not be SDF-annotated.  It is now possible to use the -sdfmin/-sdftyp/-sdfmax vsim options to annotate protected code. However, the $sdf_annotate() system task is still not supported with `protect.</li>
<li>
`delay_mode_unit did not work correctly with zero-delay UDPs.</li>
<li>
In some cases the $random system task caused a crash if used as a statement.</li>
<li>
In some cases an out-of-bounds memory select produced an incorrectly sized 'X' result where the result was lengthened because of context. The 'X' result should always be the size of the memory element.</li>
<li>
In some cases an always block having a part-select of a vector net in the sensitivity list resulted in an internal compiler error where the bounds of the part-select contained parameter expressions.</li>
<li>
Under rare conditions vlog would not write a module to the library even though it generated a message indicating it was compiled.</li>
<li>
Verilog designs with hazard detection enabled could crash if run multiple times within the same ModelSim session (e.g., simulate, quit -sim, reload design, simulate....).</li>
<li>
A compiler warning is now issued if an out-of-bounds bit select is detected.  The warning may be suppressed with the +nowarnBSOB compiler switch.  Previously, this check was only performed if the -lint switch was on.</li>
<li>
Compiling a design with <b>-fast</b> resulted in an internal compiler error if the design contained a conditional specify path where the condition was constant after the optimizer propagated a constant through a continuous assignment.</li>
<li>
A design compiled with <b>-fast</b> in some cases produced incorrect results if a vector net was connected to a port of an inlined module where the port type was the dominant net type (a wand type, for example).</li>
<li>
In some situations a non-blocking assignment to a 32-bit concatenation of single-bit values caused the top bit to be assigned a value that could not be changed by later assignments.</li>
<li>
A design compiled with <b>-fast</b> resulted in a compiler crash or false error if a 1-bit wide vector register was connected to a 1-bit wide vector port of an inlined instance and if the instantiated module contained a part-select of that port.
</li>
<li>
The <b>-fast</b> optimization that propagates constants through continuous assignments produced incorrect behavior in some cases if a constant was propagated through multiple continuous assignments involving varying width vector nets.
</li>
<li>
Signals window port values for optimized Verilog cells (<b>-fast</b>) were being displayed as "Bad Data" in some cases.</li>
<li>
In a design with multisource interconnects, if only a subset of the interconnects was annotated, a driver could be connected incorrectly.</li>
<li>
Various errors and crashes occurred when a task or function was defined within a generate conditional block.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.8a</b>
<ul>
<li>
Sometimes vpi_iterate(vpiPorts, netbit_handle) gave an internal error claiming that iterating on ports was not supported for net bits.

</li>
<li>
vpi_handle(vpiSimNet, net_handle) has been implemented.
</li>
<li>
An unsupported data type or error condition occurring in acc_handle_tfarg() now returns a NULL handle. Previously it could result in a crash.</li>
<li>
The vpi_put_value() function now supports returning a handle of type vpiSchedEvent
and this handle can be passed in as the obj to vpi_put_value() with the flags set
to vpiCancelEvent to cancel the scheduled event.  The vpiSchedEvent handle will 
work as expected with the functions vpi_get() and vpi_free_object().</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.8a</b>
<ul>
<li>
The simulator crashed in some cases if an entity/component's port was an unconstrained array of records and subelement association was used in the port map.</li>
<li>
VITAL models that used the function VitalExtendToFillDelay did not
correctly generate elab files. When the elab file was loaded and run
the simulation reported an error:<br>
<code>
# ** Error: VitalExtendToFillDelay(delay'length /= [1,2,3,6])<br>
#    Time: 0 ns  Iteration: 0  Instance: /INSTANCE<br>
# ** Fatal: (vsim-3482) Negative delay in signal assignment.
</code></li>
<li>
In some cases, ModelSim SE crashed after forcing a signal that was driven by a clocked process.</li>
<li>
VHDL would generate incorrect error messages about extra ports being present
in a port map if an error occurred when trying to load a design unit that
did not exist.<br>
<code>
# ** Error: (vsim-3732) src/test69.vhd(226): No default binding for component at /c1.<br>
#  (Port 'outb' is not on the entity.)<br>
#         Region: /top_test69/c1
</code></li>
<li>
VHDL condition code coverage did not work for VHDL variables,
for integer relational subexpressions, or for std_logic
comparison with 'L' or 'H'.
</li>
<li>
If a package containing a constant is defined using nested concatenations, and the package is compiled at an optimization level (e.g., <b>-O0</b>) different from other design units that reference the package, references to objects in the package may be incorrect. In some cases this caused crashes or incorrect values to be computed. Changes were made to the compiler to ensure that the sequence of values and type descriptors exported by a package are consistent with the expected sequence, even under different optimization levels.

<br>
NOTE: This change renders libraries created under version 5.8 incompatible with version 5.8a if the libraries contain packages compiled under different optimization levels. Therefore, these libraries must be refreshed. This issue effects ModelSim SE only.</li>
<li>
A warning message in some cases was incorrectly produced by the compiler in which generate statements contained declarative items. The message warned about a missing BEGIN keyword even when the BEGIN was present. The generated code is correct and it is safe to ignore the warning.

</li>
<li>
Warning/error messages are now issued when generate statements use non-static values as conditions or ranges.</li>
<li>
If variables in a process or procedure/function were inferred to be constants, and the declarations were out of order relative to their assignment statements, it was possible that initial values of variables with earlier declarations did not reflect their assigned values. This problem was addressed by reordering declarations within the compiler to conform to the order of assignments.</li>
<li>
After forces were applied to a VHDL signal, if an examine was done before
a run command then a crash could occur during the examine command.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.8a</b>
<ul>
<li>
mti_FindRegion() erroneously returned NULL if the leaf name of the
input pathname contained uppercase character(s) and the object being
sought was the instance name of a Verilog instance that was a basic
identifier.</li>
<li>
Calling mti_GetProductVersion() from within a quit callback caused ModelSim to exit with an error status indicating a license problem. </li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.8a</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 5.8a</b>
<ul>
<li>
After an elaboration error such as a port mismatch, SystemC did not unload the shared library correctly. When re-elaborating the design, the incorrect message "Error: Time Resolution already set ..." was displayed. The problem existed on all platforms except Solaris 5.6 and 7. For those two platforms, the user may issue <b>quit -sim</b> prior to reloading the design.  This command forces ModelSim to unload shared objects, including the SystemC library.</li>
<li>
There was a problem using typedef names in template arguments.</li>
<li>
User SystemC constructors did not successfully load shared objects.
Furthermore, such shared objects can successfully refer to symbols in the user's SystemC source files.</li>
<li>
In the modelsim.ini file, the variable PathSeparator allows the user to change the path separator. SystemC failed when the PathSeparator was not set to '/'.
</li>
<li>
Designs containing SystemC modules crashed during exit if elaborated in the cosim shadow network mode.  </li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="psldefects"></a><b>PSL Defects Repaired in 5.8a</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.8a</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.8a</b>
<ul>
<li>
The size of WLF files created by the <b>wlfman</b> filter operation has been reduced.  Also, the default order of the resultant signals has been corrected to match the order in the input WLF file.</li>
<li>
A <b>wlfman</b> filter bug prevented Verilog named events from being written to the output WLF file.</li>
<li>
<b>scgenmod</b> did not handle ports of type std_logic_vector correctly.</li>
<li>
VCD escaped identifiers were not handled correctly.</li>
<li>
When using <b>-f</b> to specify a file containing additional command line arguments, in some cases the simulator produced the following message:<br> execv: Arg list too long</li>
<li>
The use of <b>-cover t</b> or <b>-cover x</b> sometimes resulted in a crash during elaboration.</li>
<li>
The <b>where</b> command would incorrectly give the following error when used without a loaded design:<br>
** Error: (vish-4000) A design must be loaded before the where command can be used.</li>
<li>
<b>vcd2wlf</b> had a problem related to single bit busses with non-zero left and right elements of the form "foo[12:12]" connected to (i.e., sharing the same VCD identifier with) a scalar signal.
</li>
<li>
When loading an elab file, the default radix from the modelsim.ini file
was not restored.</li>
<li>
<b>wlfman</b> had a problem which could result in scopes being generated in a different order than in the original wlf file.  This problem occurred only on sunos5v9, rs6000, rs64, and win32 platforms.</li>
<li>
If a soft link was used for the modelsim.ini file, any update of the .ini file by a ModelSim tool (e.g., vmap) resulted in the link being replaced by a local file.<br>
The same issue exists with hard links. The hard link issue will not be fixed.</li>
<li>
A license failure problem existed in LE when doing a reload of a design while running with a nodelocked license.</li>
<li>
The toggle add command has been changed for SE only so that it no longer requires a coverage license. This change returns the toggle add command to its former behavior prior to 5.8. A coverage license is still required for PE or LE and for extended (-full) toggle coverage.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.8a</b>
<ul>
<li>
DR 00156540 - Should give error on incorrect part-select syntax. </li>
<li>
DR 00158785 - cosim issue with do file and missing -do argument.  The simulator will  hang if there is any problem while attempting to elaborate the design in this mode.</li>
<li>
DR 00157556 - Adding a force in a design with certain VHDL process optimizations could result in a crash.</li>
<li>
DR 00159272 - MTI Simulator reports incorrect simulation time from VMC SWIFT Model.</li>
<li>
DR 00161341 - Modelsim solaris 64-bit crashes on instantiation with 64-ports.</li>
<li>
DR 00148685 - Wrong VHDL generation due to vectors in verilog module declaration.</li>
<li>
DR 00159570 - "-h" option to vsim shows a big part of TCL code.</li>
<li>
DR 00148932 - X-values do not get propagated correctly through design when
using the XOR operator.</li>
<li>
DR 00157918 - Finding objects of type vpiPorts from objects of type vpiNetBit not
been implemented.</li>
<li>
DR 00161950 - modelsim.ini library information not being reloaded into .mpf file
on closing and reopening a project.</li>
<li>
DR 0000162798 - Analog format not available with ModelSim 5.8.</li>
<li>
DR 00152231 - Request for error messages 3365 and 3061 that report port number
to report the port name as well.</li>
<li>
DR 00149344 - Support for field width formatting in common Verilog escape
sequences.</li>
<li>
ER 00153227 - Request for vpi_put_value() to return a an event handle and also for support of vpiNamedEvent or canceling a scheduled event.<br>
This enhancement has been implemented with the exception of the vpiNamedEvent portion.</li>
<li>
ER 00141777 - SDF annotation isn't currently supported to `protected portions of
the design.<br>
This enhancement request was implemented via command line options <b>-sdfmin</b>,
<b>-sdftyp</b> and <b>-sdfmax</b> for protected code. However, the $sdf_annotate() system task is still not supported with `protect.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.8a</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.8a</b>
<ul>
<li>
<b>profile option collapse_sections</b> does not need to be specified before the first <b>run</b> command after <b>profile on</b>. Prior to the new behavior, the collapse_sections option filtered the profile data as it was collected. Now, this option affects only the contents of the data reported by the next <b>profile report</b> command.
<b>profile option collapse_sections</b> and <b>profile option raw_data</b> continue to toggle the current setting. Now it is possible to set these options on or off, or query their current values:<br>
<code>
profile option collapse_sections|raw_data [on|off|status]
</code></li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.8a</b>
<ul>
<li>
The ModelSim Wave window Combine Selected Signals dialog box now supports reversing the bits of signals being concatenated. This is also supported now by the <b>virtual signal</b> command. For details, see the ModelSim User manuals.</li>
<li>
New features were added to the <b>verror</b> command: 
<PRE>
Usage: verror [-fmt|-tag|-full] &lt;msgNum&gt; ...
       verror [-fmt|-tag|-full] [-kind &lt;facility&gt;] -all
       verror -ranges
</PRE>
The <b>-fmt</b> option prints out the format string which is used in the actual error message.<br>
The <b>-tag</b> option prints the error message tag used internally.<br>
The <b>-full</b> option prints the tag, format, and help text for the messages.<br>
The <b>-all</b> option dumps all the error messages, or, using the <b>-kind</b> option, the dump can be limited to a particular facility.  This is useful for "grep"ing for a particular error message.<br>
The <b>-ranges</b> option dumps the numeric ranges of error message numbers by facility.<br>
</li>
<li>
The <b>WLFOptimize</b> directive has been added to the modelsim.ini file to turn WLF optimization on or off.  WLF optimization was added in 5.8 and is on by default.</li>
<li>
A <b>-all</b> option has been added to the <b>vdir</b> command. It lists the contents of all libraries listed in the library mapping file.
Below is the new command syntax:<br>
<code>
vdir [-l] [-r] { [-all] | [-lib &lt;path&gt;] [&lt;primary&gt;] }
</code>
</li>
<li>
The vsim <b>–coverage</b> and <b>-cover</b> options can now be used interchangeably.</li>
<li>
VHDL aliases can now be viewed in the Signals window and added to the List and Wave windows.</li>
<li>
A new Wave window preference (On Close Warn for Save Format) was added. If this option is set in the Wave Window Preferences dialog, the user is prompted to save the format if an attempt is made to close the Wave window.</li>
<li>
A new option "Automatic Add to Wave" was added to the Dataflow Options dialog to enable/disable ChaseX/TraceX automatic addition to the Wave window.</li>
<li>
An option has been added to the Source window Examine to allow examination of values at the current active cursor time. New menu items have been added to the Source window menu Tools > Options:<br>
Examine Now<br>
Examine Current Cursor<br>

</li>
<li>
Two new subcommands for toggle coverage have been added. <b>toggle disable</b> will disable the gathering and reporting of toggle data for the specified signals. 
<b>toggle enable</b> will re-instate gathering and reporting of toggle data on signals that were previously disabled. The <b>coverage save</b> command will ignore disabled toggle signals. The usage is: <BR> 
<code>
toggle [disable | enable] [-all] [-in] [-inout] [-internal] [-out] [-ports] [-r] &lt;node_name&gt;
</code>
<BR> where &lt;node_name&gt; may be a wildcard expression.</li>
<li>
vsim messages 3017, 3061, and 3365 have been enhanced to print out the port names. The following messages have been added to improve the above messages:
3722, 3060, and 3389.</li>
<li>
A new option, "profile", has been added to the wlfman utility.<BR>
<code>
  wlfman profile [-rank] [-top &lt;number&gt;] &lt;wlffile&gt;<BR>
</code>
This option provides information about the approximate space used in the wlf file for each signal logged.  The <B>-rank</B> switch will order this information by most to least space used.  The <B>-top</B> &lt;number&gt; option will limit the signals listed to only the &lt;number&gt; that use the most space.</li>
<li>
ModelSim 5.8a now supports an assertion-based verification flow with the release of its PSL implementation for the VHDL language.  Vcom will accept PSL statements either as embedded pragmas within VHDL source code, or from an external file containing vunit declarations.  Along with assertion text messaging during simulation, a gui-based browser allows for easy inspection and control of the assertions instances.  Additionally, assertion behavior can be monitored over time in the waveform viewer.  For further details about supported constructs and tool usage please consult the ModelSim User Guide.</li>
<li>
In 5.8a the behavior of the toggle add command has changed
slightly. It now returns the following:
<UL>
<LI>If no signals are added and no signals are found to already be
in the toggle set, "Nothing added." is returned. (The reliability
of this message has been improved.)
<LI>
If no signals are added and some signals are found to already be
in the toggle set, "0" is returned.
<LI>
If some signals are added, the count of the number of bits added
is returned. Signals found to already be in the toggle set are
ignored.
</UL></li>
<li>
Added -fast support for Verilog 2001 configurations.</li>
</ul>
</BODY>
</HTML>

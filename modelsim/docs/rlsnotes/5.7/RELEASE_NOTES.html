
<HEAD>
<TITLE>5.7 Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#C0C0C0" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.7
<br></h1></center>
<center>
&nbsp;Copyright Model Technology, a Mentor Graphics
<br>
&nbsp;Corporation company, 2002 - All rights reserved.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Dec 18 2002</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.7</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.7</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.7</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.7</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.7</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
You must recompile or refresh your models if you are moving forward from 5.7 
Betas or 5.6x or earlier release versions. See "Regenerating your Libraries" 
in the ModelSim Start Here Guide for more information on refreshing your models. 
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in ModelSim version 5.5c or greater.

</li>
<li>
Product changes and new features mentioned here are introduced in the 5.7 
release. If you are migrating to the 5.7 release from 5.5x or earlier releases,
please also consult version 5.6x release notes for product changes and new 
features introduced during the 5.6 patch releases. The previous version 
release notes can be found in your modeltech installation directory at 
docs/rlsnotes.
</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the ModelSim
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only)
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8
   <li>hp700aloem - HP-UX 11
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.7</b>
<ul>
<li>
Scrollbar auto-repeat in the Wave window has been enabled.
</li>
<li>
Virtual functions containing a user-defined type conversion on 
a slice of a VHDL array of type bit would fail to update
properly in the Wave window.
</li>
<li>
In some cases, a bit or slice of a VHDL vector would not get re-logged
following a <b>restart</b> command.
</li>
<li>
Selecting nets in the Dataflow window should update the Structure, Signals, and Source windows to reflect the selected object.  This feature stopped working in 5.6c.  For those that prefer the behavior where selection does not affect these windows, there is an option in the Tools->Options dialog that can disable this feature.
</li>
<li>
The <b>rename</b> command did not correctly handle renaming procedures
when called from a procedure in a non-global namespace.</li>
<li>
In rare cases the spacing between lines in the Wave window was not correct 
following a <b>restart</b> command or loading a wave format file.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.7</b>
<ul>
<li>
Forcing a Verilog register with a delay of 0 caused incorrect evaluation of 
statements sensitive to the register in some cases.
The statements were incorrectly evaluated at the next time step where
there was an event instead of being evaluated at the current time step.
This occurred when there were no pending events or processes.
If there were pending events or processes, the statements were evaluated 
correctly.

</li>
<li>
The <b>-R</b> compiler option did not work in conjunction with <b>-fast</b> or 
<b>+opt</b>.

</li>
<li>
The destination port of a specify path must have a single driver on it. 
ModelSim now issues an error when this rule is violated. (Ref: DR 329416)

</li>
<li>
Enhanced <b>-fast</b> optimization so that incremental compile 
(<b>-incr</b>) works with it so that designs that have changed may recompile 
faster.
</li>
<li>
Enhanced the vlog <b>-vlog95compat</b> switch to disable Verilog 2001 keywords.

</li>
<li>
Incorrect path delay sometimes occurred in the following case:
<ul>
<li> The cell was compiled optimized (<b>-fast</b>).
<li>  Multiple input changes occurred together.
<li> At least one of the changing inputs was not level sensitive and only
   sensitive to one edge (either rising or falling).
<li> The wire connected to the edge sensitive input was connected to
   multiple other inputs that were also only edge sensitive.
</ul>

</li>
<li>
A net delay in the wire declaration for an input port was incorrectly
ignored when a register (or any other non-net expression) was connected
to the port.
</li>
<li>
The initial drive strength of $setuphold/$recrem delayed nets was high impedance instead of strong causing some impedance strengths to output.
</li>
<li>
Verilog primitive instance arrays caused crashes in two ways. One was when they 
were compiled with <b>-fast</b> and the other was when the nets connected to 
them were part selects of nets.</li>
<li>
Any net connected to any port of an array of instances must be either
as wide as the port or as wide as the product of the port width and the
instance array width. When both of these conditions were violated the
simulation crashed in some cases.</li>
<li>
A $display of a bit-select of a vector net crashed the simulator
in some rare cases if the design was compiled with <b>-fast</b>.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.7</b>
<ul>
<li>
When an elaboration error occurred, the simulator called PLI misctf routines
with the reason_reset reason, this was the first call received by PLI
applications in this scenario. The reason_reset call was unexpected by some
PLI applications in this case. The simulator no longer makes the call in this 
case.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.7</b>
<ul>
<li>
Overloaded functions/procedures with record-type arguments were not
disambiguated on the basis of field names of the records. For example,
a procedure call p(a.f1=>1,a.f2=>2) would match with declarations p(a:r1)
and p(a:r2) where type r1 has fields f1 and f2 and type r2 has fields
g1 and g2.
</li>
<li>
In some cases ports of type record caused a crash.  The
conditions were that the record type consisted of only one scalar
element, the port map used subelement association, and the actual was
a scalar signal that was not part of another composite.
</li>
<li>
The <b>-O5</b> optimization switch produced code that
reused a parameter to a kernel function within the simulator. The PC
code generator incorrectly reused the register holding the parameter
value prior to the function call. (Ref: DR 329109) 
</li>
<li>
The <b>examine</b> command could hang or crash if the current active process 
was a merged process or a full path to a merged process was specified in the 
<b>examine</b> command.
</li>
<li>
When doing a type conversion, if the type specified was unconstrained the
range was taken directly from the object being converted and must be valid
for the type being converted to.  If the type of the object being converted
was locally static and the converting type was also locally static this check
was done in the compiler.  If the object type's range was not valid for
the converting type the error message issued was confusing. This was because
the line number that was referenced was not at the type conversion but at the
line number of the definition of the object's type which could be in a different
file. The line number of the type conversion is now given.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.7</b>
<ul>
<li>
The use of mti_FindVar() from within a foreign subprogram sometimes caused a 
memory allocation error. If a VHDL process or subprogram called a foreign 
subprogram and the foreign subprogram made a call to mti_FindVar() with a path
to a signal, constant, generic, or shared variable declared in a scope other
than a process, a memory allocation failure occurred if the calling
process had a wait statement or triggered a breakpoint.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.7</b>
<ul>
<li>
The VitalMemoryViolation routine sometimes failed a table lookup.
</li>
<li>
VITAL 2000 VitalPathDelay() calls with the IgnoreDefaultDelay flag set to "TRUE" 
sometimes did not exhibit the expected behavior.</li>
<li>
If VITAL optimization failed to completely optimize a level 1 VITAL model
that contained skew checks, the simulator generated an error when the
skew check was done.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.7</b>
<ul>
<li>
If a Verilog inout port with a Verilog 2001 interconnect delay
(i.e. <b>-v2k_int_delay</b> switch is on) was connected to a VHDL architecture,
the VHDL output driver was not correctly connected to the Verilog inout port
resulting in no output drive value from the VHDL architecture.

</li>
<li>
If a Verilog module instantated a VHDL entity, and one or more of the
VHDL entity's ports were zero width, (NULL array), and these ports were 
connected to Verilog registers or wires, ModelSim crashed instead of
issuing a width mismatch error. ModelSim no longer crashes and now issues
the correct error message.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.7</b>
<ul>
<li>
Events are typically processed in the simulator with a last-in,
first-out algorithm (i.e. the last event scheduled at a time is the
first event processed at that time).

However, in certain cases based on the size of the simulator's event
queue (also known as the "time wheel"), this order was not
preserved.
</li>
<li>
On the rs6000 and rs64 platforms: Function calls to PLI, FLI, or VHDL
packages from within native code produced by the simulator sometimes were 
incorrectly formed if the target address was known at the time the call was 
generated, and if the target was within 16M bytes of the call.
</li>
<li>
A crash occurred when elaboration exceeded 2Gb under just the right conditions.
This problem only occurred on the RS6000 platform.  
</li>
<li>
Using <b>-gui</b> on the vsim command line before <b>-elab</b> caused the 
simulation to run after the elaboration file was created, as though 
<b>-elab_cont</b> was used instead of <b>-elab</b>. Using <b>-gui</b> on the 
command line after <b>-elab</b> or <b>-elab_cont</b> resulted in an error. 
This is the expected behavior and vsim was fixed to issue an error if 
<b>-gui</b> is used with <b>-elab</b> or <b>-elab_cont</b>. The <b>-i</b> flag
is used to create an elaboration file that will launch the GUI when loading the
elaboration file.</li>
<li>
Errors occurred in some cases when loading an elaboration file 
(<b>-load_elab</b>) and transcripted a large number of messages. The errors 
did not affect elaboration or simulation. The error messages were similar to 
the following:<BR>
<code>
Error while purging stdout stream! Error: can't read "FileWatch(file)": no such variable<BR>
Error while reopening stdout stream! Error: can't read "FileWatch(fileName)": no such variable
</code></li>
<li>
A simulation <b>restart</b> following an <b>add wave -optcells</b> command 
failed with port not found errors.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.7</b>
<ul>
<li>
DR326527 - Machine Code Not Found error message misleading.
<BR>
If for some reason the simulator failed to open a .asm file during elaboration,
the error message gave insufficient information to diagnose the problem.
In this particular case, too many files were open at the same time
(the shell #files limit was set too low). The error message was
enhanced to report more information; specifically, the OS reason for
the failure.

</li>
<li>
DR319500 - vsim does not use DOPATH env variable for <b>-do</b> option specified on 
command line.
<BR>
The DOPATH environment variable isn't accessible when you invoke <b>vsim</b> 
from a Unix shell or from a Windows command prompt. It is accessible once 
ModelSim or <b>vsim</b> is invoked. If you need to invoke from a shell or 
command line and use the DOPATH environment variable, use the following 
syntax:<br> 
<code>vsim -do &quot;do &lt;dofile_name&gt;&quot; &lt;design_unit&gt;</code>
</li>
<li>
DR328634 - Misleading compile error message for types declared more than once.
</li>
<li>
DR332161 - Problem with examine function in Wave window.<br>
Arrays were incorrectly or incompletely displayed via the <b>examine</b> 
operation or popup.
</li>
<li>
ER169516 - Add ability to specify wave gridlines/period.</li>
<li>
DR273647 - Forcing a bus does not work.</li>
<li>
DR303807 - Cannot examine virtual signal if not logged.</li>
<li>
DR316239 - VHDL design with multiple archs...Source window always grabs last 
compiled arch.</li>
<li>
DR317452 - Write transcript command doesn't work in batch mode.</li>
<li>
DR327464 - Generic values are not restored from project.</li>
<li>
DR328362 - Error (vish-19) Failed to access library 'lib1xlib2' at "lib1xlib2"</li>
<li>
DR329109 - Assertion violation under RH 7.2 but not when run on Solaris.</li>
<li>
DR329416 - No error or warning when module path output nets have more than 
one driver.</li>
<li>
DR329799 - Can't compile a VHDL file in 5.65 that would compile in 5.6x.</li>
<li>
DR329904 - Dragging VHDL signal into Dataflow window crashes ModelSim.</li>
<li>
DR330747 - The "drivers" command report "anonymous".</li>
<li>
DR331046 - falling edge is not correct for v5.65.</li>
<li>
DR331109 - Back-annotation does not work on a net between mixed-HDL 
hierarchical boundaries.</li>
<li>
DR331110 - Incorrect simulation results on HP-UX and Linux.</li>
<li>
DR332044 - Getting fatal error exiting with code 211 during vsim.</li>
<li>
DR333290 - Vital2000 sim. behavior differs when using -novital compile vs. 
default.</li>
<li>
DR332554 - Conditional causing corruption of data. </li>
<li>
DR332161 - Problem with examine function in Wave window.</li>
<li>
DR333437 - 5.6E hangs when launched from Mentor Graphics "DesignView" product.</li>
<li>
DR333446 - fscanf file read limitation. </li>
<li>
DR 331167 - Greatly improved restart performance when many (thousands) of signals
are in the wave window.</li>
<li>
DR334440 - Cannot add several >1 existing files to project.</li>
<li>
ER331440 - Enhancement on the code coverage display.</li>
<li>
ER285787 - Want branch/conditional test coverage added.</li>
<li>
DR334652 - The <b>compare add</b> command adds all signals instead of reporting 
command usage.<BR>

The 5.7 ModelSim release has been modified so that use of
<b>compare add</b> requires the use of a signal pathname or
wildcard (*).  If no pathname or wildcard is used, the
<b>compare add</b> command results in the following message:
<code>
   # ERROR: Required reference path or pattern not specified.
</code></li>
<li>
DR333027 - vsim aborts but no shell prompt.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.7</b>
<ul>
<li>
When an implicit wire process is selected in the Process window, the
highlighted line number in the Source window is incorrect. The source
line being selected is actually the next available process closest to
this implicit wire process.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.7</b>
<ul>
<li>
This release has a new default layout of the windows.  The Main window contains
more window panes and more information so it has been made larger.  The old 
default layout can be viewed by selecting the Millennium layout style 
(Window->Layout Style->Millennium).</li>
<li>
mti_FindSignal() was enhanced to be able to find indexed array subelements and 
record field subelements.
</li>
<li>
The <b>find</b> and <b>examine</b> commands were enhanced to
allow wildcarding at any level of a hierarchical pathname except
for within a slice range specification or an extended identifier.
'*' and '?' wildcards can be used with both commands.  '[]' wildcards
can be used only with the <b>find</b> command. Both commands can
now find any object in a design except, of course, those in nodebug regions.

</li>
<li>
mti_FindVar(), mti_GetVarAddr(), and mti_GetVarImage() were enhanced to be able
to find indexed array subelements and record field subelements.
</li>
<li>
In the past when the Tcl commands <b>continue</b>, <b>break</b>, and
<b>return</b> were executed in a do file, the commands were ignored.
Now these commands are handled appropriately: the <b>return</b> command
will cause the do file to stop executing and return immediately to its caller;
the <b>continue</b> and <b>break</b> commands will produce an error.

</li>
<li>
The Dataflow window automatically hides the contents of instances that have 
either 'celldefine, VITAL_LEVEL0, or VITAL_LEVEL1 attributes. To display the 
contents of a particular instance, select the instance and choose 
Navigate->Show Selected from the menu. To disable automatic cell recognition, 
unselect the "Hide cells" in the Tools->Options dialog box.

</li>
<li>
The 5.7 ModelSim release has been modified so that use of
<b>compare add</b> requires the use of a signal pathname or
wildcard (*).  If no pathname or wildcard is used, the
<b>compare add</b> command results in the following message:
<code> # ERROR: Required reference path or pattern not specified.
</code></li>
<li>
A Verilog sequential UDP no longer updates its output immediately on evaluation.
The output is updated in the next iteration so as to minimize races
between clocked sequential elements when running a zero delay functional
simulation.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.7</b>
<ul>
<li>
New Wave Window Cursor Features:<BR>
<UL>
<LI> Wave cursors have names under the wave name column. The names can be
  edited via the Wave Cursor Properties dialog or by right-clicking on the name,
  then entering a new name followed by hitting the Enter key.
<LI> Wave cursors can be locked at their current positions.  When a cursor
  is locked it cannot be grabbed via the mouse, but it can be made the
  active cursor. A cursor is locked using the 'cursor popup menu' selection
  or via the Wave Cursor Properties dialog.
  The locked cursor color is controlled with the -cursorlockcolor configuration
  which by default is red.
<LI> For convenience, a locked cursor can be dragged using the shift key and
  the left mouse button. Once the cursor is dropped it will remain locked
  at the new location.
<LI> The cursor popup menu is displayed by right-clicking in the track of
  a specific cursor at the bottom of the Wave window. The popup menu
  allows you to 'Goto', 'Activate', 'Lock', or display 'Properties...' of
  the cursor.
<LI> Cursor names and lock status are saved in the wave format file.
</UL>

</li>
<li>
In the Wave window, waveforms (in addition to the name and value)
can now be highlighted when an item is selected.  This feature can be
turned on and off by selecting Tools > Window Preferences in the Wave
window and toggling the Waveform Selection Highlighting Enabled button.
The default is disabled.

</li>
<li>
Modelsim 5.7 supports processing of `protect...`endprotect and
`protected...`endprotected blocks within a source file.
The `protect directive is ignored by default and is enabled only when the
new <b>vlog</b> option <b>+protect</b> is used.
</li>
<li>
Signal Spy (init_signal_spy and init_signal_driver) now supports spying
or driving the following in VHDL-based designs:<BR>
<UL>
<LI>Records
<LI>Elements of Records
<LI>Arrays of Arrays
<LI>Multi-dimensional Arrays
<LI>Arrays of Records
<LI>Arrays or Reals
<LI>Arrays of Time
<LI>Part-selects (slices) of Arrays
</UL>

</li>
<li>
The waveform compare VHDL/Verilog matching operations were generalized to 
all logic values.  The new functionality allows specification of VHDL/Verilog 
matching values for the entire compare session and also on a per signal basis.
<p>
The following new switches for VHDL and Verilog matching are now supported for 
the <b>compare add</b>, <b>compare configure</b> and <b>compare options</b> 
commands:<br>
<b>-vhdlmatches <i>matchstring</i></b><br>
<b>-vlogmatches <i>matchstring</i></b>
<p>
For the <b>compare add</b> and <b>compare configure</b> commands these switches
set the specific signal match values.<br>
For the <b>compare options</b> command these switches set the compare session 
default values.<p>
The following switches are now obsolete:<br>
<b>-vhdlxmatches</b><br>
<b>-vhdlzmatches</b><br>
<b>-vlogxmatches</b><br>
<b>-vlogzmatches</b><br>
<p>Please see the ModelSim User's Manual for more information on VHDL
and Verilog matching.
</li>
<li>
The display of vector values using the DECIMAL or UNSIGNED radix was limited to vectors of 64 bits or less.  This limitation has been removed so that now the limiting factor is the length of the result which is currently 30,000 characters.
</li>
<li>
The VHDL SmartModel interface has been added to ModelSim PE.  A new license is required to enable the VHDL SmartModel interface for PE.
</li>
<li>
The <b>add</b> command has a new option, <b>-optcells</b>, for use with
wildcards. This option makes Verilog optimized cell ports visible.
</li>
<li>
More functionality has been implemented in the VPI.  The improvements are
generally related to arrays of Nets, Registers, and Variables, and their
elements. For details on what is currently implemented in the VPI,
please see <i>install_dir</i>/modeltech/docs/technotes/Verilog_VPI.note.

</li>
<li>
ModelSim now supports storing design units as archives in addition to storing
them as directories. This capability is enabled by using the <b>-archive</b>
switch to the <b>vlib</b> command. There is another <b>vlib</b> switch,
<b>-compact x</b>, where x is a number in the range 0 to 1 that tells the
archive code to compact any archive that has greater than that ratio of free
to used space. A library has all of its design units stored as either
directories or as archives (they are not mixed within a library).<P>

The archive capability is useful to customers who hit the reference 
count limit on I-nodes due to the ".." entries in all the lower level 
directories (the max number of subdirectories on unix and linux is 
65533). An example of an error message produced by hitting this limit is:<BR>
<code>
mkdir: cannot create directory '65534': Too many links
</code>
<P>
The archive capability may also have limitied value to customers seeking 
disk space savings.</li>
<li>
ModelSim SE 5.7 has a C Debug feature added to the Main window Tools menu.
This feature allows users to debug the C/C++ code in their FLI and PLI/VPI
shared libraries that are loaded into the simulator. Those libraries need
to have been compiled to create debug symbols, and their source code must
be available. Please refer to the "C Debug" chapter in the ModelSim SE
User's Manual. A cdebug license is required, and the supported platforms
in 5.7 are hp700, linux, rs6000, and sunos5.</li>
<li>
The new <b>wlfman</b> utility allows one to manipulate a WLF file once it has 
been closed. Using wlfman one may remove signals, change start and end times, 
and modify the time resolution and write out a resulting WLF file. See the 
reference manual for more details.</li>
<li>
Several enhancements have been made to the code coverage feature of
ModelSim as of release 5.7:<p>
<ol>
<li>   Multiple statements on a line are now counted
       individually. Reports show line number and the
       character number of the last character in the
       statement. This is referred to as "statement coverage",
       as opposed to "line coverage".
<p>
<li>   Coverage data is now collected on an instance by
       instance basis. To report by instance, use
       <b>coverage report -byinst</b> to get a summary of all
       instances. Use <b>coverage report -lines -byinst</b> to dump
       details of all instances in the design.  Use
       <b>coverage report -lines -inst <i>path</i></b> to get details of
       one specific instance. Exclusions are not instance
       specific. Excluding a line excludes that line in all
       instances of the enclosing design unit.
<p>
<li>   <b>If</b> statements and <b>case</b> statements now collect
       branch statistics. Each condition in an <b>if</b> statement
       has a true and false branch. The <b>coverage report -lines</b>
       command will list the branches following the statement stats.
       <b>If</b> statements will have a summary line plus lines of
       4 columns, listing for each <b>if</b> condition: line, column,
       true branch count and false branch count. <b>Case</b>
       statements will have three entries for each <b>case</b>
       alternative: line, column, and branch count.
<p>
<li>   ModelSim now supports the use of source code pragmas to
       turn coverage off and on. In Verilog, the pragmas are:
<p>
            // coverage off<br>
            // coverage on
<p>
       In VHDL, the pragmas are:
<p>
            -- coverage off<br>
            -- coverage on
<p>
<li>   Branch coverage is now reported by the following summary commands:<br>
       <b>coverage report</b><br>
       <b>coverage report -zeros</b><br>
       <b>coverage report -inst</b><br>
       <b>coverage report -totals</b>
<p>
<li>   The <b>coverage reload <i>file</i></b> command no longer reads
       the output of the <b>coverage report -lines</b> command.
       It now only reads the output of the
       <b>coverage save <i>file</i></b> command. The file saved retains
       instance-specific information.
<p>
<li>   The <b>coverage reload -keep</b> option is no longer
       supported. Its use was confusing and it is not
       compatible with new features. In its place, use the
       <b>coverage save <i>file</i></b> command for saving stats
       on pieces of the design, then use
       <b>coverage reload -incremental <i>file</i></b> to merge
       them all together when the full design is loaded.
<p>
<li>   The <b>covsum</b> perl script may no longer be supported for
       merging coverage stats. Use the <b>coverage save <i>file</i></b>
       following by <b>coverage reload -incremental <i>file</i></b> 
       until support of <b>covsum</b> is announced.
<p>
<li>   The following commands no longer exist:<br>
        <b>coverage exclude enable</b><br>
        <b>coverage exclude disable</b>
<p>
<li>   The following commands have been changed:<br>
        <b>coverage exclude clear</b> is now <b>coverage clear -excluded</b><br>
        <b>coverage exclude load</b> is now <b>coverage exclude</b>
<p>
<li>   <b>coverage report -zeros</b> has been modified as follows.
        The old command would print out every line that
        has a zero count. Now <b>coverage report -zeros</b> prints
        a file-based summary only. To get the line numbers
        use <b>coverage report -zeros -lines</b>.
<p>
<li>   Here is a summary of the current textual commands:<br>
<p>
<ul>
<li>    To clear the coverage statement counts:
<p>
            <b>coverage clear</b>
<p>
<li>    To clear the statement exclusion flags that have
           been set by the <b>coverage exclude</b> command ("user"
           exclusions):
<p>
            <b>coverage clear -excluded [-pragma | -user]</b>
<p>
           Using the <b>-pragma</b> option will clear the "pragma"
           exclusions; using the <b>-user</b> option will clear user
           exclusions; otherwise both are cleared.
<p>
<li>    To clear both statement counts and user exclusion flags:
<p>
            <b>coverage clear -all</b>
<p>
<li>    To set exclusion flags (in addition to source code
           pragma exclusion flags) (this replaces exclusions
           specified by any previous <b>coverage exclude</b> commands):
<p>
            <b>coverage exclude <i>file</i></b>
<p>
<li>    To see what statements are currently excluded:
<p>
            <b>coverage report -excluded [-pragma | -user] [-file <i>outfile</i>]</b>
<p>
           Both pragma-based and user-based exclusions are reported
           unless <b>-pragma</b> or <b>-user</b> is specified. The <b>-file</b>
           option specifies that the report be written to the specified outfile
           name. Adding the <b>-append</b> option will append to the output
           file, for this command and other report commands below.
<p>
<li>    To get a very top level summary of the number of
           files, statements, branches, hits and signal toggles, for
           both file-based and instance-based views:
<p>
            <b>coverage report -totals [-file <i>outfile</i>]</b>
<p>
<li>    To get a summary of coverage by source file:
<p>
            <b>coverage report [-file <i>outfile</i>]</b>
<p>
<li>    To get a summary of coverage by source file, but only the files
           with coverage below or above some percentage threshhold; the
           <b>-below</b> option includes files with coverage less than or equal
           to the specified value, and the <b>-above</b> option includes only
           files with coverage greater than the specified value:
<p>
            <b>coverage report [-lines] -below <i>percent</i> [-file <i>outfile</i>]</b><br>
            <b>coverage report [-lines] -above <i>percent</i> [-file <i>outfile</i>]</b>
<p>
<li>    To get a summary or statement details for a specific source file:
<p>
            <b>coverage report [-lines] -source <i>file</i> [-file <i>outfile</i>]</b>
<p>
           The <b>-lines</b> option reports coverage stats for each statement
           and branch.
<p>      
<li>    To get a summary of coverage by instance:
<p>      
            <b>coverage report -byinstance [-file <i>outfile</i>]</b>
<p>      
<li>    To get a summary of coverage by instance, but only the instances
           with coverage below or above some percentage threshhold:
<p>
            <b>coverage report -byinstance [-lines] -below <i>percent</i> [-file <i>outfile</i>]</b><br>
            <b>coverage report -byinstance [-lines] -above <i>percent</i> [-file <i>outfile</i>]</b>
<p>
<li>    To get a summary or statement details for a specific instance:
<p>
            <b>coverage report [-lines] -instance <i>path</i> [-file <i>outfile</i>]</b>
<p>
           The <b>-lines</b> option reports coverage stats for each statement
           and branch.
<p>
<li>    To get a listing of statements with zero coverage:
<p>
            <b>coverage report -zeros [-lines] [-byinstance] [-file <i>outfile</i>]</b>
<p>
           If <b>-lines</b> is not specified, a summary by file or by instance
           will be reported.
<p>
<li>    To get a listing of signal toggle statistics use the existing
           toggle report command:
<p>
            <b>toggle report [-all|-summary] [-file <i>outfile</i>]</b>
<p>
           The <b>-all</b> option reports counts for all registered signals.
           Otherwise, only signals with one or more zero metrics are
           listed. (See the <b>toggle add</b> command for specifying signals
           for toggle counting.)
<p>
<li>    To save the current coverage stats to a file that can be
           reloaded later, preserving instance-specific information:
<p>
            <b>coverage save <i>outfile</i></b>
<p>
           (This does not include toggle stats.)
<p>
<li>    To reload one or more previously saved stats files:
<p>
           <b>coverage reload [-incremental] <i>file1</i> [<i>file2</i> ...]</b>
</ul>
</ol>   

</li>
<li>
Two new vsim commands allow the selective enabling and disabling of VHDL and 
Verilog timing checks.  The commands are:<BR>
<code>
   tcheck_status  [-lines] &lt;instance&gt; [&lt;tcheck&gt;]<BR>
   tcheck_set [-quiet] &lt;instance&gt; [-r | &lt;tcheck&gt;] &lt;Stat&gt; | &lt;MsgStat&gt; &lt;XStat&gt;<BR>
</code>
The <b>tcheck_status</b> command prints the current violation action status of 
an instance's timing check(s). The <b>tcheck_set</b> command allows modification
of a timing check's violation action status. The violation action of a 
timing check consists of violation report message generation and unknown 
propagation, which in Verilog consists of a notifier register toggle. See the 
Command Reference documentation for a complete command description .</li>
<li>
The Main window supports resizing and repositioning of child panes. The 
visibility of the panes and their positions is persisent. Panes can be moved by 
dragging the header frame of the pane.<P>

Many of these panes contain multiple columns. A user can modify column 
visibility via a popup menu. The menu is found by pressing the right mouse 
button over any column header.<P>
 
Several new panes have been added to the Main window:
 <UL>
<LI>Files Tab - When a design is loaded, a new tab will appear within the 
workspace pane. The tab is labelled "Files" and it contains a listing of each 
source file that is used by the design. If the design is loaded with code 
coverage enabled, the Files pane will list code coverage results.
 
<LI>Instance Coverage Pane - This pane is available only when code coverage is 
enabled. The Instance Coverage pane contains a flattened list of the design's 
instances, as well as the coverage information associated with each instance.  
The list presented is based upon the selection within the sim tab of the 
workspace pane.
 
<LI>Missed Coverage Pane - This pane is available only when code coverage is 
enabled. The Missed Coverage Pane contains a list of the VHDL/Verilog statements
that are not covered or have been "missed". The files that are listed in the 
Missed Coverage Pane are based upon the selection in either the sim tab or the 
Files tab of the workspace pane.  The Missed Coverage pane also supports 
statement exclusion. Excluding a statement tells ModelSim to ignore the 
statement when calculating overall coverage results.
 
<LI>Current Exclusions Pane -  This pane is available only when code coverage is 
enabled.  The Current Exclusions pane lists the statements that are to be 
ignored by ModelSim when calculating code coverage results.

<LI>Active Processes Pane - This pane can be displayed in the Main window by selecting
View > Active Process. The Active Processes pane shows all processes that are currently
ready to run.
</UL></li>
<li>
The following Verilog 2001 features have been added to ModelSim:<br>
<UL>
<LI>Generated Instantiation (LRM section 12.1.3).<br>
<LI>Implicit event expression list (always @*) (LRM section 9.7.5).<br>
<LI>Implicit nets with continuous assignments (LRM section 3.5).<br>
<LI>Disabling implicit net creation (LRM section 19.2).
</UL></li>
</ul>
</BODY>
</HTML>

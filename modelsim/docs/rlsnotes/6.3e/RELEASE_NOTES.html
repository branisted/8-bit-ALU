
<HEAD>
<TITLE>6.3e Release Notes</TITLE>

</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 6.3e
</h1></center>

&nbsp;
<center><b>Feb 02 2008</b></center>

<br><br>
<center>
&nbsp;Copyright 1991-2008 Mentor Graphics Corporation
<br>
&nbsp;All rights reserved.
<br>
&nbsp;This document contains information that is proprietary to Mentor Graphics
<br>
&nbsp;Corporation. The original recipient of this document may duplicate this
<br>
&nbsp;document in whole or in part for internal business purposes only, provided
<br>
&nbsp;that this entire notice appears in all copies. In duplicating any part of
<br>
&nbsp;this document the recipient agrees to make every reasonable effort to
<br>
&nbsp;prevent the unauthorized use and distribution of the proprietary
<br>
&nbsp;information.
</center>

<br>
<center>
&nbsp; TRADEMARKS: The trademarks, logos and service marks ("Marks") used herein
<br>
&nbsp; are the property of Mentor Graphics Corporation or other third parties.
<br>
&nbsp; No one is permitted to use these Marks without the prior written consent
<br>
&nbsp; of Mentor Graphics or the respective third-party owner. The use herein
<br>
&nbsp; of a third-party Mark is not an attempt to indicate Mentor Graphics as a
<br>
&nbsp; source of a product, but is intended to indicate a product from, or
<br>
&nbsp; associated with, a particular third party. The following are trademarks of
<br>
&nbsp; of Mentor Graphics Corporation: Questa, ModelSim, JobSpy, and Signal Spy.
<br>
&nbsp; A current list of Mentor Graphics trademarks may be viewed at
<br>
&nbsp; www.mentor.com/terms_conditions/trademarks.cfm.
</center>

<br>
<center>
&nbsp; End-User License Agreement: You can print a copy of the End-User License
<br>
&nbsp; Agreement from: www.mentor.com/terms_conditions/enduser.cfm.
</center>
<br>

<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file in www.model.com. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>Model<i>Sim</i> Altera is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#assertiondefects">Assertion Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 6.3e</a></u></li>
<li>
<u><a href="#coverage">Coverage Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 6.3e</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 6.3e</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 6.3e</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 6.3e</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 6.3e</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>The following lists the supported platforms:
	<ul>
	<li>win32aloem - Windows 2000, XP
	<li>sunos5aloem - Solaris 8, 9, 10
	<li>linuxaloem - RedHat 7.2 and higher.
	</ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 6.3e</b>
<ul>
<li>
When displaying a zoomed out set of signals, the display could end before the end of the recorded data.  The signals appeared when the display was zoomed in.  The data now displays correctly.</li>
<li>
The zoomed out view of signals could sometimes miss transitions.  Zooming in showed the correct display.  The zoomed out view is now correct.</li>
<li>
The Delete menu pick and Delete key did not work in the Dataflow window.</li>
<li>
The env forward/back buttons and <b>env -forward</b>/<b>-back</b> command line switches did not always work correctly.  Also in certain cases the current environment was not put onto the stack, so you could not go forward or back to it using the buttons or switches.</li>
<li>
Renaming an open dataset and then right-clicking in the Structure window for that dataset caused the "close" menu item to break. In this case the wrong (old) dataset was referenced and an error message was issued.</li>
<li>
The <b>compare end</b> command would cause a crash if the List window contained a compare object.</li>
<li>
Expanding a packed structure in the Wave window caused a crash.</li>
<li>
The Project status icon now correctly reflects the status following a compile. Projects now correctly test whether a file has been changed externally.  The frequency in which a Project tests files defaults to 5 seconds, however, this frequency can be changed by setting ProjectStatusDelay within the project section of the MPF file.  The value is described in millseconds.  For example, the following setting would cause disk files to be tested every 7 seconds:<br>
<code>
[project]<br>
ProjectStatusDelay 7000
</code></li>
<li>
Attempting to format a vector waveform as "analog" would fail if the waveform data contained non-numeric data, such as an "X". This would only fail when using the Format > Analog (automatic) menu item.</li>
<li>
During restart a message similar to "vsim.wlf: permission denied" could be written to a shell window.  This was only a nuisance and did not affect WLF file data nor simulation results. This only effected the Windows platform.</li>
<li>
Annotated values in the Source window would remain after this simulation is exited with a <b>quit -sim</b> command, until the Source window was scrolled, which would cause a redraw and the values would disappear.  Now the values disappear when the <b>quit</b> command is executed, as expected.</li>
<li>
The UCDB testbrowser now supports filenames with spaces.</li>
<li>
The UCDB testbrowser now supports filenames containing curly braces "{}".</li>
<li>
Source annotation did not display values inside VHDL generate blocks.</li>
<li>
The contrast in the Wave window scrollbar has been improved for better visibility.</li>
<li>
The Locals window does not update correctly when the size of a dynamic object changes.</li>
<li>
Virtual signals or functions could cause a crash if evaluation of the signal or function resulted in an error (e.g. divide by zero).  Now the resulting value will be reported as "EvalError".</li>
<li>
The Watch window item properties dialog box does not always display the correct radix for the item.</li>
<li>
The <b>add dataflow</b> command had silently ignored unmatched objects.  It now emits an error message in that case.</li>
<li>
Tcl virtual functions were failing when multiple-dimensional data was used,
such as verilog memory, without any error message. Now an error message is
provided.
</li>
<li>
Unnamed final blocks were incorrectly given an implicit name beginning with #FORCE# instead of #FINAL# when displayed in the GUI.</li>
<li>
The colorization threshold information for Test Browser and Test Tracker now is saved in the .modelsim file.</li>
<li>
The svverification license problem with the <b>-gui</b> option has been fixed.</li>
<li>
A virtual function used to map a single bit value into an enumerated virtual type returned the wrong enumerated value.</li>
<li>
Fixed problems with GUI virtual functions that had VHDL bit_vector type
signals as arguments. </li>
<li>
The vopt dialog box ("Design Optimization...") will execute an invalid vopt command when other vopt options are specified.</li>
<li>
Virtual expressions that used the (context) qualifier along with relative pathnames that contained extended identifiers would sometimes fail to accept the expression.  This problem has been resolved.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 6.3e</b>
<ul>
<li>
Corrected behavior of `__FILE__ when used within a macro.
</li>
<li>
Fork-Joins were overly optimized when the body contanied a 'wait fork' statement.
</li>
<li>
For Verilog configurations: When using vopt, an instance that is a child of a configured cell will now inherit the configured cell's liblist, and if the liblist is not present, searching will now occur in the configured cell's library. Without vopt, the simulation now searches upward in the context tree for a liblist attached to a configured cell.</li>
<li>
Returning a value from a void function by way of assignment to the void function name was not reported as an error.</li>
<li>
A call to either $fdisplay or $fwrite resulted in a simulator crash in an optimized design if calls to the same system task call instance alternated between a "file descriptor" and a "multi channel descriptor" for the output file argument if the mcd specified either stdout or stderr.</li>
<li>
External constraint blocks that are declared with a constraint prototype but have no defined body will now elicit a warning from vlog and vopt. Previously, vlog and vopt would issue an error if a constraint prototype without a corresponding constraint block body was found. For strict SystemVerilog LRM compliance, the "-error 2227" option may be specified on the vlog or vopt command line to promote the warning to an error.</li>
<li>
After being compiled, refreshing a protected design for the -novopt flow could result in refresh failures.</li>
<li>
In the <b>-novopt</b> flow, association by name to a non-existent parameter would generate a warning rather than an error.</li>
<li>
If multiple sequential blocks nested in a common scope used class variables with the same name, incorrect null dereferences could result.</li>
<li>
Failed to issue an error when the left hand side of a blocking assignment was a part select or bit select of a clocking block output.</li>
<li>
Tasks invoked using the function void cast form were not being caught as illegal.  This error may be suppressed by using "-suppress" with the reported error number.</li>
<li>
Dynamic casts from a base handle to a derived handle were not being allowed when the base handle contained the value null.</li>
<li>
An always_comb/always_latch missed activations in some cases if the implied sensitivity included references to elements of unpacked arrays (memory elements).</li>
<li>
vlog crashed when a parameter value involved a function call with named arguments using the default value. For example:<br>
<code>
parameter p = func(.in());
</code></li>
<li>
A constant propagated through a continuous assignment to an "always" sensitivity that suspends at time zero failed to execute the always construct at time zero. Although this is a race condition, the intention is to behave the same as in an unoptimized design.</li>
<li>
A large delay scaled according to the simulator resolution limit overflowed a 64-bit integer in some cases, resulting in a smaller or negative delay.</li>
<li>
The <b>-G</b> vopt option attempted to override a localparam. A localparam may not be overridden by any method, and the <b>-G</b> vsim option was already enforcing this rule.</li>
<li>
vopt failed to correctly identify the library containing an interface if the library was specified by a "use" or "liblist" clause within a configuration.</li>
<li>
A hierarchical force of a port in an optimized design had the effect of propagating the forced value to other ports in the design not connected to the forced port if the highest level connections were identical literals or other non-net expressions.</li>
<li>
Improved support for mixed ANSI-style Verilog ports.
</li>
<li>
The last backslash character of Verilog string literals having backslash at the begining and end positions were getting converted to space character.</li>
<li>
"vl_save_stack_on_wait" internal error occured when using multiple complex delay expressions involving automatic variables.</li>
<li>
The simulator sometimes crashed when disabling a fork block that contained the code executing the disable statement.</li>
<li>
The simulator would always select the first matching instance clause of a configuration in determining a liblist for library searches. The simulator has been changed so that it will select the most specific instance clause that matches the current instance path.</li>
<li>
In certain cases, when a parameterized class had a type parameter with a default that was itself a parameterized class specialization, some types were incorrectly determined.  As a result, incorrect assignment errors or other type incompatibilities could be reported.
</li>
<li>
An empty named port connection in a bind statement can cause vsim to crash in novopt mode.</li>
<li>
A bug introduced with 6.3a prevented a enum type port to be connected with an element (of the same type) of a struct.</li>
<li>
vopt did not generate an error message when bind is in compilation unit scope and the target of bind does not exist in the design.</li>
<li>
Simultaneous data and ref events to setuphold or recrem could cause a setup or recovery timing check violation to not be reported.</li>
<li>
When importing an SV package, if a VHDL package with the same name was encountered in a different library, the SV package import would fail.</li>
<li>
In some cases typically involving nested generate loops and conditions, an optimized design would fail to elaborate.</li>
<li>
Changes were made to the compiler and simulator clarifying an aspect of interpretation of configurations. The default liblist will now be used to find design units that are below an instance which matches an instance or cell clause, where no other liblist clause applies. Previously, searching only occurred in the same library that contained the cell described in an applicable use clause. For example, in the presence of clause "instance <i>t.i</i> use <i>l.c</i>", search for a cell whose path is <i>t.i.j</i> will take place in the library specified by the default liblist, which may be different from library <i>l</i>.
</li>
<li>
A blocking assignment to a hierarchical reference in a program block was incorrectly reported as an error.</li>
<li>
Fixed incorrect dependency computation for vmake with Verilog include files.</li>
<li>
Vsim crash on elaboration error when an array of instances is present in the design.</li>
<li>
When -v2k_int_delays was specified, "write timing" command used the higher level net name (hiconn) to refer to the MIPD port. This was harder to correlate than the port name (loconn).</li>
<li>
Primitives connected to input/inout ports are usually optimized to become behavioral assign statements. This caused incorrect MIPD and specify path behavior. Now a warning suggests the use of -v2k_int_delays or compiled SDF when this condition is detected.</li>
<li>
In ModelSim PE version, $stop did not cause proper flushing of files written through $fwrite and similar systasks.</li>
<li>
By default suppress the warning "(vsim-PLI-3691) Expected a system task, not a system function '$system'." when using $system and $systemf without setting the return values.</li>
<li>
SystemVerilog tasks and functions with default argument values generated internal errors if the defaults referenced the values of other arguments.  This now reports a more useful error during compilation.</li>
<li>
Indexing into an array of virtual interfaces in a class method would sometimes cause vsim to crash with a segmentation fault.</li>
<li>
SystemVerilog enum variable types were not allowed within a constant function.  This is now supported.</li>
<li>
The "wait fork" statement in SystemVerilog should only wait for the immedite child subprocesses, but was instead waiting for <u>all</u> child subprocesses.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 6.3e</b>
<ul>
<li>
Fixed crash in acc_handle_by_name when trying to get handle to an element of instance array through a ref handle.</li>
<li>
A problem when vpi_get_value() was used on packed elements of sparse arrays has been fixed.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 6.3e</b>
<ul>
<li>
When performing tcheck commands on VITAL designs, the simulator searches for VITAL processes that perform timing checks. In this search, a VITAL process was assumed to perform timing checks only if its label contained the string "vital". This restriction has been removed.</li>
<li>
When generating an optimized design that references an optimized black box design the optimization could fail with the following error:<br>
<code># ** Error: (vopt-23) Unable to change to directory path "". No such file or directory. (errno = ENOENT) <br>
# ** Fatal: Unexpected signal: 11.<br></code></li>
<li>
An optimization sometimes mistakenly reordered multiple assignments to the same signal in a for loop.</li>
<li>
vopt did an extra size check in a concurrent conditional signal assignment even when a waveform would never be assigned. As a result of fixing this, some vcom/vopt compiler errors produced when checking concurrent signal assignments have become warnings, with errors being flagged during elaboration or run time.</li>
<li>
Instantiation of a component with non-existent ports in the default binding will no longer cause vopt to issue an error, if the instantiation is within a generate block whose condition or range cannot be determined.
</li>
<li>
By default, range and length violations detected within subprograms will result in warnings, rather than errors. The new command-line switch, <b>-noDeferSubpgmCheck</b>, will cause range and length violations in subprograms to be reported as errors. To dispense with the use of a command-line switch, property NoDeferSubpgmCheck has been added to the modelsim.ini file, controlling the way in which range and length violations in subprograms are reported.</li>
<li>
An elaboration error could occur if a clocked process contained statements that
read a slice or index of an array signal and the slice or index was out of range for that array.</li>
<li>
vsim would crash when a signal array fanned out to multiple slices of a subarray.
</li>
<li>
When a VHDL configuration contains a block specification that is a generate statement label in the form of an index or slice expression, some of the iterations of a generate loop may not be configured. Unconfigured component instantiations will use default bindings. However, vopt did not recognize that entities associated (by default) with components could be loaded, and did not generate code for these entities. In this case, during elaboration of the design by the simulator, the following error would be reported.
<br>
<code>
# ** Error: (vsim-3171) Could not find machine code ...
</code>
</li>
<li>
Fixes a crash in vcom while optimizing a wait statement, where a subelement of an unconstrained array subprogram parameter appears in an expression describing an edge sensitive wait. For example:<br>
<code>
 wait for s[3]'event and s[3] = '1'
</code></li>
<li>
Specifying the <b>+acc</b> switch to vopt with an instance path whose last element is the name of a VHDL design unit could cause vopt to crash.
</li>
<li>
The vopt +floatgenerics command-line option was not working.  Now it is fixed, and fully equivalent to the +floatparameters option.</li>
<li>
In rare cases, a signal array driven in a lower block failed to have its value propagated through instances of other block(s) instantiated at a higher level.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 6.3e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 6.3e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 6.3e</b>
<ul>
<li>
Fixed sccom error related to sc_logic while merging debug databases from different libraries at link time(sccom -link).</li>
<li>
Fixed sccom error related to use of sc_fifo and tlm_fifo while merging debug databases from different libraries at link time(sccom -link).</li>
<li>
Structures with members of type embedded structures across the SC/SV function call interface (DPI-SC) caused vlog to crash.</li>
<li>
Added error message in vlog when a SystemC type is incorrectly used across the SC/SV function call interface (DPI-SC).
</li>
<li>
Corrected an issue with SCV that would result in non-uniform distributions of values generated by the constraint solver when disable_randomization() is used.</li>
<li>
When a call to SystemC control/observe was made while the simulation was already running, values of signals were not mirrored correctly in some cases.
</li>
<li>
scgenmod crashed when it was provided a SystemC module as input. This has been fixed and now scgenmod will issue an error message for this case.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="assertiondefects"></a><b>Assertion Defects Repaired in 6.3e</b>
<ul>
<li>
Corrected the wave assertion active thread monitor and count, and the assertion browser disable count when assertions are disabled by a "disable iff" statement.  

Also the counting behavior was changed so that if an assertion is disabled from the vish command line or gui, the attempt count will no longer increase until the assertion is re-enabled, rather than the previous behavior where the disable count would increment.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 6.3e</b>
<ul>
<li>
If a Verilog configuration is instantiated within a VHDL architecture, and the Verilog configuration contains a "use" clause with an incorrect library specification, the simulator would print an error message and incorrectly print the library name as "null". </li>
<li>
A VHDL signal connected to the input of a Verilog module failed to update the value of the input net in some cases if that input net was also connected to the output of a lower level module driven by a specify path delay.</li>
<li>
A VHDL signal connected to a Verilog "out" or "inout" port failed to see the driving value of the port if the port was "shorted" or "aliased" to another driven net via port collapsing.</li>
<li>
Design unit and library locking has been implemented through enhancements to the vlib command. The <b>-lock</b> switch specifies a design unit to lock. The <b>-locklib</b> switch locks the target library. Note that actual file permissions are not affected by these switches. These switches prevent the compilers from recompiling or refreshing the target design unit or library.
<br>
<br>
In conjunction with implementation of these switches, fixes were made to the compiler, so that if a design unit's directory has write access disabled (an unapproved method of preventing recompilation), the compiler will no longer corrupt the library's _info file.</li>
<li>
SystemVerilog net types (wire <type>) were not correctly handled in scgenmod and gen_xml utilities.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="coverage"></a><b>Coverage Defects Repaired in 6.3e</b>
<ul>
<li>
In coverage view mode, rows in the Workspace hierarchy browser corresponding to generate scopes could have erroneously empty coverage columns.  This would occur with generate scopes named with square brackets (e.g., "gen[0]").  The fix involved a patch to the UCDB API function ucdb_MatchScopeByPath().
</li>
<li>
The <b>coverage report -html</b> command, generating an HTML report from coverage view mode would incorrectly tabulate code coverage for some designs (those with single-instance design units) in its Design Coverage Summary".  Note that <b>vcover report -html</b> generating from a standalone UCDB file would be correct for the same case.
</li>
<li>
Fixed some problems with code coverage data not being available for
instances within generate blocks. </li>
<li>
Viewing UCDB files saved with a previous (6.2) version did not display coverage information for all instances. </li>
<li>
Fixed a crash that could happen for expressions and conditions within 
generate blocks. </li>
<li>
Opening a UCDB file using the Windows version of ModelSim or Questa and the file was created using a 64-bit version of ModelSim or Questa will result in a crash.  
</li>
<li>
The coverage report by-instance showed full file contents for every generate block.</li>
<li>
Increased toggle coverage accuracy. We previously had been ignoring
transitions to and from X. This caused us to ignore valid transitions within
the same time step that had X as an intermediate state. The result was that
counts could be incorrectly low, or even incorrectly high. Transitions that
result in an X at the end of a time step, are still not counted, however,
because currently there are no bins in which to put the counts. </li>
<li>
Fixed a bug in the GUI in which counts for code coverage items within
generate blocks could get erroneously incremented with each incremental run, 
even though the code was no longer being executed. Data from coverage report
was still correct, however. </li>
<li>
User-defined "test data record" attributes saved to a UCDB file were cleared after saving the file.  They are now preserved across <b>coverage save</b> commands.  Additionally, the test name is no longer cleared after a save when it is set explicitly by the user with <b>coverage attr -test</b>.</li>
<li>
Fixed a problem in which with code coverage on, simulation results could
be incorrect. Condition and expression coverage were not properly handling VHDL
record field references. 
</li>
<li>
Fixed a problem in which expression and condition coverage would not recognize
SystemVerilog record expressions.</li>
<li>
Fixed a problem in which condition and expression coverage failed to 
recognize when a function call returned a non-scalar result, causing
incorrect simulation results.
</li>
<li>
Added warning messages when coverage conditions or expressions were being
ignored due to too many UDP rows, or an internal error.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 6.3e</b>
<ul>
<li>
When logging signals with complex data types such as packed multi-dimensional arrays, the simulator could report errors in getByteOffset() and possibly crash.  The errors have been fixed and error recovery has been built into the test.</li>
<li>
Simulations which are checkpointed or interrupted by JobSpy could occasionally hang or at least pause (if they were running a .do file).
</li>
<li>
The transaction recording engine now requires escaped or extended identifiers for names of databases, streams, transactions or attributes if the names includes spaces.</li>
<li>
vmake would crash if run on a library that contained optimized designs that in turn had Verilog modules as sub-components.</li>
<li>
When using the "black-box" feature of vopt, the simulator could crash with a "design unit not found" error, with the reported string being corrupted.
</li>
<li>
If multiple <b>-G</b> switch on vsim refer to the same generic or parameter, the simulation would crash.
</li>
<li>
Fixed a crash due to the logging of extremely long messages to the WLF file.</li>
<li>
vopt is not able to recognize all the sequential elements in the design block.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 6.3e</b>
<ul>
<li>
dts0100293452 - Documentation: Example VCD output from vcd dumpports -- table does not match eVCD output.</li>
<li>
dts0100397403 - Simulator couldn't generate a makefile on vopt flow.</li>
<li>
dts0100416493 - Issue with wait-fork in a nested fork-join - fork-join-none.</li>
<li>
dts0100418603 - Show Annotated Values doesn't work properly.</li>
<li>
dts0100419627 - Crash when division by zero in virtual function.</li>
<li>
dts0100426800 - VHDL simulation gives different results depending on whether coverage is enabled or not.</li>
<li>
dts0100434244 - Simulator crashes every time during restart.</li>
<li>
dts0100434342 - Source annotation not working for if-generate blocks.</li>
<li>
dts0100436573 - The "add data" command silently ignores unmatched objects.</li>
<li>
dts0100438159 - Virtual types does not display as expected in the Wave window.</li>
<li>
dts0100440322 - add watch -radix does not work reliably.</li>
<li>
dts0100443162 - "-novopt" option will convert undefined parameter Error to Warning.</li>
<li>
dts0100449184 - Wave window does not show waveform where it should.</li>
<li>
dts0100452187 - Can't change waveform format to analog with automatic option.</li>
<li>
dts0100453357 - tcheck_set/tcheck_status do not work with VITAL models unless the timing process has VITAL in the name.</li>
<li>
dts0100453802 - scgenmod crash if parameter is SystemC module.</li>
<li>
dts0100453888 - Issue with wlf optimization which produces - "WLF(vsim): wlfiGetByteOffset: boffset is out of range!" error when adding a multi-dimensional array to the waveform.</li>
<li>
dts0100455437 - Documentation: Job Spy chapter of User Manual refers to "backslash" characters as '/', which is a forward slash.</li>
<li>
dts0100457265 - After optimizing a large design using "vopt -O5 +nocheckALL ", vsim may segfault in a $fwrite call.</li>
<li>
dts0100457993 - vcom generates bad logic using the default optimization level.</li>
<li>
dts0100458471 - "vsim.wlf: Permission denied" message displayed on “restart –f”.</li>
<li>
dts0100458520 - Support method to protect compilation of some units in a library while letting users compile other data in the same library.</li>
<li>
dts0100458529 - Failed to issue an error when the left hand side of a blocking assignment was a part select or bit select of a clocking block output.</li>
<li>
dts0100459057 - Fatal Bad pointer access error on a VHDL generate block running in vopt mode in 63c.</li>
<li>
dts0100459180 - vopt error: Internal error: ../../../src/vcom/pslvunit.c(1512) gCurrentEntity is NULL.</li>
<li>
dts0100461044 - Simulation crash when signals moved into Wave window.</li>
<li>
dts0100461416 - Opening a UCDB file using the Windows version of ModelSim or Questa and the file was created using a 64-bit version of ModelSim or Questa will result in a crash.</li>
<li>
dts0100462047 - Documentation for the value range of the -sv_seed option is incorrect.</li>
<li>
dts0100462630 - Locals window shows a re-sized array as incorrect size.</li>
<li>
dts0100462684 - When using -novopt, the simulator handles configurations differently depending on order of statements in the config file.</li>
<li>
dts0100463925 - Internal errors during compile of known-good IP.</li>
<li>
dts0100464613 - Verilog design crashes when using function acc_handle_by_name.</li>
<li>
dts0100465264 - Blocking assignments to hierarchical references in a program block are illegal.</li>
<li>
dts0100465332 - 6.3d errors out on vdel with option -allsystemc.</li>
<li>
dts0100465635 - If multiple -G switch on vsim refer to the same generic or parameter, the simulation would crash. </li>
<li>
dts0100465865 - Condition and expression coverage failed to recognize when a function call returned a non-scalar result, causing incorrect simulation results.</li>
<li>
dts0100466337 - Toggle report produces incorrect results.</li>
<li>
dts0100466966 - vcom crash due to wait statement optimization.</li>
<li>
dts0100467812 - Crash during restart.</li>
<li>
dts0100468585 - Can not load Specman PLI with 64-bit simulator.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 6.3e</b>
<ul>
<li>
Syntax highlighting may not function properly in the Source window (all the source is shown as plain text). You can fix this problem by editing ~/hte/v2_38/hte.ini (where ~ represents your "HOME" directory) and deleting the line that says:<br>
<code>
languages=cxx tcl verilog vhdl XML PSL
</code></li>
<li>
The viewcov mode version of "coverage clear" has a known difference in behavior compared to the vsim mode version.  In the viewcov mode version, clearing coverage data in a design unit instance does not affect the coverage data for that design unit, itself.  Also, if you clear coverage data in a design unit, all instances of that design unit are not affected by that operation.  In vsim mode, the data is more tightly linked such that one operation affects the other.  In viewcov mode, if you want to have correct data correlation between instances and design units, then you need to clear both instances and design units.</li>
<li>
The simulator will hang if it tries to create a WLF file while running
on a Linux 64-bit operating system from a working directory which does
not support large files. One common instance of this is executing an
<b>add wave</b> command, when the working directory was created under an
older 32-bit Linux OS.
<br>
This is a Linux operating system bug and cannot be fixed by the
simulator.
<br>
A workaround for release 6.3 and above is to execute the simulator
with command line option <b>-wlfnolock</b>.

</li>
<li>
The stack unwinder on the linux_x86_64 OS is unreliable.  The unwinder is the fundamental facility provided by the OS for sampling where program execution is at.  The unwinder is necessary for gathering performance data.  This is a known issue with this specific OS and is why performance data will be incorrect or non-existent on this platform.  </li>
<li>
Users should be mindful of enabling both performance profiling and memory profiling at the same time.  Memory profiling requires much overhead process, and it can skew the results of the performance profiling data.</li>
<li>
On certain (RedHat) Linux Operating System versions the "-restore" feature
occasionally fails. This is due to the memory allocation security (anti-hacking) feature of Linux. RedHat Enterprise release v.3 update3 was the first version to have this security feature. In these Linux releases two consecutive program invocations do not get the same memory allocation foot-print. For the "-restore" feature the simulator relies on having the same memory allocation foot-print. Users are advised to re-try this feature a few times as on average 3 out of 5 attempts are successful. In recent Linux versions, an override for this anti-hacking feature is provided. Please use it at your own discretion. </li>
<li>
In code coverage, there is no way to exclude a condition or expression table
row for the case of more than one table on a line and the table in question
is not the first table on the line.</li>
<li>
Support of debugging C code during a quit command was disabled on Windows. The corresponding C Debug command <b>cdbg stop_on_quit</b> was also disabled on Windows.
</li>
<li>
Specparams can be learned during the learn flow, but cannot be found on consumption. The workaround is to use full +acc deoptimization.</li>
<li>
Attempting to traverse from an unnamed VPI typespec handle to an instance or a scope will result in a crash.</li>
<li>
There are some limitations related to coverage exclusions:
<ul>
<li> Toggle exclusions are not supported in viewcov mode yet.
<li> Exclusion report on toggles are not supported in both vsim and viewcov mode.
</ul></li>
<li>
Concatenations and bit slices are not yet supported for System Verilog clocking blocks.</li>
<li>
On Red Hat Enterprise Linux release 5 platform, If SIGSEGV signal occurs during the simulation and if CDEBUG is on, C-debugger traps the signal, and when continued, vsim gets terminated right away, instead of exiting with proper error status.</li>
<li>
vlog will now print an "unsupported" error message for nested design-units, as this feature is not fully supported in 6.3.  This error may be suppressed using the <b>-suppress 2230</b> command-line options.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 6.3e</b>
<ul>
<li>
There have been some performance improvements to the learn phase of the learn flow. The learn no longer learns individual bits.</li>
<li>
File locking for UCDB merge:
<br>
We support a cumulative merge (vcover merge out.ucdb out.ucdb in.ucdb). Such merge requests may occur simultaneously from various platforms in a networking environment. In order to avoid corrupting cumulative coverage results, merges of UCDB files are serialized. "out.ucdb" is only written by a single process at a time. 
<ul>
<li>Creation of lock files whose purpose is to signal by their presence that a UCDB is locked for writing. 
<li>Operations are atomic. When creating the lock file, the process verifies that it does not exist and then creates it, but without allowing another process the opportunity to create it in the meantime. 
<li>The lock is advisory. Processes which intend to modify a UCDB file, by convention, check for locks to coordinate access to that file. The system fails if this convention is ignored. 
<li>There is a back-up file mechanism within vcover <b>merge</b> that, when optioned for, saves a back-up of the merge output before merging and can, when optioned for, automatically restore the back-up in case another process has its lock broken. 
<li>When blocked on a lock: 
<ul>
<li>We print out "Waiting for lock..." messages every so often and let the user explicitly break the lock if they think it safe. 
<li>We produce a message similar to: "User Bilbo on machine Frodo has had the lock for 16 days". 
<li>Retry attempts will occur every 10 seconds. 
<li>Blocked messages will repeat about every 3 minutes.
</ul>
<li>The lock is released after a time-out period: 
<ul>
<li>This cannot inadvertently time-out. 
Cannot be broken if a process is starved simply because others get in first. 
Time-out is only for the case where a single process takes too long. 
<li>The time-out period is user-configurable. 
<li>When a time-out condition occurs, the process timing out will be sent a "kill" signal. 
</ul>
</ul></li>
<li>
The Verilog front-end now preserves block comments defined in the macro body through the macro substitution process.
</li>
<li>
The vsim '-assertfile <file>' switch now only applies to assertion (VHDL/SVA/PSL) messages issued by the tool.  Use the vsim '-errorfile <file>' switch to redirect non-assertion tool messages into the specified file. To retain the tool’s previous behavior, set the environment variable MTI_ASSERTFILE_COMPATIBILITY to any value. This environment variable may eventually be deprecated.

In the modelsim.ini file, all “AssertionFormat” variables have been renamed as “MessageFormat” variables. The MessageFormat variables are valid for both assertion and non-assertion tool messages, as before.  For backward compatibility the AssertionFormat variables will continue to be supported.
</li>
<li>
The <b>restart</b> command will reload the current dataset if the current dataset is not the active simulation ("sim"), in effect acting just like a restart of a simulation.  See the <b>dataset restart</b> command below under "New Features".</li>
<li>
The XML Testplan Import configuration file (xml2ucdb.ini) has been moved from the product directory to a sub-directory, vm_src, directly below the product directory.</li>
<li>
The ucdb2html utility has been removed from the release. The HTML report functionality had been integrated into vcover for 6.3 (see <b>vcover report -html</b>).</li>
<li>
Due to changes required for resolution of product defects, the generated names of specializations of parameterized classes could be permuted.  For example, if a name such as "C::C__2" was previously used for "C#(int)" and "C::C__3" was used for "C#(logic)", the names might be exchanged.  The conditions under which
name permutation could occur are based on internal details of how specializations are matched and are not directly correlated to source descriptions.
</li>
<li>
The default action for the command <b>onbreak</b> has changed from "pause" to "resume". This will only impact dofiles that do not currently contain any <b>onbreak</b> commands. The "pause" action causes the macro file to stop executing and issues a "Paused" prompt to allow interactive debugging of the macro file.  The <b>resume</b> command continues the execution of the macro file at the point of the break. The result of this change in default value will affect macro files without an <b>onbreak</b> command so that those files will continue executing after hitting a break point. If the old behavior is required, then it will be necessary to add the command <b>onbreak pause</b> at the beginning of the macro file.</li>
<li>
The default collapsed mode for VCD output from the <b>vcd dumpports</b> command has changed from not collapsed to collapsed.  The specific change was to the line in the modelsim.ini file:  "DumpportsCollapse = 0".<br>
 
For 6.3, this was changed to:  "DumpportsCollapse = 1".<br> 
 
To get the old non-collapsed format, change this setting back to 0 in the modelsim.ini file.
</li>
<li>
Starting in 6.3 concatenations are no longer treated as 'assignment patterns'.  Previously, the simulator attempted to detect these cases and produced the following warning:<br>
<code>
You should use "'{" to specify this literal.
</code>
<br>
Now we will print errors, as in the following example:<br>
<code>
int a[3:0] = {default:0};
<br>int b[1:2] = {32'b1, 32'd2};
<br>...
<br>** Error: test2.sv(31): Can't use named concat. literals here.
<br>** Error: test2.sv(31): Illegal concatenation of an unsized constant.
<br>** Error: test2.sv(31): Cannot assign a packed type to an unpacked type.
<br>** Error: test2.sv(32): Cannot assign a packed type to an unpacked type.
</code>
</li>
<li>
Previously, an attempt to print a memory using $display displayed nothing, while $display of other unpacked types (such as structs and dynamic arrays) did produce output.  In 6.3, we will now print an elaboration error, #8323, for all such constructs (which are illegal).  This error may be suppressed.
<br>
To print unpacked data, we have added the "%p" and "%0p" format specifiers.  The former prints the data in the form of a legal "assignment pattern", while "%0p" prints in a shorter format.</li>
<li>
Wildcard indexed associative array can no longer be used as a foreach array.</li>
<li>
The IEEE Std 1800 has approved an important restriction to packages.  With the new rules, packages are not permitted to refer to compilation unit items.  An example of such of reference is the following small design:<br>
<code>
&nbsp;&nbsp;&nbsp;&nbsp;    typedef int T;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    package p;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        T foo;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    endpackage
</code><br>
Packages may depend on other packages so compilation unit declarations that packages need should be refactored into separate packages.  For example, the previous design should be changed to a form similar to the following:<br>
<code>
&nbsp;&nbsp;&nbsp;&nbsp;    package shared_types;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       typedef int T;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    endpackage<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;    package p;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        import shared_types::*;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        T foo;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    endpackage
</code><br>

It is also important to note that "import" statements immediately before a package declaration are compilation unit imports and not imports into the subsequent package.  With the new rules, the package references may not look into such an import.  For example, the following approach will no longer work:<br>
<code>
&nbsp;&nbsp;&nbsp;&nbsp;    package shared_types;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       typedef int T;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    endpackage<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;    import shared_types::*;<br>
&nbsp;&nbsp;&nbsp;&nbsp;    package p;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        T foo;   // cannot refer to T since it is imported into<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                 // the compilation unit, not into the package<br>
&nbsp;&nbsp;&nbsp;&nbsp;    endpackage
</code><br>

The new rules are now being enforced. Designs must be refactored
so that packages do not refer to anything in the compilation unit.
</li>
<li>
Version 6.3d includes the v2.1 Mentor Graphics Documentation System, which includes the following components:
<br>
InfoHub -- A browser-based directory that provides links to all your locally installed documentation. The InfoHub also provides a search interface, from which you can search across all your locally installed documents. The search interface also enables you to submit a search directly to SupportNet. The InfoHub provides access to User and Reference manuals and Tutorials, delivered in both HTML and PDF formats, and Release Notes, delivered in text format. 
<br>
PDF Bookcase -- A PDF file that provides links to the PDF documentation if you cannot use an HTML browser.
<br>
<br>
Improvements to the v2.1 Mentor Graphics Documentation System include the following:
<br>
Search changes -- Improved search time, multiple keyword support, search ranking icons, results filtering by book or topic, and improved accuracy of results.
<br>
Search and content scopes -- A new “My Search Scope” option lets you define a custom set of books to search.
<br>
Global index improvements -- improved viewing speed and collapse/uncollapse of "like" terms.
<br>
Getting Started movie -- provides an overview of all the features of the InfoHub and Mentor Graphic Documentation System. You can view the Getting Started (Movie) from the Quick Tips menu located in the lower left-hand corner of the InfoHub.
<br>
Font size -- increase or decrease the default size of the font by using the new triple "A" icon in the header.</li>
<li>
The vopt <b>+acc=g</b> option has been replaced by the <b>+floatparameters</b> option(Verilog designs) and the <b>+floatgenerics</b> option (VHDL designs).  Both <b>+floatparameters</b> and <b>+floatgenerics</b> accept the same [+&lt;module&gt;][.] syntax accepted by <b>+acc</b>.  Use <b>+floatparameters</b> and <b>+floatgenerics</b> to instruct vopt not to lock down values of parameters and generics during optimization.  The parameters and generics will be left "floating", and thus capable of accepting modified values via the vsim <b>-g</b> and <b>-G</b> options.  <b>+floatparameters</b> and <b>+floatgenerics</b> may have adverse effects on performance in some cases.</li>
<li>
The vopt <b>+acc=m</b> option has been changed such that it no longer preserves primitive instances. Primitive instances are now preserved by using the new <b>+acc=u</b> option.</li>
<li>
The VoptCoverageOptions variable has been removed from the modelsim.ini file.
vopt optimizations for coverage are now controlled by the CoverOpt modelsim.ini
file variable and the -cover command line option.</li>
<li>
The <b>-coverage</b> option to vopt is no longer needed. vopt will automatically detect whether any of the source files were compiled with a <b>-cover</b> option, and will adjust its optimizations accordingly. Also, if you give a <b>-cover xyz</b> option to vopt, it will be logically OR'd with any <b>-cover abc</b> option given to an individual source file when processing that source file. In addition, if you compiled some source files with coverage on, you can force coverage off by giving vopt the <b>-nocover</b> option.
This allows you to control whether coverage is on or off at vopt time instead of having to recompile individual source files.
</li>
<li>
The pathname reported by the simulator and User Interface for items inside SystemVerilog packages is incorrect. A path separator ('<b>/</b>') was used instead of the language correct package scope separator ('<b>::</b>').</li>
<li>
The recording of attributes for transactions has changed.  Previously,
any attribute recorded on a transaction was not only added to every
transaction on that same substream, but to all parallel transactions
and the transactions on their substreams as well.<br>

Now, any attribute recorded on a transaction is still added to every
transaction on that same substream, but is no longer automatically added
to every parallel transaction and the transactions on their substreams.
<br>

Typically, all transactions on a given stream (and all of it's parallel
substreams) have the same set of attributes, and for that case, there
will be no difference due to this change.</li>
<li>
Changes for <b>coverage exclude</b> command:<br>
<ul>
<li>Replace the option <b>-instance</b> with <b>-scope</b> to accommodate more scope types like generate block.
<li>Transition names are used with the option <b>-ftrans</b> instead of transition id's. The new syntax is:<br>
<code>
&nbsp;&nbsp;&nbsp;   [-ftrans &lt;state_var_name&gt;&lt;transition_name&gt;+ | all]<br>
</code>
where transition_name is specified as &lt;state_name&gt;-> &lt;state_name&gt;.
<li>State names are used with the option <b>-fstate</b> instead of state id's. The new syntax is:<br>
<code>
&nbsp;&nbsp;&nbsp;   [-fstate &lt;state_var_name&gt; &lt;state_name&gt;+ | all]<br>
</code>
<li>A new option <b>-else</b> is added to exclude the else part of every if-branch specified in the line range. Note that the line number for the else-branch is where the if-branch appears.
<li>Recursive exclusion for a scope is supported. To recursively exclude a scope, <b>-scope</b> is specified together with <b>-r</b>.
<li><b>-scope</b> and <b>-du</b> are supported with <b>-togglenode</b>.
</ul></li>
<li>
The UCDB bin name for if-branch is changed from 'true_branch' to 'if_branch'.</li>
<li>
The simulator has been improved to recognize and maintain Verilog escaped identifier syntax for all Verilog escaped identifiers. Previously such identifiers were converted to VHDL-style extended identifiers, and then appeared as VHDL extended identifiers in tool output and CLI commands.<br>

Starting in 6.3, all default Verilog escaped object names inside the simulator appear identical to their names in original HDL source files.<br>

Sometimes in mixed language designs, hierarchical identifiers might refer to both VHDL extended identifiers and Verilog escaped identifiers in the same fullpath. For example:<br>
<code>
/top/\VHDL*ext\/\Vlog*ext /bottom<br>
top.\VHDL*ext\.\Vlog*ext .bottom<br>
</code>
(depending if the HierPathDelim variable is set to '/' or '.')<br>

Any fullpath that appears as user input to the tool (e.g. on the vsim command line, in a .do file, on the vopt command line, etc.) should be composed of components with escape syntax appropriate to their language kind.<br>

A modelsim.ini variable called "GenerousIdentifierParsing" can control parsing of identifiers input to the tool. If this variable is set (it is set by default now), either escape syntax to be used for objects of either language kind. This can be helpful to maintain compatibility with older do files, which often contain pure VHDL extended identifier syntax, even for escaped identifiers in Verilog design regions.<br>

Note that SDF files are always parsed in "generous mode". SignalSpy function arguments are also parsed in "generous mode".<br>

On the vsim command line, the language-correct escape syntax should be used for top-level module names. Using incorrect escape syntax on the command line will work in the incr flow, but not in vopt. This limitation may be removed in a future release.</li>
<li>
If an invalid end time is specified when recording the end of transaction, a warning is still issued but the current simulation time is used as the transaction end time instead of the transaction start time.</li>
<li>
The format of the library contents file (_info file) has been changed for the purpose of improved compiler performance. The new format is not backwards compatible with previous releases. Consequently, any attempt to refresh or recompile a 6.3 library with an older release will result in an error similar to the following:<br>
<code>
 ** Error: (vcom-42) Unsupported ModelSim library format for "./work". (Format: 3). 
</code>
<br>
Converting the library back to an older release requires that you remove the library and rebuild it from scratch. Or, if you are converting back to a 6.2 release only, then you can convert the library format to the 6.2 format and then freely refresh back and forth between 6.2 and 6.3 releases. Use the 6.3 version of vlib to convert the format to the 6.2 version using the <b>-format</b> option. For example:<br>
<code>
vlib -format 1 work 
</code>
<br>
The format version for pre-6.3 releases is 1, while the format version for 6.3 is 3. Format version 2 is related to libraries created with the <b>-archive</b> option and should be avoided when specifying the vlib <b>-format</b> option.</li>
<li>
The XML Testplan Import Utility (xml2ucdb) was enhanced and the command-line and configuration parameters were re-named for consistency. The following changes were made:
<ol>
<li>Command-line
  <ol>
  <li>Added a <b>-verbose</b> option to show testplan hierarchy and design mapping. By default, the utility is a lot less noisy than before.</li>
  <li>A <b>-ucdbfilename &lt;file&gt;</b> option has been added to remove the order-dependence of the files on the command line (the original syntax is still accepted).</li>
  <li>The command-line arguments are now order-independent.</li>
  <li>Any <b>-format &lt;format&gt;</b> option found on the command line is processed first and other extraction parameters found on the command line act as overrides on top of the parameters found in the configuration file.</li>
  <li>The same parameter names are used both on the command line and in the configuration file.</li>
  <li>The <b>-tagseparators &lt;chars&gt;</b> option, when used on the command-line, applies only to the taglist parameters specified on the command line (see below).</li></ol></li>
<li>Configuration file
  <ol>
  <li>Added "datalabels" parameter to support user-defined embedded data labels.</li>
  <li>The following parameters have been re-named for consistency. In all cases, the former name is still recognized:
    <ol>
    <li>start => starttags</li>
    <li>stop => stoptags</li>
    <li>exclude => excludetags</li>
    <li>description => descriptiontag</li>
    <li>sectionitem => sectiontags</li>
    <li>dataitem => datatags</li>
    <li>testitem => titletag</li>
    <li>coveritem => linktag</li>
    <li>coverattr => linkattr</li></ol></li>
  <li>The "Tags" field name in the "fieldnames" and "fieldlabels" parameters has been renamed "Link". The former name is still recognized.</li></ol></li>
<li>Behavior
  <ol>
  <li>The UCDB tags used to link testplan sections to coverage items now has the contents of the "title" parameter prepended. Lacking that, the basename of the XML input file is used.</li>
  <li>The "startsection" parameter now reflects the initial section number for each level of hierarchy (auto-number mode only).</li>
  <li>Data capture is no longer enabled from the start of the document in auto- number mode. An element matching "starttags" or a section number matching the "startstoring" parameter is required to enable data capture.</li></ol></li></ol>
</li>
<li>
If the PATH column value is set to "-" it will be ignored (this is useful for the PATH-per-LINK case where one of the LINK values doesn't need a PATH).
</li>
<li>
XML Import (xml2ucdb) now supports a "Path" column to direct testplan link item matching to a specific region of the design. In addition, a path may be prepended onto any CoverGroup, CoverPoint or Cross link item.<br>
For CoverPoint, CoverGroup, and Cross link items:<ul>
<li>If the contents of the Path column are non-blank, the Path information will be used as the value of the <b>-path</b> option to the tag command and the trailing component of the Link column will be parsed as usual and used to match the cover item. Any path added to the string in the Link column will be ignored.</li>
<li>If the Path column is not used or is left blank, and a path is prepended onto the string in the Link column, the prepended path will be used as the value of the <b>-path</b> option on the tag command.</li></ul>
For CoverItem, Assertion, or Directive link items:<ul>
<li>If the string in the Link column starts with a path separator character, the Link string is used as the value of the <b>-path</b> option in the tag command and no other tag command option is used.</li>
<li>If the string in the Link column does not start with a path separator (in other words, is not a full path), and the contents of the Path column are non-blank, the Path string is used as the value of the <b>-path</b> option and the Link strung is used as the value of the <b>-match</b> option on the tag command.</li>
<li>Otherwise, the Link string is used as the value of the <b>-match</b> option on the tag command and no path is specified.</li></ul>
For all other link item types, the contents of the Path column are ignored.
Note: If the Path column for a given link item is the literal string "-", the Path column is ignored for that link item only.
</li>
<li>
XML Import (xml2ucdb) now supports test data record tagging. If the Type column for a given link item is "Test", the contents of the Link column will be used as the value of the <b>-testrecord</b> option on the tag command associated with that link item.</li>
<li>
XML Import (xml2ucdb) now supports a <b>-stylesheet &lt;file&gt;</b> option ("stylesheet=<file>" in the INI file). This option points to an XSL transformation stylesheet which is applied to the imported XML file prior to extraction.</li>
<li>
XML Import (xml2ucdb) now supports XML files generated by Jasper's GamePlan testplan utility. Use the <b>-format GamePlan</b> option. </li>
<li>
Use of the "analog" format within the Wave window has been made easier by adding support for the use of <b>-min</b> and <b>-max</b> to control waveform scaling (the old method required use of "offset" and "scale").</li>
<li>
<h>Font Changes</h><br>
The way fonts are used and configured in the product has changed.  There are now 5 configurable fonts in the product: menuFont, textFont, fixedFont, treeFont, and footerFont.  These fonts are used by all windows and are customer configurable using the Edit Preferences dialog box.  The previous method of configuring fonts is no longer used and the preference variables will be ignored.  The Source window will continue to use it's own font setting as that window shares the font preferences with other products that use the DesignPad text editor.<br>
For current customers upgrading to 6.3b and later releases that have set up customized font preferences, these preferences will have to be manually configured for the new fonts, otherwise the product will look and behave just the same.</li>
<li>
A change to licensing  for this release eliminates extraneous entries in the license server log file that were the result of an availability check for a license feature.    There used to be a license checkout  line (i.e., OUT) followed by a license checkin line (i.e., IN) with 0 time duration each time the application checked on the availability of a license to decide whether to attempt the actual checkout of the license. </li>
<li>
The <b>vcd limit &lt;size&gt;</b> command has been changed adding support for a file size limit greater than 2 GB.  The size argument now excepts a unit specifier.  The default &lt;size&gt; unit remains as bytes.  An optional suffix of either KB, MB or GB specifies the units in which the size should be interpreted.  For example:<br>
<code>
vcd limit 6GB<br>
</code>

or<br>

<code>
vcd limit 400MB
</code></li>
<li>
Taglists (used as data extraction parameters) may now include a subset of the XPath syntax to identify elements not only by tag name but also by the contents of attributes attached to said elements. This pseudo-Xpath syntax only handles "=" and "!=" and can only examine the attribute values attached to the element being compared. Moreover, only one attribute comparison may be performed.<br>

For example, the following extraction parameter:
<xmp>"-starttags Worksheet[@ss:Name=Sheet1]"</xmp>
will match the following element in the incoming XML:
<xmp><Worksheet ss:Name="Sheet1">...</Worksheet></xmp>
but will not match the following element:
<xmp><Worksheet ss:Name="Sheet2">...</Worksheet></xmp>
</li>
<li>
The behavior of several extraction parameters in the XML Import utility has been clarified to allow various parameters to work more independently. The affected parameters are: starttags, stoptags, excludetags, and startstoring.</li>
<li>
The <b>change</b> command can now be used to modify local variables in Verilog tasks and functions.</li>
<li>
There have been some performance improvements to the learn phase of the learn flow. The learn no longer learns individual bits.</li>
<li>
The profile UI has been modified in the following ways:
<br>- A new pane named "Design Units" has been added to the profile window.  It aggregrates results on a per design unit basis.
<br>- "sum(Mem in)" and "sum(Mem in(%))" columns have been added to the Ranked and Design Units profile panes.  These columns report cumulative values for memory in and memory in %, providing another metric to use when examining memory profile results.
<br>- Memory values are displayed in the profile windows as comma separated numbers rather than with K and M suffixes.  This provides correspondence between
the printed size of the number and its actual value; the goal is to make the data easier to read.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 6.3e</b>
<ul>
<li>
The <b>when</b> command has been enhanced by adding a high performance mode.  The <b>-fast</b> option will cause the when body to execute within the simulation kernel.  This mode will allow the when body to execute very quickly resulting in a much lower impact on simulation runtime performance.  With this mode comes some restrictions.  Using this mode, the when body has the following limitations:

<ul>
  <li>Commands in the when body are limited to these vsim commands:</li>
  <ul>
    <li>echo</li>
    <li>force, noforce</li>
    <li>log, nolog</li>
    <li>disablebp, enablebp</li>
    <li>when, nowhen</li>
    <li>bp, bd</li>
    <li>change</li>
    <li>examine</li>
    <li>stop</li>
    <li>All Tcl commands</li>
  </ul>
  <li>The following cannot be used in -fast body:</li>
  <ul>
    <li>"do" command</li>
    <li>Any Tk commands or widgets</li>
    <li>References to U/I state variables or tcl variables</li>
    <li>Virtual signals, functions, or types.</li>
  </ul>
  <li>Commands not listed in the list above should still work, but will
adversely effect the runtime performance of the when body.</li>
  <li>When bodies that use global Tcl variables for passing state
between when bodies and the U/I will need to declare them using the
<b>uivar</b> command.&nbsp; For example, the "i" variable in the code below is
visible in the U/I and can be inspected (echo $i) and modified (set i
25) from the command prompt.<br>
  </li>

</ul>
<blockquote>
  <blockquote><tt>set i 10<br>
when -fast {clk == '0'} {<br>
&nbsp;&nbsp;&nbsp; uivar i<br>
&nbsp;&nbsp;&nbsp; set i [expr {$i - 1}]<br>
&nbsp;&nbsp;&nbsp; if {$i &lt;= 0} {<br>

&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; force reset 1 0, 0 250<br>
&nbsp;&nbsp;&nbsp; }<br>
}<br>
when -fast {reset == '0'} {<br>
&nbsp;&nbsp;&nbsp; uivar i<br>
&nbsp;&nbsp;&nbsp; set i 10<br>
}<br>
    </tt></blockquote>

</blockquote>

See the User's and Reference manuals for more information on usage and restrictions.
</li>
<li>
JobSpy now supports a <b>savecov</b> command which writes out a coverage data UCDB file.  It is equivalent to executing the vsim command <b>coverage save</b>.  If you run <b>savecov</b> without any arguments, the default UCDB filename will be "Job_'gridtype'_'jobid'.ucdb", where 'gridtype' is one of: mti, sge, lsf, or vov, and 'jobid' is the job number or id of the running job.  You can alternatively specify the filename by typing <b>savecov filename</b>.</li>
<li>
Added some options to enhance HTML report performance (vcover report -html) for very large designs.
<ol><li>The new <b>-noframes</b> option disables generation of JavaScript-based tree
        which has known performance problems for designs with a large number
        of design scopes. With this option, the report comes up as a single
        frame containing the top-level summary page and an HTML-only design
        scope index page is available as a link from the top-level page.</li>
    <li>The new <b>-nodetails</b> option omits coverage detail pages. This can save
        report generation time and disk space for very large designs.</li>
   </ol>
In addition, the JavaScript code for the hierarchical tree has been optimized
and some of the HTML generation work is now done as the report is generated to
save browser time when the report is loaded.

</li>
<li>
Two new options have been added to xml2ucdb to better support nested testplans:
<ol><li>The <b>-root</b> option (if non-zero) causes it's value to be pre-pended
        onto each section number (non-autonumber mode).</li>
    <li>The <b>-inherit</b> option causes storing state (resulting from start/stop
        tags or startstoring tag) to be inherited by the nested testplan.</li>
   </ol>
</li>
<li>
Added support for scv_connect(), a SystemC Verification Standard API for making HDL connections. Refer to User's Manual for more information on the usage of scv_connect().</li>
<li>
Enhancements were done in vcom and vsim to increase the performance of Xilinx
unisim and XilinxCorelib primitives.</li>
<li>
New memory usage statistics are now collected and can be displayed in the GUI or reported from the command line. The memory usage is collected for certain System Verilog constructs specifically: Classes, Dynamic arrays, Queues, Associative arrays, SVA and Cover directives, Covergroups and randomize().<br><br>

The data is collected on two levels, coarse grain and fine grain. The coarse grain analysis is enabled by default and collects totals for each of the group mentioned above. Fine grain is enabled through a vsim command line switch or using the <b>profile</b> command. It also can be turned off using the <b>profile</b> command. In addition, the user will have the option to log the information about the coarse grain analysis and display it in the Wave window over time. Coarse grain analysis data is also recorded in the UCDB file. To report data the user can use the <b>write report</b> command.<br><br>

Please refer to Reference Manual for details about this feature.
</li>
</ul>
</BODY>
</HTML>

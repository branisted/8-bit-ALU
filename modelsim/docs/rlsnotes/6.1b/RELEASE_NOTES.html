
<HEAD>
<TITLE>6.1b Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 6.1b
<br></h1></center>
<center>
&nbsp;Copyright Mentor Graphics Corporation 2005
<br>
&nbsp;All rights reserved.
<br>
&nbsp;This document contains information that is proprietary to Mentor Graphics Corporation.
<br>
&nbsp;The original recipient of this document may duplicate this document in whole or in
<br>
&nbsp;part for internal business purposes only, provided that this entire notice appears in all
<br>
&nbsp;copies. In duplicating any part of this document, the recipient agrees to make every
<br>
&nbsp;reasonable effort to prevent the unauthorized use and distribution of the proprietary
<br>
&nbsp;information.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Sep 08 2005</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file in www.model.com. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#assertiondefects">Assertion Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 6.1b</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 6.1b</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 6.1b</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 6.1b</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 6.1b</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
Solaris OS 10 is supported as of the 6.1a release. Solaris OS 10 support includes SystemC. However, cdebug is not supported.

<UL>Solaris 10 has the following limitations:

<LI>In the OS, vt alarm is producing irregular and random beats between 20ms and 100ms. As a result, the profiler produces the error message, "Too few samples."  To workaround this problem, add the following line to the file /etc/system and reboot the system:<br>
set hires_tick=1<br>
This will produce consistent sample times. The minimum sample time will be 20ms. This problem has been filed as Sun CR 6290459 and will be fixed in a coming kernel patch. With the patch, the minimum sample time will be approximately 10ms, as in previous Solaris releases.
<LI>In rare cases, simulations using sockets via the FLI may hang the system and produce a messages like "nfs server array not responding" may be produced. This problem has been filed as Sun CR 6296698.
<LI>In Solaris 10, g7 is always reserved. Any  PLI/FLI/DIP using g7 will break under Solaris 10.
</UL>

</li>
<li>
The RedHat Enterprise Linux 4 is supported as of the 6.1b release.
<br>
The support includes the following platforms:
<br>
<ul>
<li>32-bit linux
<li>64-bit linux_x86_64 
</ul>
<p>
For a complete list of supported platforms see the Install Guide under the section Supported platforms.</li>
<li>
The following platforms will be discontinued as of the 6.2 release:
<br>
<ul>
<li>Windows 98
<li>Windows ME
<li>Windows NT 4.0
<li>Solaris 2.6
<li>Solaris 7
<li>AIX 4.3
</ul>
</li>
<li>
The following platform changes are effective as of the 6.0 release.<BR>

<UL>
<LI>The 64-bit simulator is supported on the AMD Opteron and compatible processors running 64-bit Linux (SuSE 9.0 (x86-64) or RedHat Enterprise Linux WS release 3) as the linux_x86_64 platform. The profiling feature is not supported in 64-bit mode. The 32-bit simulator for the linux platform may also be installed and used concurrently on these systems.
<LI>RedHat 6.0 through 7.1 are no longer supported. 
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 6.0x or  earlier release versions. See "Regenerating your design libraries" in the User's Manual for more information on refreshing your models.</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in version 5.5c or greater.

</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
Beginning in the 5.8 release, SDF files compressed in the Unix compress format (.Z) are no longer supported, but the GNU zip format (.gz)is supported.  Therefore, we only when read in compressed SDF files that are created with the GNU zip (gzip) extension. A file is not require to have a .gz extension, but it will error on files that have a .Z extension.</li>
<li>
Support of SystemC has dependencies on both operating system versions and C++ compiler versions. The OS support is slightly different than the simulation environments OS support for designs without SystemC content. Also, 64-bit compilation is not supported for SystemC designs.
<br>
Supported Operating Systems and C++ compilers:<br>
<ul>
<li>RedHat 7.3 and greater, gcc 3.2</li>
<li>RedHat EWS2.1/7.2 and greater, gcc 3.2.3 (simulation environment version 5.8b and greater)</li>
<li>Solaris 2,6, 7, 8 , 9, 10, gcc 3.3</li>
<li>HP-UX 11.0 and greater, aCC 3.45</li>
<li>Win32 XP and 2000, gcc 3.2.3 (Simulation environment versions 6.0 and greater)</li>
</ul>
</li>
<li>
The LE product does not support VHDL. However, it does support Verilog and SystemC.</li>
<li>
CDEBUG compatibility information by platform.<BR>
<UL>
<LI>On HP-UX 11.0, the built-in HP wdb 3.3 program is used as the underlying C/C++ debugger.  In order to run wdb successfully, you must have installed HP-UX PHSS_23842, or a superseding patch.  Without this patch installed, error messages will occur during CDEBUG startup.
<LI>On rs6000, gdb-6.0 works with gcc-3.2. Additionally, when creating shared objects, 'ld' (/bin/ld) should be used, not 'gcc'.
This combination works with AIX-5.1. On AIX-5.1  use gcc-3.2-aix51.
The native compiler /bin/cc is not compatible with gdb-6.0.
</UL>

</li>
<li>
The vcom compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches <b>-87</b>, <b>-93</b>, or <b>-2002</b>, or<br>
<LI>set the VHDL93 variable in the [vcom] section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
</li>
<li>
Although the vlog compiler currently supports some SystemVerilog features, these extensions are not enabled by default because they require new language keywords that may conflict with identifiers in existing code.  There are two ways to enable SystemVerilog features: the first is by using the <b>-sv</b> command line option and the second is by naming the source file with a ".sv" suffix.</li>
<li>
The EM64T platform is supported as of the 6.0b release.<BR>
The support includes EM64T machines loaded with Suse 9.1 OS or RedHat Enterprise Linux 3 Update 3 OS and the following linux configurations.
<UL>
<LI>32-bit linux
<LI>64-bit linux_x86_64
</UL>
FlexLM v8.2a (which is currently shipped in 6.0x) is not supported on an EM64T machine loaded with Suse 9.1 OS.

</li>
<li>
The 6.1 release will use the following licensing versions: FLEXlm v9.5; Mentor Graphics Licensing MGLS v2004.2 and PCLS 2004.328.

CRITICAL LICENSING INFORMATION:

For this beta release of the product, the FLEXlm licensing software
being used is version 9.5. For floating licenses it will be necessary to
verify that the vendor daemon (i.e., mgcld) and the license server
(i.e., lmgrd) have FLEXlm versions equal to or greater than 9.5. The
vendor daemons and lmgrd that are shipped with this release will be
FLEXlm version 9.5. If the current FLEXlm version of your vendor daemon
and lmgrd are less than 9.5 then it will be necessary to stop your
license server and restart it using the vendor daemon and lmgrd
contained in this release. If you use node locked licenses you don't
need to do anything.</li>
<li>
SystemVerilog Program blocks are now supported except for the $exit() task.</li>
<li>
The default time unit for SystemC can be set using the "ScTimeUnit" variable in the modelsim.ini file.  By default ScTimeUnit is set to 1 ns.  The default time unit in SystemC can also be set using the sc_set_default_time_unit() function before any time based object like sc_clock or sc_time is created.</li>
<li>
vlog,vcom and vopt command line options will be case sensitive similar to the vsim command line options.</li>
<li>
Starting in the 6.1 release, the vsim -dpiexportobj option
has changed behavior somewhat.  This primarily affects
win32 and rs6000 users.

<OL>
<LI>You shouldn't put an extension on the object filename.
   That will be done for you automatically now.</LI>

<LI>There is no longer a need to add "-c -do 'quit -f'"
   to the vsim -dpiexportobj command line.</LI>
</OL>
The examples/systemverilog/dpi/simple_calls runtest.bat
files have been modified to show the correct flow now.
</li>
<li>
Due to some bug fixes, some VHDL models compiled with 6.1b or higher will not
run under 6.1 and 6.1a. These models will generate the error:<br>
<code>
# ** Fatal: (vsim-3274) Empty built-in function pointer (511).<br>
# Either this version of vsim is not compatible with the compiled<br>
# version of the libraries that were loaded or a required shared library<br>
# was not loaded. Please recompile the libraries with -refresh or make<br>
# sure you specify the required shared library to vsim.<br>
</code></li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8, 9
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 6.1b</b>
<ul>
<li>
There was a problem where files with spaces could not be compiled from the compile dialog.
</li>
<li>
The "contains" filter for the Structure window and Objects window is now case-insensitive. Previously the filtering considered case, but was not supposed to.</li>
<li>
A Wave window problem caused intermittent traces for VHDL variables.</li>
<li>
A WLF recording problem for certain types of arrays produced an error messages similar to:<br>
<code>
  INTERNAL ERROR: Illegal array element type in log_value: 0
</code></li>
<li>
A WLF recording error resulted in a simulator crash when a recorded enumeration exceeded the range of the type. This only happened with erroneous FLI application code.</li>
<li>
Using the File->Export->Waveform dialog box produced a Tcl error sometimes when the Browse button was pressed.</li>
<li>
Windows no longer resize when simulation is restarted.</li>
<li>
A WLF recording error resulted in a simulator crash when logging multidimensional Verilog arrays, in some cases.</li>
<li>
Restarting the simulator while logging large arrays took an unusually long time ,the simulator appear to hang, under some circumstances.</li>
<li>
A WLF optimization bug could cause the WLF files to be substancially larger after restarting the simulation.  The wave window display was correct in those cases, but data was redundantly recorded.</li>
<li>
The command <b>vcover report</b> with the <b>-du</b> option crashed if a library was specified as part of the design unit.</li>
<li>
A Tcl error occured when a signal was dragged to an undocked Wave window.</li>
<li>
The Locals window failed to display any logged variables when used in <b>-view</b> mode. </li>
<li>
A WLF recording error resulted in not being able to log a Verilog Named Events after it had been nologged.</li>
<li>
The <b>noview</b> command did not work if the Wave window was undocked.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 6.1b</b>
<ul>
<li>
Some cases of illegal output port connections were not detected as errors during elaboration.</li>
<li>
Some cases of out-of-bounds part-selects of hierarchically referenced variables resulted in a crash rather than an elaboration error.</li>
<li>
An out of bounds array access to a multi-dimension array caused the simulator to crash in certain cases.</li>
<li>
Multiple $fdumpfile/$fdumpvars sequences failed with the error vsim-PLI-3107.</li>
<li>
vlog now generates warnings if the package name clashes with the module or another package name.</li>
<li>
SystemVerilog classes and structs containing parametric types crashed the simulator during startup in some cases.</li>
<li>
Using <b>-coverage</b> with SystemVerilog packages resulted in a runtime crash, if the package contained coverage items. </li>
<li>
In SystemVerilog, a randomization constraint was not handled correctly in certain cases if it included the 'inside' operator with an associative array as the right hand operand. </li>
<li>
In SystemVerilog, there were three problems with randomization of 'randc' variables.
<ol>
<li>If there was no constraints on the 'randc' variable, optimization incorrectly assigned a simple random value.
<li>For var bit-width equal or greater than 32, randomization repeated a single sequence of values.
<li>The 'randc' attribute was not associated with variables occuring as parameters to the randomize() method. As a result the variables were randomized as a 'rand' variables.
</ol></li>
<li>
The generic "Invalid argument" error produced when $display was given an invalid format string or arguments that did not match the format string was replaced by more descriptive errors.</li>
<li>
Errors in $unit scope sometimes indicated the wrong source file.</li>
<li>
If you had a queue of class handles and retrieved a handle from the queue and assigned its value into a class handle variable a compilation error was produced. See example below:<br>
<code>
xtmsg_rcvd = tb.X2V_XTMSG_Q.pop_front();  // this should be legal but vlog was issuing the error: <br> "types are not assignment compatible"
</code>


</li>
<li>
vopt mishandled a hierarchical reference in an expression that was
used as the actual in the port list of a module instance.  The
hierarchical reference had to be a reference to an object in a module
that was not locally inlined. The hierarchical reference also had to be in a
module that was inlined. In this case the following error message was generated.
<br>
<code>
  Internal error: vgentd.c(1876) !node->sig && !node->ext
</code>
</li>
<li>
On 32bit linux with Large File Support (LFS) <b>$fopen()</b>, <b>$fdisplay()</b>, <b>$fstrobe()</b>, <b>$fmonitor()</b> and <b>$fwrite()</b> now support files larger than 2GB.</li>
<li>
An optimized design incorrectly skipped clocked evaluations of always blocks in some unusual cases.</li>
<li>
Gate-level optimized cells in some cases selected the wrong I/O path delay when conditional paths on X'd inputs were active.</li>
<li>
In certain cases period or Width timing check violations caused a register to be X'd and to not latch new values on the subsequent clock edge.</li>
<li>
Installation paths containing whitespace caused SystemVerilog DPI export compilation to fail.</li>
<li>
A not supported error message was generated when a local variable was passed as actual to a sequence instance on which method 'ended' is called. </li>
<li>
The simulator now fully supports SystemVerilog-String objects as arguments to SystemVerilog system tasks and functions. This includes $fgets(), $swrite(), $fread(), $fwrite(), $fscanf(), $fprintf(), etc. Proper warnings and errors are now generated when used improperly.</li>
<li>
Coverpoint/Cross type-option assignment using Covergroup type-options now work correctly.</li>
<li>
Bad channel/file descriptor used with $fread(), $fwrite() etc. now generates proper warnings and errors.</li>
<li>
In certain cases the Verilog compiler overflowed internal storage and generated code that crashed the simulator.</li>
<li>
An implicitly typed vector parameter that inherits the width from the rhs of the assignment sometimes resulted in the parameter having a non-zero rightmost bound.</li>
<li>
Coverpoints covering large sized expressions crashed. Previously covering array with more than 63 bits using Coverpoints, crashed in some cases when the next Coverpoint declaration was in a Covergroup.</li>
<li>
There was a problem with the sampling behaviour of Coverpoints with transition bins and one/more, ignore/illegal bins. Previously, some of the active normal transition bins, forced to be aborted (not getting sampled) by an active ignore/illegal bins, got errorneouly sampled in the next sampling cycle.</li>
<li>
When there was a non-existent coverpoint scope such as, covertype::coverpointscope::get_coverage(), no warning message was produced.



</li>
<li>
Declaring a list of signals of the form 'output a1, a2;' or 'output 1ns a1, a2;' in a clocking block caused an internal error.</li>
<li>
Temporaries were inappropriately shared in rare cases of an expression containing a call to a function and both contexts requiring temporaries whose sizes are derived from the same parameter.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 6.1b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 6.1b</b>
<ul>
<li>
Exponentiation again produces denormalized numbers for some negative exponents
such as (2)**(-1025). Release 6.1 was changed to produce zero instead of a
denormalized number.</li>
<li>
If a range check on a signal failed during elaboration, the simulation was not
aborted and the simulation produced incorrect results. Now when a signal range check fails at elaboration time, the elaboration fails.</li>
<li>
Compilation of some unconstrained ports failed.</li>
<li>
Using transport delays within clocked processes caused incorrect simulation
behavior in some cases. If the same signal is assigned to multiple times and the data read by the process does not change before the clock signal, the driven signal got stuck in its last value until a data signal changed.</li>
<li>
In rare instances vsim incorrectly reported a fatal VHDL array mismatch.</li>
<li>
The Locals window would display incorrect array elements when a subprogram-local array value was expanded if the local was of a call-dependent length.</li>
<li>
A CASE expression of an array type would incorrectly be considered non-locally static under certain conditions.</li>
<li>
Certain VHDL models generated the following error during elaboration.<br>
<code>
# ** Fatal: INTERNAL ERROR in reset_trigger_process().<br>
#    Time: 0 ns  Iteration: 0  Process: /someinstance/process_name File: myfile.vhd <br>
# FATAL ERROR while loading design <br>
# Error loading design <br>
</code>
The VHDL code must be refreshed or recompiled to fix the problem. <br>
<b>Note that code compiled in 6.1b may generate errors when loaded in 6.1 and 6.1a</b></li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 6.1b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 6.1b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 6.1b</b>
<ul>
<li>
sccom crashed when an unnamed struct was used.</li>
<li>
The simulator crashed in process creation when the kind_string variable of a module was overwritten.</li>
<li>
Added support to connect a SystemVerilog actual of type reg to a SystemC input port.</li>
<li>
There were multiple symbol definition errors from sccom <b>-link</b> when the same library was specified with the <b>-work</b> and the <b>-lib</b> options.</li>
<li>
The simulator did not execute the process code after a sc_stop() if the no button was hit on the sc_stop() confirmation dialog box.</li>
<li>
sccom now passes <b>-DMTI_SYSTEMC</b> by default to gcc and scparse.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="assertiondefects"></a><b>Assertion Defects Repaired in 6.1b</b>
<ul>
<li>
There was a problem where a pure function call in SVA was not working correctly while sampling. This problem happened when one of the arguments of the function contained $past(). This issue arose whenever any of the arguments of the function were already sampled. See example of function call and usage below:<br>
<code>
function (input a, input b)<br>
return (a == b);<br>
endfunction<br>
</code>
The following usage was required for the problem to occur:<br>
<code>
   d |=> func(e, $past(e));
</code></li>
<li>
There was an issue that caused erroneous behavior when assigning to bit/part selects of a SVA local variable</li>
<li>
There was a problem where the mtiverification license was getting checked out even if there was no PSL in the design. This happened when the design had SVA in it.</li>
<li>
SVA first_match operator was not returning all matches that first matched at the same clock edge. It was returning just one match.</li>
<li>
The SVA cover directive did not work correctly on named properties. 
If the property did not have any property operators, the property was treated as a sequence. Here is an example of the property which did not show correct behaviour with cover.
<code>
  property p;<br>
    a ##[1:$] b;<br>
  endproperty
</code></li>
<li>
Use of subroutines with out and inout ports in match items of a SVA sequence now generates an error message.</li>
<li>
There was a problem where internal assertion signal values were displayed in the List window.</li>
<li>
Enhanced checking with vunit inheritance in VHDL to prevent properties declared in an instance-bound vunit from being accessed from an incorrect module instance.</li>
<li>
$rose/$fell on a vector now considers only the LSB of the vector to determine rose/fell.</li>
<li>
Implication now reports a "pass" if the LHS spawns multiple threads (none of which fails) and at least one of them has a non-vacuous match.</li>
<li>
The first_match operator did not report all first matches in the same cycle. Previously, if more than one thread passed at the same cycle, first_match reported only one success.</li>
<li>
An error message is now generated if a subroutine with out or inout ports is used in the match_items of a SVA sequence</li>
<li>
The simulator crashed in certain cases when restoring from a checkpointed state and the design had SV assertions.</li>
<li>
In the Wave window the value pane and waveforms of cover directives became
empty after a <b>restart</b> command.</li>
<li>
Named SystemVerilog assertions were added twice in the Wave window when <b>add wave -r</b> was used.</li>
<li>
In some cases, VHDL output port signals referenced by PSL endpoints could not be used in VHDL if statements.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 6.1b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 6.1b</b>
<ul>
<li>
There was a problem in vcd2wlf that caused multiple copies of the same signal in a given region to be created in the wlf file which lead to it appearing multiple times in the Objects window.

</li>
<li>
Revised the help message for -L <libname> to read "Search library for design units instantiated from Verilog and for VHDL default component binding".</li>
<li>
When refeshing a library as shown below:<br>
<code>
  <b>%vcom -refresh -work &lt;library_name&gt; </b><br>
</code>
or<br>
<code>
  <b>%vlog -refresh -work &lt;library_name&gt; </b><br>
</code>
on a large library or a library containing large design units the refresh silently failed to completely refresh the library in certain cases. Additionally it refreshed the current default work library or issued an error about being unable to find library <b>work</b>.
</li>
<li>
Code coverage conditions and expressions reported
matches on the wrong rows when the UDP contained more than 32 rows.
</li>
<li>
The simulator crashed doing toggle coverage with coverage report with options <b>-bydu</b> and <b>-lines</b> together.</li>
<li>
There was a problem with covergroups in interfaces. LHS did not resolve properly.
</li>
<li>
<b>vcover merge</b> took excessive amounts of time when merging more than
two files at a time. This was due to a memory management problem.
</li>
<li>
Random crashes of the U/I occurred during quit.</li>
<li>
vcover merge -inputs <file> does not recognize/ignore whitespace in the input file.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 6.1b</b>
<ul>
<li>
dts0100282593 - Error while handling a hierarchical reference used in the port list of the instantiation of assert_always.</li>
<li>
dts0100283218 - Option "-L" used with vsim applies to VHDL also, not only to verilog. "vsim -h" talks only about Verilog.</li>
<li>
dts0100268002 - Command "vcover report"  with "-du" option doesn't work.</li>
<li>
dts0100286358 - Toolbar is not displayed correctly in the Dataflow window.</li>
<li>
dts0100282067 - Problem with $fdumpfile and $fdumpvars in 6.1.</li>
<li>
dts0100287052 - Fatal error using Xilinx GT11 Smartmodel with ModelSIm 6.1.</li>
<li>
dts0100283918 - Design with unconstrained port couldn't be compiled in new version of Modelsim.</li>
<li>
dts0100281400 - Wave window does not display traces of variables properly.</li>
<li>
dts0100279975 - Dataflow Extended Mode Disabled.</li>
<li>
dts0100278302 - Loose maximized transcript window when doing Simutate -> Run -> Restart.</li>
<li>
dts0100274382 - vcd2wlf does not prevent duplicate signals from being converted.</li>
<li>
dts0100283851 - Invalid class assignment error.</li>
<li>
dts0100284775 - Vcom Signal 11 failure when compiling procedure/process/generic/record combination.</li>
<li>
dts0100274726 - coverage report command gives wrong results.</li>
<li>
dts0100289026 - Memory Failure error - SystemVerilog queue with structures as elements.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 6.1b</b>
<ul>
<li>
Use of impure functions in SVA may not work as sampling of such a function is not sensitive to the variables which are not in the argument list of the function.</li>
<li>
The simulator does not correctly recognize top disable in SVA and give error messages for illegal disables.</li>
<li>
Covergroups with ignore/illegal Transition bins, may give wrong values for get_coverage() and get_inst_coverage(). The values may be wrong despite the bin counts being correct.</li>
<li>
Untyped parameters used in packages to declare other parameters may cause vsim to crash.  For example the following declaration in a package may cause a segmentation violation:

    parameter p1 = 4, p2 = p1-1;

This can be worked around by providing an explicit type like:

    parameter int p1 = 4, p2 = p1-1;
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 6.1b</b>
<ul>
<li>
The SmartModel library Verilog PLI interface application (libswiftpli.sl) is no longer provided in the installation. The SmartModel library already contains this PLI application (referred to as LMTV), and it is the preferred PLI interface to the SmartModel library.</li>
<li>
Disabled assertion passes by default. This applies to both PSL and SVA.
Assertion passes are only reported and counted when vsim is run with the <b>-assertdebug</b> command line option. It can also be switched on
by enabling the <b>AssertionDebug</b> switch in the modelsim.ini.
In the vopt flow, the assertion visibility can be enabled using <b>+acc=a</b> at compile time (Verilog Only) for vsim <b>-assertdebug</b> to take effect.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 6.1b</b>
<ul>
<li>
Added support for the SmartModel library on the linux_x86_64 platform.</li>
<li>
Added new vlog command line option.<br>
<code>
  % vlog <b>-cuname &lt;compilation_unit_name&gt;</b><br>
</code>
The option is used to explicitly name the compilation unit package created by vlog. The option can only be used in conjunction with <b>-mfcu</b>.
<br>
The explicilty named package can be given on the vsim/vopt command line as top for forced elaboration.
<br>
The option is used when compiling a file(s) that has 'bind' in compilation unit scope. Without this option, a bind in compilation unit package gets elaborated only if a design unit that depends on that package gets elaborated. 
With this option, users can force elaboration of compilation unit package and thereby force 'bind' in compilation unit scope to elaborate.
<br>
Example usage is<br>
<code>
  % vlog <b>-cuname bind_pkg -mfcu file1.sv file2.sv</b><br>
  % vsim <b>top bind_pkg</b><br>
</code>
Note that user is not reuqired to give this option in qverilog/vlog <b>-R</b> flow. qverilog will automatically cause forced elaboration of a compilation unit package if it contains 'bind'. 

</li>
<li>
coverage report <b>-instance &lt;path&gt; -recursive</b> has a new option 
<b>-depth &lt;n&gt;</b>, which specifies the maximum recursion depth. This
option was also added to <b>vcover report</b>.
</li>
<li>
A derived module instance can be declared as a base module class pointer. In this case, vsim GUI can only show objects in the base module class. In order to see all the objects in the instance, the user needs to pass the actual module class name to vsim by calling the new sc_module member function 'void mti_set_typename(char*)'.</li>
<li>
Limited support for c++ standard input cin is added. cin operation directly on all c++ primitive types are supported. However, the simulator doesn't support when cin is passed in as a function parameter of type istream. For example, the following cin usage is not supported:
<br>
<code>
void getInput(istream& is)<br>

{<br>

   int input_data;<br>

   ...<br>

   is >> input_data;<br>

   ....<br>

}<br>

 
getinput(cin);<br>
</code>
 

As a workaround, we suggest the user manually changes the cin usage as the following:
<br>
<code>
void getinput()<br>

{<br>

   int input_data;<br>

   ...<br>

   cin >> input_data;<br>

   ....<br>

}<br>
getinput();
</code>
 
<br>
This limitation applies to both C functions and member functions of a user-defined class/struct.
<br>
This feature is disabled by default. To enable the support of cin, the user source file needs to be compiled with <b>-DUSE_MTI_CIN</b> when sccom is invoked.
</li>
<li>
Accellera standard Open Verification Library is now included.</li>
<li>
The right hand side of assignments in Match Item is now displayed in the Wave window for assertions.</li>
<li>
Enhancements to FLI for SystemC support:
<BR>
<UL>
<LI> new functions:<BR>
<UL>
<LI> mti_IsSystemcType()<BR>
<LI> mti_IsSystemcSignedType()<BR>
</UL>
<LI> enhanced functions:<BR>
<UL>
<LI> mti_TickLength()<BR>
<LI> mti_GetSignalValue()<BR>
<LI> mti_SignalImage()<BR>
</UL>
<LI> expanded:<BR>
<UL> mtiTypeKindT enum in mti.h<BR>
</UL>
</UL></li>
</ul>
</BODY>
</HTML>

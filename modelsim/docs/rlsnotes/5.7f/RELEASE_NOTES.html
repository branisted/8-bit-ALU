
<HEAD>
<TITLE>5.7f Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.7f
<br></h1></center>
<center>
&nbsp;Copyright Model Technology, a Mentor Graphics
<br>
&nbsp;Corporation company, 2003 - All rights reserved.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Sep 17 2003</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.7f</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.7f</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.7f</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.7f</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.7f</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
The following platform will be discontinued as of the ModelSim 5.8 release:<br>
<UL>
<LI>AIX 4.2
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 5.7 
Betas or 5.6x or earlier release versions. See "Regenerating your Libraries" 
in the ModelSim Start Here Guide for more information on refreshing your models. 
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in ModelSim version 5.5c or greater.

</li>
<li>
Product changes and new features mentioned here are introduced in the 5.7f 
release. If you are migrating to the 5.7f release from 5.6x or earlier releases,
please also consult version 5.7x release notes for product changes and new 
features introduced during the 5.7 patch releases. The previous version 
release notes can be found in your modeltech installation directory at 
docs/rlsnotes.
</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the ModelSim
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
In the next major release, the linux platform executables will be built on 
RedHat Enterprise Workstation 2.1. This version is compatible with RedHat 7.2 
and higher. RedHat 6.0 through 7.1 will be supported for one release with a new
platform vco.</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 6.0 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.7f</b>
<ul>
<li>
The <b>virtual save</b> command did not include the <b>-delay</b> option in the generated .do file and it incorrectly generated the list of signals included in delayed virtual signals.</li>
<li>
In Modelsim PE, the Main window Tools > Options menu did not work.  For example, if you tried to change the VSIM prompt or Transcript File parameters, it did not work.</li>
<li>
When using the Find dialog in the Source window, the matching item did not highlight unless the dialog box was closed.</li>
<li>
The List window failed to update if a gating expression was applied in a macro file specified on the command line. The window updated properly if the macro file was executed at the VSIM prompt.</li>
<li>
The performance of ModelSim's user interface was degraded for each selection of the 'Compile Selected', 'Compile All', or 'Compile Out-Of-Date' menu items in a project containing a large number of files.  </li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.7f</b>
<ul>
<li>
$fscanf can now write to a memory element.</li>
<li>
$setuphold did not report all the timing violations that were reported by the equivalent $setup and $hold timing checks. A similar situation existed with $recrem and the equivalent $recovery and $removal timing checks. Also, some $setup and $removal errors were not reported if the reference event occurred multiple times in the violation window.</li>
<li>
Pulse filtering problems caused events to be scheduled in the past. This occurred when pulses appeared at a path input without a path delay specified, and the path output was included in other paths with specified delays.</li>
<li>
<b>vlog</b> allowed inout ports declared using the new ANSI-style syntax to be re-declared.  This now reports an error.</li>
<li>
The options <b>+nowarnFOFIR</b> and <b>+nowarnFOFIA</b> for suppressing warnings from the $fopen() system task had no effect.</li>
<li>
Path pulse errors were not detected on transitions to X while a previous pulse error was pending for a transition from X to another value. This behavior occurred only when not compiling with <b>-fast</b>.</li>
<li>
In some cases sign-extension was not being performed in expressions involving elements of signed arrays.</li>
<li>
A force statement involving feedback did not behave as expected.</li>
<li>
The simulator crashed when externally referencing net arrays.</li>
<li>
Unconnected ports with $width or $period timing checks in some cases caused a crash during SDF annotation.</li>
<li>
The <b>-optcells</b> option of the <b>add wave</b> command did not work under some conditions.</li>
<li>
An optimized cell with multisource interconnect delays, where at least one of the delays was not annotated, in some cases selected the wrong delay or crashed.</li>
<li>
Mixed designs containing Verilog generate constructs crashed in some cases.</li>
<li>
Localparams could be overridden with ordered inherited parameter instantiation. Now localparams will be ignored by ordered parameters.</li>
<li>
When using the <b>-fast</b> or <b>+opt</b> switch, VHDL configurations could not be referenced from Verilog design units.</li>
<li>
Compiling a design that contained unreferenced functions with <b>-fast</b> resulted in an internal compiler error in some cases.</li>
<li>
A design containing system function calls that was compiled with <b>-fast</b> produced incorrect results in some cases depending on the optimizations that were applied.</li>
<li>
A design using the "list of instances" syntax hung the compiler if a parameter value was passed down in the instantiations and if compiled with <b>-fast</b>.</li>
<li>
Compiling a design containing an array of vector nets resulted in an internal compiler error if compiled with <b>-fast</b> and if the net had no drivers.</li>
<li>
Optimization interactions when compiling a design with <b>-fast</b> could result in incorrect evaluation of ternary and bitwise infix expressions in some unusual cases if the operand widths did not match each other.</li>
<li>
If a Verilog design failed to elaborate with unresolved hierarchical references
and the design was elaborated again and it still had unresolved hierarchical 
references, the simulator could crash.</li>
<li>
$fwrite() wrote all zeroes for %u and %z formats when compiled with <b>-fast</b>.
</li>
<li>
$fwrite ignored multi-channel descriptors when formatting with %u and %z.</li>
<li>
Some output path delays with transitions to/from X were being scheduled with the wrong delay value for an optimized cell containing tristate gate primitives. </li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.7f</b>
<ul>
<li>
When comparing a handle to an object obtained from an iterator to a handle to
the same object obtained from a system task/function argument, vpi_compare_objects()
always returned FALSE.</li>
<li>
vpi_put_value() now supports strength values.</li>
<li>
The ability to return handles to VHDL architectures from vpi_handle_by_name()
had accidentally been turned off.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.7f</b>
<ul>
<li>
<b>vcom</b> previously allowed a generate statement without a BEGIN keyword
between the declarative items and the concurrent statements.
Now a warning message is issued, since this is technically illegal VHDL.</li>
<li>
When a VHDL entity with an unconstrained port was instantiated
with a conversion function connecting the actual to the formal
port, the simulation crashed.
</li>
<li>
There was a problem with vcom label expression parsing.</li>
<li>
In some cases the simulator generated bad code and crashed when merging processes together. This occurred when a record or array signal was partially assigned to
and some of the assignments occurred within a FOR or WHILE loop.
</li>
<li>
SDF Interconnect Delays from an indexed bus port to another indexed bus port
would give an incorrect error message about expecting a negative generic array
size.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.7f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.7f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.7f</b>
<ul>
<li>
When setting a VHDL generic of type time from Verilog, the value wasn't scaled to the current timescale.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.7f</b>
<ul>
<li>
v2k_int_delays functionality did not correctly handle unconnected ports.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.7f</b>
<ul>
<li>
DR 00141151 -

Added information to error message to advise user that most likely cause is incorrectly set licensing environment variable.</li>
<li>
DR 00140556 - VPI: bug with vpi_compare_objects function.</li>
<li>
DR 00146869 - 
The VHDL procedure modelsim_lib.util.signal_force
sometimes failed or crashed when called
multiple times with a string literal actual
for the second argument (formal "force_value").
</li>
<li>
DR 00141981 - Incorrect handling of tri-state buffer bufif0 with -fast.</li>
<li>
DR 00141412 - Running vsim using +multisource_int_delays option aborts when loading design and sdf file.</li>
<li>
DR 00140217 - Location map variables in library mappings not working.</li>
<li>
DR 00139846 - `timescale not considered for generic on VHDL instances.</li>
<li>
DR 00139494 - Invalid error on Verilog 2001 re-definition of ports.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.7f</b>
<ul>
<li>
Designs compiled under ModelSim 5.7e containing indexed part selects of net arrays
(eg. net_array[1+:4]) in some cases produce an error when simulated under ModelSim 5.7f:<BR>
<code>
# ** Fatal: (vsim-3377) Invalid part-select expression: 'net_array'.
</code>
<BR>
In this case a re-compile under ModelSim 5.7f will be necessary to resolve
the error(s).</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.7f</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.7f</b>
<ul>
<li>
Verilog cells containing bufif0, bufif1, notif0, and notif1 output drivers now optimize.</li>
</ul>
</BODY>
</HTML>

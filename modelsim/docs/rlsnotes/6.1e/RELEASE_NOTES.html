
<HEAD>
<TITLE>6.1e Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 6.1e
<br></h1></center>
<center>
&nbsp;Copyright 2006 Mentor Graphics Corporation
<br>
&nbsp;All rights reserved.
<br>
&nbsp;This document contains information that is proprietary to Mentor Graphics Corporation.
<br>
&nbsp;The original recipient of this document may duplicate this document in whole or in
<br>
&nbsp;part for internal business purposes only, provided that this entire notice appears in all
<br>
&nbsp;copies. In duplicating any part of this document, the recipient agrees to make every
<br>
&nbsp;reasonable effort to prevent the unauthorized use and distribution of the proprietary
<br>
&nbsp;information.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Mar 09 2006</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file in www.model.com. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#assertiondefects">Assertion Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 6.1e</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 6.1e</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 6.1e</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 6.1e</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 6.1e</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
The RedHat Enterprise Linux 4 is supported as of the 6.1b release.
<br>
The support includes the following platforms:
<br>
<ul>
<li>32-bit linux
<li>64-bit linux_x86_64 
</ul>
<p>
For a complete list of supported platforms see the Install Guide under the section Supported platforms.</li>
<li>
The following platforms will be discontinued as of the 6.2 release:
<br>
<ul>
<li>Windows 98
<li>Windows ME
<li>Windows NT 4.0
<li>Solaris 2.6
<li>Solaris 7
<li>AIX 4.3
</ul>
</li>
<li>
Solaris OS 10 is supported as of the 6.1a release. Solaris OS 10 support includes SystemC. However, cdebug is not supported.

<UL>Solaris 10 has the following limitations:

<LI>In the OS, vt alarm is producing irregular and random beats between 20ms and 100ms. As a result, the profiler produces the error message, "Too few samples."  To workaround this problem, add the following line to the file /etc/system and reboot the system:<br>
set hires_tick=1<br>
This will produce consistent sample times. The minimum sample time will be 20ms. This problem has been filed as Sun CR 6290459 and will be fixed in a coming kernel patch. With the patch, the minimum sample time will be approximately 10ms, as in previous Solaris releases.
<LI>In rare cases, simulations using sockets via the FLI may hang the system and produce a messages like "nfs server array not responding" may be produced. This problem has been filed as Sun CR 6296698.
<LI>In Solaris 10, g7 is always reserved. Any  PLI/FLI/DIP using g7 will break under Solaris 10.
</UL>

</li>
<li>
The following platform changes are effective as of the 6.0 release.<BR>

<UL>
<LI>The 64-bit simulator is supported on the AMD Opteron and compatible processors running 64-bit Linux (SuSE 9.0 (x86-64) or RedHat Enterprise Linux WS release 3) as the linux_x86_64 platform. The profiling feature is not supported in 64-bit mode. The 32-bit simulator for the linux platform may also be installed and used concurrently on these systems.
<LI>RedHat 6.0 through 7.1 are no longer supported. 
</UL>

</li>
<li>
You must recompile or refresh your models if you are moving forward from 6.0x or  earlier release versions. See "Regenerating your design libraries" in the User's Manual for more information on refreshing your models.</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in version 5.5c or greater.

</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only),
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>
Beginning in the 5.8 release, SDF files compressed in the Unix compress format (.Z) are no longer supported, but the GNU zip format (.gz)is supported.  Therefore, we only when read in compressed SDF files that are created with the GNU zip (gzip) extension. A file is not require to have a .gz extension, but it will error on files that have a .Z extension.</li>
<li>
Support of SystemC has dependencies on both operating system versions and C++ compiler versions. The OS support is slightly different than the simulation environments OS support for designs without SystemC content. Also, 64-bit compilation is not supported for SystemC designs.
<br>
Supported Operating Systems and C++ compilers:<br>
<ul>
<li>RedHat 7.3 and greater, gcc 3.2</li>
<li>RedHat EWS2.1/7.2 and greater, gcc 3.2.3 (simulation environment version 5.8b and greater)</li>
<li>Solaris 2,6, 7, 8 , 9, 10, gcc 3.3</li>
<li>HP-UX 11.0 and greater, aCC 3.45</li>
<li>Win32 XP and 2000, gcc 3.2.3 (Simulation environment versions 6.0 and greater)</li>
</ul>
</li>
<li>
The LE product does not support VHDL. However, it does support Verilog and SystemC.</li>
<li>
CDEBUG compatibility information by platform.<BR>
<UL>
<LI>On HP-UX 11.0, the built-in HP wdb 3.3 program is used as the underlying C/C++ debugger.  In order to run wdb successfully, you must have installed HP-UX PHSS_23842, or a superseding patch.  Without this patch installed, error messages will occur during CDEBUG startup.
<LI>On rs6000, gdb-6.0 works with gcc-3.2. Additionally, when creating shared objects, 'ld' (/bin/ld) should be used, not 'gcc'.
This combination works with AIX-5.1. On AIX-5.1  use gcc-3.2-aix51.
The native compiler /bin/cc is not compatible with gdb-6.0.
</UL>

</li>
<li>
The vcom compiler default language has been changed from VHDL-1987 to
VHDL-2002. To choose a specific language version:<br>
<UL>
<LI>select the appropriate
version from the compiler options menu in the GUI,<br>
<LI>invoke vcom using
switches <b>-87</b>, <b>-93</b>, or <b>-2002</b>, or<br>
<LI>set the VHDL93 variable in the [vcom] section of modelsim.ini.<BR>
Appropriate values for VHDL93 are:<br>
<UL>
<LI>0, 87, or 1987 for VHDL-1987;<br>
<LI>1, 93, or 1993 for VHDL-1993;<br>
<LI>2, 02, or 2002 for VHDL-2002.<br>
</UL>
</UL>
</li>
<li>
Although the vlog compiler currently supports some SystemVerilog features, these extensions are not enabled by default because they require new language keywords that may conflict with identifiers in existing code.  There are two ways to enable SystemVerilog features: the first is by using the <b>-sv</b> command line option and the second is by naming the source file with a ".sv" suffix.</li>
<li>
The EM64T platform is supported as of the 6.0b release.<BR>
The support includes EM64T machines loaded with Suse 9.1 OS or RedHat Enterprise Linux 3 Update 3 OS and the following linux configurations.
<UL>
<LI>32-bit linux
<LI>64-bit linux_x86_64
</UL>
FlexLM v8.2a (which is currently shipped in 6.0x) is not supported on an EM64T machine loaded with Suse 9.1 OS.

</li>
<li>
The 6.1 release will use the following licensing versions: FLEXlm v9.5; Mentor Graphics Licensing MGLS v2004.2 and PCLS 2004.328.
<p>
CRITICAL LICENSING INFORMATION:
<p>
For this release of the product, the FLEXlm licensing software
being used is version 9.5. For floating licenses it will be necessary to
verify that the vendor daemon (i.e., mgcld) and the license server
(i.e., lmgrd) have FLEXlm versions equal to or greater than 9.5. The
vendor daemons and lmgrd that are shipped with this release will be
FLEXlm version 9.5. If the current FLEXlm version of your vendor daemon
and lmgrd are less than 9.5 then it will be necessary to stop your
license server and restart it using the vendor daemon and lmgrd
contained in this release. If you use node locked licenses you don't
need to do anything.</li>
<li>
SystemVerilog Program blocks are now supported except for the $exit() task.</li>
<li>
The default time unit for SystemC can be set using the "ScTimeUnit" variable in the modelsim.ini file.  By default ScTimeUnit is set to 1 ns.  The default time unit in SystemC can also be set using the sc_set_default_time_unit() function before any time based object like sc_clock or sc_time is created.</li>
<li>
vlog,vcom and vopt command line options will be case sensitive similar to the vsim command line options.</li>
<li>
Starting in the 6.1 release, the vsim -dpiexportobj option
has changed behavior somewhat.  This primarily affects
win32 and rs6000 users.

<OL>
<LI>You shouldn't put an extension on the object filename.
   That will be done for you automatically now.</LI>

<LI>There is no longer a need to add "-c -do 'quit -f'"
   to the vsim -dpiexportobj command line.</LI>
</OL>
The examples/systemverilog/dpi/simple_calls runtest.bat
files have been modified to show the correct flow now.
</li>
<li>
Due to some bug fixes, some VHDL models compiled with 6.1b or higher will not
run under 6.1 and 6.1a. These models will generate the error:<br>
<code>
# ** Fatal: (vsim-3274) Empty built-in function pointer (511).<br>
# Either this version of vsim is not compatible with the compiled<br>
# version of the libraries that were loaded or a required shared library<br>
# was not loaded. Please recompile the libraries with -refresh or make<br>
# sure you specify the required shared library to vsim.<br>
</code></li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8, 9
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 6.1e</b>
<ul>
<li>
If a virtual signal contained a constituent signal whose name contained brackets [...], application of the <b>noforce</b> command to the virtual signal had no effect, and returned the error message: <code>"kernelUnknownError"</code>.</li>
<li>
The user interface locked up on some platforms, including win32 and hp700, when multiple tab groups were used in the multiple document interface.</li>
<li>
A File->Save operation in the Wave window saved malformed <b>-sequence</b> options to the command file for some cases of waves created with Waveform Editor commands.</li>
<li>
Dataflow window symbol customization could not load a valid symbol description file and instead produced the error "[file] not found or not a valid symlib".
</li>
<li>
When viewing a Verilog design with escaped identifiers, the Show Selected and Hide Selected functions in the Dataflow window did not function correctly.</li>
<li>
The Wave window crashed in certain cases when displaying the popup menu (RMB on a signal name) while the Wave window was actively drawing.</li>
<li>
Setting the PrefMain(updateRate) preference variable to 0 caused the user interface to hang in an infinite loop. A value of 0 will disable periodic updates of the transcript during a run.</li>
<li>
There was a WLF reader backwards compatibility problem when trying to read WLF files created with 5.3 and 5.4.  In some situations the tool reported a corrupt WLF file when it was not.</li>
<li>
An incorrect WLF logging error messages was displayed. It was similar to:<br>
  INTERNAL ERROR: Illegal type to log_value: 29<br>
  INTERNAL ERROR: Illegal signal kind to wlfiLogEvent: 2</li>
<li>
The Dataflow window failed to properly load the dataflow.sym file for defining symbols for modules and processes.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 6.1e</b>
<ul>
<li>
Converting a signed reg greater than 32-bit produced incorrect results if
the value was negative. Most often the incorrect value was 0.0.</li>
<li>
Setting a Verilog parameter with the <b>-g</b> or <b>-G</b> simulator options failed if the type of the target parameter depended on another parameter.</li>
<li>
Using vopt on a design with non-constant indices in a hierarchical identifier to an instance array caused internal errors.</li>
<li>
In SystemVerilog, using hierarchical references in 2/4 state mixed expressions resulted in memory corruption in certain cases.</li>
<li>
Executing interactive vcd commands in certain cases, resulted in the corruption of PLI/VPI handles created during prior executions of user PLI code.</li>
<li>
vsim did not re-elaborate the Verilog packages specified as top design unit on the command line when the simulator was restarted.</li>
<li>
In certain cases, vopt elaborated a Verilog package specified as a top design unit twice. In this case, if the package contains bind statements (root scope packages can contain bind), they were executed more than once.</li>
<li>
A problem in the handling of the <b>-y</b> option in vlog resulted in slight corruptions in the resulting libraries. These corruptions did not result in any functional differences during simulation, but resulted in invalid syntax errors reported when the libraries were refreshed or when a design was optimized. If you use the <b>-refresh</b> option to update libraries and encounter errors, you will need to rebuild the libraries from the original source. If no error is encountered, the library will operate correctly.</li>
<li>
The SDF reader did not accept a TIMESCALE of 10fs in SDF files. (1fs and 100fs were ok).</li>
<li>
When annotating compiled SDF files with <b>+sdf_verbose</b> the 'Cell instances' count was reported as 0. As a result of the SDF compilation process, the notion of SDF cells is not preserved and will not be reported. The other annotated objects such as Module Paths, Timing Checks and MIPDs are still reported. Since these latter objects are the ones that are truely annotated the <b>+sdf_verbose</b> option will still provide a quick check to verify if the annotation was successful. For detailed debugging purposes please use the <b>write timing</b> command.</li>
<li>
In SystemVerilog a comparison of hierarchical references to real types failed with the error "Comparison of these types not supported". </li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 6.1e</b>
<ul>
<li>
The acc_handle_condition call should return NULL when the path is not conditional.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 6.1e</b>
<ul>
<li>
A concurrent signal assigment statement appearing immediately within an architecture statement part and having a waveform element value expression containing a type conversion whose target type was an unconstrained array type and whose operand was of a non-locally static constrained array subtype (or could be determined to have non-locally static index range(s)) caused a memory leak in certain cases.</li>
<li>
When doing synthesis checks the compiler incorrectly reported a VITAL error when
a signal was read within a variable assignment and not in the sensitivity list.</li>
<li>
In a clocked process, if there are assignments of the form<br>
<code>output <= TYPE_CONVERSION'(input);<br></code>
Then the code generated by the default optimization level caused
the simulator to crash in certain cases.</li>
<li>
The warning message "Recursive call to function" from vcom with <b>-lint</b> option can be suppressed now.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 6.1e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 6.1e</b>
<ul>
<li>
If the <b>-vital_fix_negative_setup_hold_sum</b> switch was specified on the simulator command-line, the simulator issued a warning during elaboration, if the sum of setup and hold times for a data/reference signal combination was negative. Now, the negative setup or hold time will be set to zero before the negative constraint calculation phase prescribed in Section 8.2.2.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 6.1e</b>
<ul>
<li>
There was an undefined symbol reference error on Solaris when a class was derived from sc_signal_resolved.</li>
<li>
The value of a SystemC fixed-point signal was not set correctly at the mixed-language boundary.</li>
<li>
The value for a sc_signal_resolved channel was incorrect if it was driven from multiple SystemC processes and a Verilog or VHDL inout port.</li>
<li>
Values driven to a sc_int SystemC signal from VHDL or Verilog were not getting sign extended.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="assertiondefects"></a><b>Assertion Defects Repaired in 6.1e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 6.1e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 6.1e</b>
<ul>
<li>
vmake generated makefiles where a source file name appeared more than once in the same dependency list.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 6.1e</b>
<ul>
<li>
dts0100317673 - Opening a .wlf file in ModelsimPE will cause a "#-new not supported on PE" error.</li>
<li>
dts0100315885 - Wrong name for window "wave preferences".</li>
<li>
dts0100315637 - Global optimization in RTL is causing simulator to crash.</li>
<li>
dts0100320165 - Vopt fails on testbench with SV assertions.</li>
<li>
dts0100313876 - vlog crash for automatic variable in hierarchical path index.</li>
<li>
dts0100313566 - Error: bad window path name ".main_pane.cs.14".</li>
<li>
dts0100315451 - The simulator hangs due to bad .modelsim file.</li>
<li>
dts0100312079 - Want ability to turn off "recursive call to function" warning.</li>
<li>
dts0100319810 - Dataflow Symbol customization issue.</li>
<li>
dts0100305195 - Compiled sdf reports a cell count of 0 with +sdf_verbose.</li>
<li>
dts0100267040 - GUI hangs when PrefMain(updateRate) is set to 0 and documentation is incorrect on the functionality of this variable.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 6.1e</b>
<ul>
<li>
When running in vopt mode with code coverage on for designs that contain
parameterized modules or entities, where the parameter changes the structure
of the design unit, there are some known problems. Reports generated by design
unit will generate a report for each alternative structure of the design unit,
but they will all use the same design unit name. Secondly, reports generated
by file will have incorrect statistics for the file containing the parameterized
design unit. </li>
<li>
"quit -f" sometimes will crash gdb.exe on windows platform when Cdebug is turned on and "cdbg quit" has not been issued. The workaround is to quit the C debugger first by "cdbg quit", and then issue "quit -f".
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 6.1e</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 6.1e</b>
<ul>
<li>
<b>vmake -ignore</b> omits a make rule for the named primary design unit and it's secondary design units. <b>vmake -f</b> specifies a file to read command line arguments from. Note: Previous versions allowed an abbreviated form of <b>-fullsrcpath</b> to be given as <b>-f</b>.</li>
<li>
Added a <b>-coverGenerate</b> option to <b>vcom</b> and <b>vlog</b>
to turn on code coverage
inside the top level of generate blocks. Also added a CoverGenerate variable
to the modelsim.ini file. Code coverage is already on inside of
instances within generate blocks, but code at the top level normally has
code coverage turned off to keep ungenerated blocks from standing in the way of
100% code coverage. Further improvements in code coverage handling of generate
blocks are in the works.</li>
<li>
Added a <b>-coverExcludeDefault</b> option to <b>vcom</b> and <b>vlog</b> to
automatically exclude code coverage from the default branch of case statements.
Also added a <b>CoverExcludeDefault</b> variable to the modelsim.ini file. </li>
</ul>
</BODY>
</HTML>


<HEAD>
<TITLE>5.7b Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#C0C0C0" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.7b
<br></h1></center>
<center>
&nbsp;Copyright Model Technology, a Mentor Graphics
<br>
&nbsp;Corporation company, 2003 - All rights reserved.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Feb 04 2003</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.7b</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.7b</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.7b</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.7b</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.7b</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
You must recompile or refresh your models if you are moving forward from 5.7 
Betas or 5.6x or earlier release versions. See "Regenerating your Libraries" 
in the ModelSim Start Here Guide for more information on refreshing your models. 
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any
.pdf file contained in ModelSim version 5.5c or greater.

</li>
<li>
Product changes and new features mentioned here are introduced in the 5.7b 
release. If you are migrating to the 5.7b release from 5.6x or earlier releases,
please also consult version 5.7x release notes for product changes and new 
features introduced during the 5.7 patch releases. The previous version 
release notes can be found in your modeltech installation directory at 
docs/rlsnotes.
</li>
<li>
The HP-UX 10.20 platform is no longer supported as of the ModelSim
5.7 release. The hp700 platform executables are built on HP-UX 11.0.
Please note that in order for FLI/PLI shared libraries to be
loaded and executed correctly by the hp700 version of vsim, they
must be compiled and linked on HP-UX 11.0.
</li>
<li>
Beginning with the 5.6 release (on Windows platforms only)
attempts to link in libvsim.lib or tk83.lib using the Microsoft
Visual C++ linker version 5.0 will fail with a message similar to
"Invalid file or disk full: cannot seek to 0xaa77b00". Microsoft
Visual C++ version 6.0 should be used.

</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8
   <li>hp700aloem - HP-UX 11
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.7b</b>
<ul>
<li>
There was a problem where deleting a wave cursor caused strange results on 
hp700.</li>
<li>
<b>restart</b> performance was slow for designs with large fanout and few or
no signals logged.</li>
<li>
When editing files in the Source window and doing compiles was done in
combination with invoking the simulator on the associated design and/or doing
<b>run</b> and <b>step</b> commands, sometimes the Source window unexpectedly 
closed one of the files. Trying to reopen the closed file resulted in a Tcl
error.
</li>
<li>
Pasting an item using Ctrl-V in the Wave window caused the item to be 
pasted twice.</li>
<li>
Double-clicking an assertion in the Main window transcript caused a locked wave
cursor to move if it was the active cursor. Now, double-clicking an assertion time will scroll the Wave window to display
the specified time, but will move the active cursor to the specified time
only if it is not locked.
</li>
<li>
In the Dataflow window, 'celldefine cells can be mapped to built-in symbols.
In some cases, the port order is important for getting the correct ports
attached to the correct pins on the symbol.  There was a bug where the lexical 
order of the ports was used instead of the declaration order.
</li>
<li>
The 'Design Unit' and 'Design Unit Type' fields in the workspace structure pane
were not displayed for many region types in non-simulation datasets.</li>
<li>
When two projects were opened, one after another, and both projects were
created with a previous version of ModelSim, a Tcl error resulted when
attempting to open the second project.</li>
<li>
When opening a project that was created with a previous version of ModelSim, a 
dialog box was presented offering to make a backup of the project file.  
Attempting to use the close icon (X box in the title bar) to cancel the dialog 
box incorrectly 'OKed' the dialog box, and a backup was created.</li>
<li>
When sorting items in the structure pane, in some cases items disappeared, 
children were lost or columns had different numbers of items.</li>
<li>
Double-click behavior in the structure pane did not work correctly.</li>
<li>
An <b>add wave</b> command that was given a long name that it could
not find crashed while trying to display an error message.
</li>
<li>
The Next Zero Hits/Previous Zero Hits Source window toolbar buttons
for code coverage stopped on excluded lines.
</li>
<li>
The ".structure.tree write" command changed in 5.7 and was not writing the same 
information as in previous releases.  This issue was resolved such that the 
write output now contains both the instance name and design unit information 
as in previous releases.</li>
<li>
The <b>-pagecount</b> option for the <b>write wave</b> command
was disabled in a prior release. It has been re-enabled.</li>
<li>
There was a problem with Edit->Find in the Wave, List, and Signals 
windows that caused the '[' character to be ignored in the search.</li>
<li>
In the Wave window, the grid count in the timeline area wrapped to negative 
numbers.</li>
<li>
In the Wave window, virtual signals and functions sometimes displayed seemingly
random values in the wave portion of the window, while displaying correct values
in the value column.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.7b</b>
<ul>
<li>
The <b>force</b> and <b>noforce</b> commands didn't work correctly with 
optimized (<b>-fast</b>) cell ports.</li>
<li>
Non-wildcard references to optimized cell ports in the <b>add</b> command are 
supported without the use of the <b>-optcells</b> argument.</li>
<li>
Some large designs experienced extremely long load times when the 
<b>-v2k_int_delays</b> switch was used.
</li>
<li>
A hierarchical reference to a multidimensional array element was not
converted to an implicit net. The result was a simulator error during
load.</li>
<li>
The compiler crashed while compiling a continuous assignment having a variable
indexed vector net on the right-hand side when compiled with <b>-fast</b> and 
if the net on the right-hand side was assigned in a continuous assignment 
having a constant right-hand side.
</li>
<li>
Usage of non-zero integer format sizes with $display was ignored.  Now an illegal format, like "%8b", generates an error message.</li>
<li>
SDF annotation failed for conditional path delays with expressions
containing the "===" comparison operator.</li>
<li>
Verilog generate blocks were not correctly registered in the WLF file. This
resulted in a crash when opening the WLF file for post-simulation viewing.</li>
<li>
After loading a compressed SDF file ModelSim expected all following SDF files
to also be compressed.  This state is now reset for each file.</li>
<li>
The <b>+alt_path_delays</b> switch had no effect on optimized cells.</li>
<li>
Bidirectional pass switch primitives behaved incorrectly in some cases when the
design was compiled with <b>-fast</b> and when terminals of the tran primitives
were connected to nets that were "shorted" to other nets via port shorting or 
port aliasing modules.
</li>
<li>
A large network of bidirectional pass switches connected to common supply0
or supply1 nets performed extremely slowly.</li>
<li>
In 5.7 an optimization for delayed NBA assignments broke in the
case where the delay was a variable and the variable was zero
delay.
</li>
<li>
When an optimized Verilog cell was compiled with <b>-fast</b> and instantiated 
with one or more output ports left unconnected it caused the simulator to crash.</li>
<li>
The compiler crashed when a GENERATE IF or CASE controlled instantiation contained a port that was assigned with a literal numeric value.</li>
<li>
Modules instantiated with inherited parameters inside a generate loop caused 
the simulator to crash.
</li>
<li>
On 64-bit platforms, in some cases the compiler generated an incorrect error 
stating that:<BR> "&lt;name&gt; has already been declared in this scope."<BR> For
this to occur the compiler needed to have processed several 10s of millions of 
Verilog identifiers.</li>
<li>
SDF annotation failed for conditional path delays with expressions
containing the "===" comparison operator.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.7b</b>
<ul>
<li>
PLI functions that returned strings could not return a string longer than
4095 characters because the PLI string buffer is only 4096 bytes.
A resizeable string buffer has been added to handle strings longer than
4095 characters.  This buffer is overwritten every time that it is used.
</li>
<li>
ModelSim crashed if an entry in a veriusertfs table did not contain
a system task/function name in the tfname field. The new behavior is
to issue a warning and ignore the entry.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.7b</b>
<ul>
<li>
In some cases a process disappeared or behaved incorrectly if the following 
conditions occurred:<br>
<UL>
<LI>The process P had the same sensitivity list as one or more other 
processes.<br>
<LI>One of the other processes modeled a latch by containing a single IF 
statement with no ELSE or ELSIF clause and the if condition was of the form:
&lt;signal in sensitivity list&gt; = &lt;constant value&gt;
</UL>
</li>
<li>
Too many drivers were created for a signal assignment to an indexed signal
where the index depended on a constant whose value was an attribute of
another constant whose type was an unconstrained array and whose size and value
was determined by a function call.
</li>
<li>
On 32-bit HP and Solaris machines, objects of type time could incorrectly
have the upper and lower 32 bits swapped when doing arithmetic operations.</li>
<li>
Vector signals declared in packages sometimes incorrectly reported multiple 
driver errors. This occurred when the following conditions were true:<BR>
<UL>
<LI> The vector signal was an array of std_logic.<br>
<LI> The vector signal was driven multiple times.<br>
<LI> No individual elements or slices were driven on the signal.<BR>
</UL>
</li>
<li>
A VHDL constant in an architecture declarative region that has as its initial 
value a FUNCTION call, where that FUNCTION itself contains another FUNCTION 
definition in its declarative region, caused a crash during elaboration 
as the top-level function was called.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.7b</b>
<ul>
<li>
The vsim option <b>-trace_foreign</b> was not providing trace information for 
the following functions:<BR> mti_SaveBlock, mti_SaveChar, mti_SaveLong, 
mti_SaveShort, mti_SaveString, mti_RestoreBlock, mti_RestoreChar, 
mti_RestoreLong, mti_RestoreShort, and mti_RestoreString.</li>
<li>
There was a problem with name lookup where sometimes a relative pathname would 
not be found if the current context was a process. This affected the <b>find</b>
and <b>examine</b> commands and FLI functions that look up names.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.7b</b>
<ul>
<li>
The built-in accelerated form of the PROCEDURE VitalMemorySetupHoldCheck, with 
the RefSignal argument a scalar and the CheckEnabled argument an array, 
erroneously produced the run-time error:<BR>
<code>
Bad pointer/access type passed to memory subsystem.
</code></li>
<li>
Certain overload cases of VitalMemoryAddPathDelay either failed to become 
accelerated code or crashed in the accelerated code.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.7b</b>
<ul>
<li>
A multisource interconnect delay from VITAL to Verilog with multiple VITAL
drivers lower in the hierarchy caused a crash in some cases.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.7b</b>
<ul>
<li>
In rare cases, the use of $now within a body of a when statement would return an incorrect
value for the current simulation time.  The problem was caused by a race condition between executing the
when command and updating the current simulation time in the left footer of the
Main window.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.7b</b>
<ul>
<li>
ER99226 - Allow display control of real numbers.</li>
<li>
DR284575 - Tcl command no longer works in ModelSim.</li>
<li>
DR331472 - Back-annotate in the same session compressed and non-compressed SDF.</li>
<li>
DR336128 - Foreign function problem with elab.</li>
<li>
DR336129 - Difference in simulation behavior where reg is used as delay.</li>
<li>
DR336130 - Dataflow window is not synchronized with the Source window.</li>
<li>
ER336692 - "ifnone" optimzation needs to be added to reduce memory usage.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.7b</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.7b</b>
<ul>
<li>
The To_X01Z function in the VHDL std_logic_1164 package is now accelerated
by default.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.7b</b>
<ul>
<li>
Optimized Verilog cell support for ifnone delay paths.</li>
<li>
ModelSim now supports the equivalent function of <b>-elab</b> and 
<b>-load_elab</b> options and <b>checkpoint</b> and <b>restore</b> commands for
FLI foreign subprograms.</li>
<li>
Profiling now gives more detailed information about certain types of 
"built in" Verilog processes. </li>
<li>
The user interface did not allow you to set the precision of real numbers.
The <b>precision</b> command provides this control.<BR> 
The command takes an integer argument that determines the number of significant
digits to be displayed. The integer argument may contain an optional trailing 
'#' which causes values to be zero-filled to the right. See examples below:<PRE>
   Example1:  precision 5
   Sets the precision to 5 significant digits.
   Example2:  precision 8#
   Sets the precision to 8 digits zero-filled.
</PRE>
NOTE: This command does NOT affect the internal representation of real 
numbers. It affects only the displayed values.</li>
<li>
Profiling now gives more detailed information about certain types of 
"built in" Verilog processes. </li>
</ul>
</BODY>
</HTML>

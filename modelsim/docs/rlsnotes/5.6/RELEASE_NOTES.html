
<HEAD>
<TITLE>5.6 Release Notes</TITLE>
</HEAD>
<HTML>
<body text="#000000" bgcolor="#C0C0C0" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 5.6</h1></center>

&nbsp;
<blockquote>
<blockquote>
<center><b>Mar 19 2002</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file on the Model Technology web site. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>This OEM product is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 5.6</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 5.6</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 5.6</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 5.6</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 5.6</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>
 You must recompile or refresh your models if you are moving forward from
 5.6 Betas or 5.5x or earlier release versions. See "Regenerating your Libraries" in
 the ModelSim Start Here Guide for more information on refreshing your models.
</li>
<li>
Acrobat reader version 4.0 or greater must be used to read any .pdf files 
contained in ModelSim versions 5.5c or greater. 
</li>
<li>
Product changes and new features mentioned here are introduced in
the 5.6 release. If you are migrating to 5.6 release from 5.4 and 
earlier releases, please also
consult version 5.5x release notes for product changes and new features
introduced during the 5.5 and patch releases.
<p>
The previous version release notes can be found in your modeltech
installation at docs/rlsnotes.

</li>
<li>
Please note that the hp700 platform executable is now built on HP-UX 11.0.
If you want to use ModelSim in an HP-UX 10.20 environment, you must use the 
hp700_1020 platform executable.
</li>
<li>
On Windows platforms only, if the user attempts to link in libvsim.lib or 
tcl83.lib or tk83.lib using the Microsoft Visual C++ linker version 5.0, the 
operation will fail with a message similar to:
<p>
<code>
Invalid file or disk full: cannot seek to 0xaa77b00
</code>
<p>
The user should use Microsoft Visual C++ version 6.0.

</li>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 98, Me, NT, 2000, XP
   <li>sunos5aloem - Solaris 2.6, 7, 8
   <li>hp700aloem - HP-UX 11
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 5.6</b>
<ul>
<li>
The <b>change</b> command did not correctly modify a bit or slice of a
Verilog register.  The command now correctly supports bits and
slices of registers denoted with either parentheses or square 
brackets.
</li>
<li>
The <b>examine</b> command reported the entire contents of a Verilog
register when only a bit or slice of the register was specified. The 
command now correctly supports bits and slices of registers denoted 
with either parentheses or square brackets.
</li>
<li>
The Wave Window cursor time values were incorrect when the 
UserTimeUnits and resolution time units did not match.
</li>
<li>
Changing the PrefSource(tabs) value did not update the Source window properly. 
Some minor enhancements have also been made. You can now specify spacing
in various units.  For example 10c translates to every 10 cm, or a list of 
values may be specified which will set a tab stop at each location. Valid unit
values are: 
<PRE>
    c, cm          : <B>c</b>entimeters
    m, mm          : <B>m</b>illimeters
    i, in, "       : <B>i</b>nches
    p              : <B>p</b>oints
    u              : pixels (screen <B>u</b>nits)
    char, chars    : <B>char</b>acter<B>s</b>
</pre>

Also, the Transcript window uses the PrefSource(tabs) value for setting tab 
stops.
</li>
<li>
The <b>examine</b> command failed when used with wildcards and any of the 
following portmode switches: <b>-in</b>, <b>-out</b>, <b>-inout</b>, 
<b>-internal</b> or <b>-ports</b>.

</li>
<li>
Verilog 1-bit vectors incorrectly appeared to be scalars in the various
GUI windows.

</li>
<li>
The <b>bookmark</b> command was inadvertently ommitted from the list of 
commands supported by the PE product.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 5.6</b>
<ul>
<li>
The <b>change</b> command on a Verilog memory did not propagate its values 
until the next event on the memory.
</li>
<li>
The simulator crashed following a warm restore in some Verilog designs.
</li>
<li>
Verilog Cells with delay nets did not optimize when compiled with the 
switches <b>-fast</b> and <b>+notimingchecks</b>. 
</li>
<li>
A Verilog parameter used as a range bound sometimes was not evaluated
correctly.
</li>
<li>
The <b>vlog</b> compiler terminated with a segmentation violation 
when given large numbers of options.

</li>
<li>
The <b>vlog</b> compiler did not generate an error when the right-hand side of a
defparam statement was not a constant.

</li>
<li>
Arrays of instances were not supported by the <b>-fast</b> compiler option.

</li>
<li>
The == operator was pessimistic when the operands contained X and
when the comparison was the condition in a ternary operator. Specifically,
if the operands were vectors and contained X in some of the bits, then
the result was X even if the non-X bits in the operands determined that
the result should be 0.

</li>
<li>
The Verilog 2001 Extended VCD was not fully supported. The concept of strength 
ranges has been added.

</li>
<li>
The <b>+opt</b> option crashed the compiler in some designs
containing UDPs.

</li>
<li>
The calculation of delay net delays was incorrect when a module contained
both negative setup/recovery limits and negative hold/removal limits.
</li>
<li>
The Verilog compiler did not produce an error message when processing a numeric
(unsized) decimal literal that required more than 32 bits of storage, but 
instead truncated the value to 32 bits. The compiler has been modified to 
produce an error when truncation to 32 bits would affect the value of a 
numeric literal.
</li>
<li>
Primitive output terminals were not connected properly when the vsim switch 
<b>-v2k_int_delays</b> was used. This caused acc_next_driver to overlook 
primitive drivers on a net.

</li>
<li>
$dumpport only allowed the filename argument to be a literal string.
The verilog IEEE specification allows a literal string, variable, or 
an expression.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 5.6</b>
<ul>
<li>
The PLI function acc_fetch_name returned "#AnonymousPort#" rather than
the appropriate name for ports having a fulltype of accBitSelectPort
or accPartSelectPort.

</li>
<li>
The acc_handle_hiconn function failed to return a handle for the corresponding
scalar connection if the connection was a member of a concatenation.

</li>
<li>
Cold and warm restore now work with designs that contain PLI code. A list of
all PLI shared libraries loaded with the design is saved during a 
<b>checkpoint</b> and used during a <b>restore</b>. This means that the 
<b>-pli</b> option, the Veriuser entry in the modelsim.ini file, and the 
PLIOBJS environment variable are ignored during a restore. All VCL callbacks 
are removed during a <b>restore</b> and so must be re-added.  Note that for a 
cold restore, the misctf function is called with reason_endofcompile when 
reloading is complete. Any data that has been saved into the simulator via the 
functions tf_setworkarea(), tf_setroutine(), or tf_settflist() must be re-saved
after a <b>restore</b> because the old pointers may no longer be valid.



</li>
<li>
Setting values on different register bits with inertial or transport
delay caused events to be cancelled for other bits of the register. 
The following functions were affected:<br>
<ul>
<li>acc_set_value()
<li>tf_strdelputp()
<li>tf_strlongdelputp()
<li>tf_strrealdelputp()
<li>vpi_put_value()
</ul>

</li>
<li>
The VPI cbNextSimTime callback always occurred with a delay of one unit
when it should have occurred at the next simulation time which had an event
scheduled. 
</li>
<li>
The tf_exprinfo function failed to set the expr_lhs_select and
expr_rhs_select fields.

</li>
<li>
The acc_fetch_value function did not accept a primitive handle for
the object_handle argument. Primitives and UDPs are now accepted and
the current primitive output value is retrieved.

</li>
<li>
The behavior when setting a value with inertial or transport delay
via either acc_set_value() or vpi_put_value() has been modified so that
only similar objects are compared when determining if any events
should be cancelled. Similar objects are defined as follows:
<ul>
<li>a full register is compared to a full register
<li>a part-selected register is compared to the same part-select
<li>a bit of a register is compared to the same bit
</ul>
Previously the entire register was compared even if only one
bit was being set.


</li>
<li>
Using vpi_handle() to get a handle to the vpiParent of a vpiMemoryWord argument
to a system task/function caused a crash.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 5.6</b>
<ul>
<li>
Incorrect code was generated if an enum type contained more than 256 items
and a signal was declared as an array of this enum type.  The compiler 
incorrectly assumed that the size of each element was a single byte.
</li>
<li>
Declaring an entity with a name greater than 1000 characters crashed the 
compiler. An error is now issued if the design unit name is too long.
</li>
<li>
A selected name for an entity was not allowed in an architecture declaration.

</li>
<li>
If the label specified in a block configuration had an index expression on it,
no error was generated if the target of the block configuration did not allow
for indexing.  An error is now generated if the label does not reference
a FOR generate statement.
</li>
<li>
Selected signal assignments failed to check if the choices were locally static.

</li>
<li>
<b>vcom</b> did not adequately check the expression to a type conversion.
As a result, allocators and named element associations were allowed.
Checks for these cases have been added and are now flagged as errors.
</li>
<li>
Objects declared in the entity declaration list could have attributes 
assigned to them in the wrong scope.  This error is now reported.
</li>
<li>
The attribute 'base could be used as an expression other than a prefix to
another attribute.  This error is now reported.
</li>
<li>
Ports or parameters used in a while condition did not have their modes checked
correctly.
</li>
<li>
A type or subtype name was allowed to be used incorrectly as an operand to an 
expression. This error is now reported.
</li>
<li>
Type conversion could be incorrectly used as the prefix for a selected name,
index expression, slice expression, or attribute.
This is now reported as an error.
</li>
<li>
Range checks on generics were done only if the values were locally static.
</li>
<li>
SDF backannotation failed in cases where SDF identifiers contained
escaped characters but did not have leading and trailing backslashes.
The SDF annotator no longer requires the leading and trailing backslashes
to match a VHDL extended identifier; they are now optional.

</li>
<li>
Bad code was generated for a configuration if the configuration referred to
an architecture that defined a record type and a subprogram that used the
record type.  On some platforms the bad code caused an infinite loop.
On other platforms, the bad code was ignored.
</li>
<li>
The simulator sometimes crashed when a binding indication in a configuration
referenced an array signal in the entity or architecture.

</li>
<li>
The compiler and simulator did not compare lengths of multi-dimension arrays
in higher dimensions of port associations and signal assignments. 
Now, when arrays with locally static types are assigned, mismatched lengths in 
higher dimensions are identified by the compiler and errors are reported. For 
arrays that do not have locally static types, length checks are deferred until 
runtime.
</li>
<li>
<b>vsim</b> was unable to load VHDL packages whose names were
extended identifiers.
</li>
<li>
On Windows platforms, the <b>UnbufferedOutput</b> switch, set from the 
modelsim.ini file, had no effect. The switch worked correctly on Unix
and Linux platforms. ModelSim now produces unbuffered output for
Windows platforms.
</li>
<li>
The accelerated version of the Mem_Dump procedure in the std_developerskit
mempak package only dumped the memory contents in multiples of 16. Therefore,
the Mem_Dump output was missing information when the range of addresses provided
was not 16 or a multiple of 16. The non-accelerated Mem_Dump did not have this
limitation.
</li>
<li>
vcom's write operations did not have proper error checks or reports. 
Under certain circumstances, write failures during compilation were not 
detected. This could result in unnecessary simulation elaborations, 
runtime errors, or crashes.
</li>
<li>
vsim was unable to load VHDL packages whose names were
extended identifiers.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 5.6</b>
<ul>
<li>
For the functions mti_GetNextEventTime() and mti_GetNextNextEventTime(), 
when the returned status is 2 and there are no pending future events, 
then the time returned in the next_time parameter is the current time 
(instead of the maximum simulation time). This is the same behavior seen when 
the returned status is 0.
</li>
<li>
mti_FindVar() can now find shared variables and constants declared
in a package.

</li>
<li>
mti_CreateDriver no longer allows a driver to be created on a VHDL port which 
has not been collapsed with the connected signal. This limitation occurs if a 
VHDL port is connected to a Verilog signal, if a conversion function appears 
in a VHDL port map, or if the <b>-nocollapse</b> option is used on the 
<b>vsim</b> command line.

</li>
<li>
mti_CreateDriver() was changed to emit an error if an attempt was
made to create a driver on a subelement of a resolved composite signal.
Drivers must be created at the resolution level or above.
</li>
<li>
Calling mti_PrintMessage() with an empty string caused a crash on the 64-bit HP.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 5.6</b>
<ul>
<li>
SDF delay values were not derived properly when extending an SDF delay list 
(delval_list) to match a target VitalDelayType* generic. This would occur if 
the target was VitalDelayType01ZX or if null placeholders were present in the 
delval_list.

</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 5.6</b>
<ul>
<li>
Under rare cases, a Verilog inout port that drives a VHDL signal could "lose"
continuous assignment or primitive output update. This resulted in an incorrect
value being computed on the port.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 5.6</b>
<ul>
<li>
A waveform comparison of VHDL records produced a crash.
</li>
<li>
The <b>tb</b> command caused a crash if the path of the source file exceeded 
128 characters.
</li>
<li>
A message is now printed when an SDF file is successfully applied.
The message is:<br>
SDF Backannotation Successfully Completed.

</li>
<li>
The <b>vcd2wlf</b> utility now supports collapsed nets and very wide ports.

</li>
<li>
Added error checks and reports for compiler (vcom, vlog) write operations.  
Under the right circumstances, write failures during compilation were not 
detected. This resulted in unexplainable simulation elaboration or 
runtime errors, or crashes.
</li>
<li>
<b>Force -cancel</b> applied to a Verilog register crashed the simulator
when the <b>force</b> was cancelled.
</li>
<li>
Entering the command <b>vsim -vcdstim</b> on a VCD file that was created 
without using <b>vcd dumpports</b> sometimes crashed the simulator at 
load time.
</li>
<li>
Licenses locked to dongles became intermittently unavailable. This problem 
occurred when a machine with a nodelock license has not had input from the
keyboard or mouse for at least one hour. The following error message indicated 
the problem:<br>
<code>
# ** Error: VSIM license lost; attempting to re-establish.
</code>
<br>
This problem is partial fixed in that it is pervented
from failing more than 90 percent of the time.



</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 5.6</b>
<ul>
<li>
DR 314485 - In some cases, ports that were VHDL multidimensional arrays caused
a crash when viewing the resulting WLF file.
</li>
<li>
DR 305165 - Enumeration types which were not logic types, for example
strings, displayed incorrect colors for strings containing 'X', 'U' or 'Z'.
</li>
<li>
DR 124650 - Need command to select and trace a signal in Dataflow window
</li>
<li>
DR 128472 - PLI Interface needs to support c++ objects
</li>
<li>
DR 131327 - Dataflow window for Verilog does not work
</li>
<li>
DR 148310 - Dataflow window doesn't show all drivers of specified signal
</li>
<li>
DR 317055 - Crashing with bad pointer access
</li>
<li>
DR 291571 - Need functionality to back trace an X value
</li>
<li>
DR 299409 - ModelSim crashes when vlog source includes Japanese characters as 
comments
</li>
<li>
DR 301072 - No way to remove files from project
</li>
<li>
DR 302337 - Compiler doesn't work with wildcard (*)  on Win2000 and NT.
</li>
<li>
DR 305013 - mti-enc and mti-enc2 files causing license failure message 
with longterm license
</li>
<li>
DR 305485 - Variable declared in procedure is not visible in Wave window
</li>
<li>
DR 308083 - -pli option stored in the PrefVsim(addOns) isn't loaded on cold 
restore
</li>
<li>
DR 309565 - Loading a design cannot be stopped. Break button wanted.
</li>
<li>
DR 310273 - incorrect syntax when I want to change a bus value from the 
Variables window.
</li>
<li>
DR 310776 - "Specify a Generic" Box has "Generic Name" twice instead of 
"Value"
</li>
<li>
DR 311109 - Source window flickers while editing a file.
</li>
<li>
DR 312326 - VCD Files with bus signals crash vcd2wlf.
</li>
<li>
DR 312632 - Selecting an event name in the Signals window causes crash.
</li>
<li>
DR 313685 - vsim crash for enumerated type with more than 256 atoms
</li>
<li>
DR 313952 - vcd2wlf core dump when missing $scope
</li>
<li>
DR 314668 - Even with the -extend_tcheck_data_limit set, ModelSim still 
zeroes out three set
</li>
<li>
DR 304147 - Change and examine do not work for bits of verilog reg vectors.
</li>
<li>
DR 314615 - ModelSim will not accept an environment variable as the design name
</li>
<li>
DR 314764 - Verilog results differ between 5.4e and later releases
</li>
<li>
DR 312632 - Selecting an event name in the Signals window causes crash
</li>
<li>
DR 300277 - Modelsim crashes if `Restart' is issued during a Wave window redraw
</li>
<li>
DR 317157 - VHDL compile is failing with the message: ERROR: Unexpected 
Signal: 11
</li>
<li>
DR 317689 - Verilog dumpports command can only use literals for args
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 5.6</b>
<ul>
<li>
SDF files greater than 2GB cannot be read in on the RS6000 platform.
</li>
<li>
When using the <b>-nocollapse</b> switch with the 
<b>+multisource_int_delays</b> switch in a VHDL/Vital
design, SDF interconnect annotations may be missed.
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 5.6</b>
<ul>
<li>
ModelSim commands will now treat square brackets in names only as an 
index or slice of an array. Previous releases attempted
to determine the intent of the square brackets which left some 
ambiguity.  Therefore, with one exception, the use of square 
brackets for wildcarding (character class globbing) is no longer
supported.  The exception to this is the ModelSim <b>find</b> command,
which assumes square brackets are only for wildcarding.  Thus,
commands like <b>add wave</b>, <b>drivers</b>, <b>examine</b>, and 
<b>force</b> will assume square brackets are specifying an index or 
slice and the only wildcard characters that will be recognized are "*" 
and "?". A user can combine the <b>find</b> command with other commands 
to get the same basic functionality as before. The example below:
<pre>
   eval examine [find signals {sig[1-9]}]
   eval examine [find signals {sig[123456789]}]
</pre>
will examine any signal with the name sig1 thru sig9.  This change
will affect any ModelSim command that specifies a name.
Please refer to the documentation of the specific command in the
ModelSim Command Reference Manual for more information. 
</li>
<li>
The IEEE 1364-2001 versions of acc_user.h and veriuser.h are now shipped with
ModelSim. The major differences between the new versions and the old versions
are:<br>
<ul>
<li>Types such as int, short, char, etc. are now typedef'd to PLI type names
such as PLI_INT32.
<li>There are export and import defines to aid compilation on different
platforms.
<li>The following functions in veriuser.h previously returned void, but now
they return a value:<br>
<ul>
<li>tf_add_long()
<li>tf_asynchoff(), tf_iasynchoff()
<li>tf_asynchon(), tf_iasynchon()
<li>tf_clearalldelays(), tf_iclearalldelays()
<li>tf_dofinish()
<li>tf_dostop()
<li>tf_error()
<li>tf_evaluatep(), tf_ievaluatep()
<li>tf_message()
<li>tf_propagatep(), tf_ipropagate()
<li>tf_putlongp(), tf_iputlongp()
<li>tf_putp(), tf_iputp()
<li>tf_putrealp(), tf_iputrealp()
<li>tf_rosynchronize(), tf_irosynchronize()
<li>tf_setworkarea(), tf_isetworkarea()
<li>tf_subtract_long()
<li>tf_synchronize(), tf_isynchronize()
<li>tf_text()
<li>tf_warning()
</ul>
</ul>

</li>
<li>
More functionality has been implemented in the Verilog VPI. For details on
what is currently implemented in the VPI, please refer to the file
.../modeltech/docs/technotes/Verilog_VPI.note.

</li>
<li>
The procedure init_signal_spy and task $init_signal_spy now support
the mirroring of bits of objects.
</li>
<li>
The exit codes for ModelSim have been standardized and are now
documented in the ModelSim messages appendix of the User's Manual.

</li>
<li>
A viewer license is now required to run ModelSim SE with the GUI enabled. 
ModelSim EE is now called ModelSim SE batch. ModelSim PE will not be affected 
by this licensing change. For more information about the ModelSim 5.6 GUI 
licensing changes please see the mti web site at:
<a href="http://www.model.com/products/license_request.asp">
http://www.model.com/products/license_request.asp</a>
</li>
<li>
The version of Tcl/Tk used in ModelSim has been upgraded to version 
8.3.4.  Other extensions have been changed as well. Below is a list of 
the Tcl extension changes in 5.6:<br>
<UL>
<LI> Tix has been removed from ModelSim for performance and
maintenance reasons.
<LI> The following extensions and versions are used in ModelSim:<br>
<UL>
<LI> IncrTcl and IncrTk version 3.2
<LI> Iwidgets 3.0.1
<LI> Img 1.2.4
<LI> TclXml 2.0
<LI> Supertext 1.0 (modified/enhanced)
</UL>
</UL>
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 5.6</b>
<br><br><br>
Below is a summary of new ModelSim 5.6 features.
<br><br>

Performance:
<UL>
<LI>Additional Verilog RTL Performance
<LI>Additional VHDL RTL Performance 
<LI>Additional Verilog Gate Performance
<LI>Elaboration 
<UL>
<LI>Ability to create separate elaboration file that can be reloaded multiple times
</UL>
</UL>
<br><br>

User Interface:
<UL>
<LI>Expanded Dataflow Window 
<UL>
<LI>Ability to view or trace multiple levels of hierarchy in single dataflow view
</UL>
<LI>Embedded Waveform 
<UL>
<LI>Wave window added to new Dataflow window
</UL>
<LI>Code Templates 
<UL>
<LI>Create VHDL and Verilog code with templates added to the Source window
</UL>
</UL>
<br><br>

Usability:
<UL>
<LI>Updated Project Manager 
<UL>
<LI>Improved functionality and Usage Model
</UL>
<LI>Signal Spy 
<UL>
<LI>Additional functionality to drive, force or release signals with new Signal Spy Procedures/Tasks
</UL>
<LI>Waveform export 
<UL>
<LI>Ability to export currently open dataset, usually to view with a separate Wave window while current simulation continues
</UL>
</UL>
<br><br>

Standards:
<UL>
<LI>IEEE Verilog 1364-2001 
<UL>
<LI>Additional language support, including Multi-dimensional arrays
</UL>
<LI>VITAL2000 Support 
<UL>
<LI>Vital 2000 upgrades to the vital timing package, and support of multisource interconnect delay
</UL>
</UL>
<br><br>
<ul>
<li>
Virtual Types in the ModelSim GUI now have a mapping feature so that
all possible enumerations of the type are not required.
<p>
You can now 
specify a default enumeration string, and enumeration strings for 
specific values, in addition to positional enumerations. This feature
allows easy implementation of user-defined enumerations for one-hot
state machine encodings.
<p>
For example:
<p>
<code>
virtual type {{'h1 ST0}{'h2 ST1}{'h4 ST2}{'h8 ST3}{'h10 ST4}{default BAD}} mystates
</code>
<p>
defines a set of enumerations for a five-bit one-hot encoding. To see the
state names in the display instead of the raw binary, define a virtual
signal that is a type conversion of the original bus to the "mystates"
virtual type:

<p>
<code>
virtual signal {(mystates) my5bitstate} myNames<br>
</code>

<p>
Adding signal "myNames" to the Wave or List window will give you the names
you want for the states of the original signal "my5bitstate".

<p>
This works for either VHDL or Verilog. The <b>virtual type</b> command accepts
based-constants in either VHDL or Verilog format, and C-language format as 
well. For example, all of the following are acceptable and equivalent:

<p>
<code>
virtual type {{1 ST0}{2 ST1}{4 ST2}{8 ST3}{16 ST4}{default BAD}} mystates<br>

virtual type {{'b00001 ST0}{'b00010 ST1}{'b00100 ST2}{'b01000 ST3}{'b10000 ST4}{default BAD}} mystates<br>

virtual type {{2#00001# ST0}{2#00010# ST1}{2#00100# ST2}{2#01000# ST3}{2#10000# ST4}{default BAD}} mystates<br>

virtual type {{'h1 ST0}{'h2 ST1}{'h4 ST2}{'h8 ST3}{'h10 ST4}{default BAD}} mystates<br>

virtual type {{0x1 ST0}{0x2 ST1}{0x4 ST2}{0x8 ST3}{0x10 ST4}{default BAD}} mystates<br>
</code>

<p>
You can also mix positional enumerations with mapped enumerations, as for
example:

<p>
<code>
virtual type {BAD ST0 ST1 {0x4 ST2}{0x8 ST3}{0x10 ST4}{default BAD}} mystates<br>
</code>



</li>
<li>
FLI C++ shared libraries are now officially supported.  There is a new section
in the Foreign Language Interface manual that describes how to compile C++
shared libraries that can be loaded into ModelSim.
<p>
<b>NOTE:</b> On <b>HP</b> platforms, if you get the following error, you are
running an 11.0 executable on a 10.20 machine:
<p><code>
/usr/lib/dld.sl: Can't find path for shared library: libc.2<br>
/usr/lib/dld.sl: No such file or directory<br>
IOT trap
</code>

</li>
<li>
PLI/VPI C++ shared libraries are now officially supported. There is a new
section in the Verilog chapter of the User's Manual that describes how
to compile C++ shared libraries that can be loaded into ModelSim.
<p>
<b>NOTE:</b> On <b>HP</b> platforms, if you get the following error, you are
running an 11.0 executable on a 10.20 machine:
<p><code>
/usr/lib/dld.sl: Can't find path for shared library: libc.2<br>
/usr/lib/dld.sl: No such file or directory<br>
IOT trap
</code>

</li>
<li>
The new ability to save an elaboration image of a design uses vsim checkpoint
technology to create a loadable image (elaboration file) which can be simulated
repeatedly.  It is currently implemented using two new command line switches
to vsim.  The switch <b>-elab</b>, loads the design and creates an
elaboration file.  The <b>-load_elab</b> switch causes vsim to load an
elaboration file for simulation.

<p>
  The elaboration file contains a trace of PLI calls that occur prior
  to capture of the elaboration checkpoint file.  The PLI activity is
  played back after the PLI shared objects are loaded with the elaboration
  file to put the PLI code modules in their post-elaboration state.
<p>
  By default, elaboration file creation and loading does not use compression.
  To enable compression use the <b>-compress_elab</b> flag with both 
<b>-elab</b> and <b>-load_elab</b>.

<h5>
Creating an elaboration:
</h5>
<p>
  To get the maximum benefit from an elaboration, elaboration files should
  be created to contain all timing data (backannotated SDF files).
  Application of stimulus should be deferred until after elaboration.
  All normal vsim command line arguments should be applied with the
  elaboration. These command line arguments are then selectively modified
  using command line arguments at elaboration loading.
  Use of $sdf_annotate causes timing to be applied after elaboration.
<h5>
New switches and usage:
</h5>
<p>
<ul>
<li><b>-elab</b> filename : create elaboration file for use with 
<b>-load_elab</b>

<li><b>-elab_cont</b> filename : create elaboration file for use with 
<b>-load_elab</b> and allows the simulation to proceed after elaboration
file creation

<li><b>-load_elab</b> filename : simulate an elaboration created with
<b>-elab</b>

<li><b>-compress_elab</b> : cause compression of elaboration files

<li><b>-filemap_elab</b> HDLfilename=NEWfilename : define a 
mapping used during <b>-load_elab</b>.
</ul>

<p>
The following mechanisms are provided to allow user modification of
stimulus for each run.

<ol>
<li>Command line specification of <b>+args</b> which are readable by the PLI
   routine mc_scan_plusargs().  Note <b>+args</b> values specified with 
<b>-elab</b> are superseded by <b>+args</b> values specified with <b>-load_elab</b>.
<li>Use of the <b>change</b> command to modify parameters or generic values.
   Note that use of this mechanism only affects values and does not
   have any effect on triggers, compiler directives, or generate
   statements which reference either a generic or a parameter.
<li>Use of the <b>-filemap_elab</b> command line argument allows a mapping to be
   established between files named in the elaboration file.
   File mappings affect vpi_mcd_open(), $readmem, $fopen and textio
   operators.  Note: Mapping occurs before environment variable
   expansion and cannot be used to redirect stdin/stdout..
<li>VCD stimulus file arguments can be specified on the <b>-load_elab</b>
   command line. Both <b>-vcdread</b> and <b>-vcdstim</b> are supported.  Note:
   VCD stimulus files passed in with <b>-elab</b> are not loaded until
   elaboration.  Specifying a different filename with <b>-load_elab</b>
   supersedes the stimulus file specified with <b>-elab</b>.
</ol>

<h5>
Simulating an elaboration
</h5>

<p>
  The following command line arguments can be specified with <b>-load_elab</b>
  and have the effect of superseding those specified at elaboration
  creation.

<ul>
<li><b>-c</b> or <b>-i</b> : overrides the display mode used at elaboration creation.
<li><b>-filemap_elab</b> : defines mapping to stimulus files.
<li><b>-compress_elab</b> : selects compression mode.
<li><b>-vcdread</b> or <b>-vcdstim</b> : specifies a vcd file to be used 
to stimulate the top level design unit.
<li><b>-do</b> : specifies commands to be executed.
<li><b>+args</b> : specifies plus args for use with mc_scan_plusargs().
</ul>

</li>
<li>
The Zoom / Mouse button operations have changed in the Wave window.
The zoom operations in the Wave window now match the Dataflow window.
Middle Mouse Button (<Button-2>) now provides 3 zoom options:
<PRE>
    Down-Right:  Zoom Area (In)
    Up-Right:  Zoom Out
    Down-Left: Zoom Fit
</PRE>
The Left Mouse Button (<Button-1>) drags the closest cursor (as it did before).
The zoom amount is displayed at the mouse cursor.
A zoom operation must be more than 10 pixels to activate.
The action Up-Left is currently undefined, and no action will be taken.

</li>
<li>
The <b>view</b> command has been changed to accept implicit wildcards or
shortened window names. Abbreviations for windows can be used instead of
typing the full window name. If an abbreviation matches multiple window names,
then all matches will be viewed.
<PRE>
    view si dat pr  ;# Will open the Signals, Dataflow, and Process windows

    view s ;#  Will open the Signals and Source window

    view * ;#  Will still open all windows
</PRE>

</li>
<li>
A new attribute function has been added to Virtual Expressions. The 'hasX
attribute returns a boolean if the signal, net, or register contains an X 
(unknown) value. For example:
<br>
<code> 
searchlog -expr {dbus'hasX} {0 ns} dbus
</code>
<br>
<br>
This example is equivalent to the expression:
<br>
<code>
{dbus(0) == 'x' || dbus(1) == 'x'} etc.
</code>
<br>
<br>
It is now possible to search for X values without having to write a 
type-specific literal.

</li>
<li>
Generics and shared variables can now be examined without specifying a process
context. The Signal window will display generics and shared variables declared
in the context selected.  Selecting a package in the Structure window will
display all shared variables declared within that package.  For compatibility,
generics and shared variables can still be accessed from within a process
context.
</li>
<li>
The following procedures or tasks (related to init_signal_spy) were added:<br>
<br>
      VHDL Procedures<br>
      init_signal_driver<br>
      signal_force<br>
      signal_release<br>
<br>
      Verilog System Tasks<br>
      $init_signal_driver<br>
      $signal_force<br>
      $signal_release<br>
<br>
These procedures and tasks allow the user to drive, force, or release
signals anywhere in the hierarchy from an architecture or module regardless
of which language comprises the hierarchy.  Please refer to the ModelSim
User's Manual for detailed descriptions of these procedures and tasks.
</li>
<li>
Over 500 messages in ModelSim have been converted
to a new message format. The new format is:<br>
<code>
** Severity: ([Tool-[Group-]]MsgNum) FormattedMsg<br>
<br>
</code>
To get more information about a particular message, you can use the new
<b>verror</b> tool.<br>
For example, <b>verror 3000</b>
will display detailed information about message number 3000.

</li>
<li>
When the message "Defparam iteration limit of 10 exceeded." is generated,
vsim will now go through a few more defparam assignment iterations and
print a list of parameters being assigned so that you can trace the
defparam chain to figure out the root of the problem.

</li>
<li>
There is a new command that identifies the number of optimized (-fast)
cells in a loaded design. The command is <b>write cell_report</b>. Its usage 
is shown below:
<br>
<code>
   write cell_report [-nonopt] [-filter number] [filename]<br>
</code>
where:
<pre>
   -nonopt            Report only nonoptimized instances
   -filter number     Don't report cells with instance counts less than number
   filename           Write output to a file instead of the transcript
</pre>

</li>
<li>
ModelSim now allows the user to interrupt elaboration.
</li>
<li>
A new function, mti_ScheduleWakeup64(), has been added to the FLI to allow
scheduling of processes with 64-bit delay values.

</li>
<li>
The waveform portion of the Wave window can also be used as a drop target.  
Prior to this release it was only possible to drop items into the name
or value columns of the Wave window.
</li>
<li>
Support for extended VCD (dumpports system tasks) and 
for the vsim switch <b>-vcdstim</b> (using an extended VCD file as 
stimulus to a design) has been added to the PE version of ModelSim.
Previously, these features were available only in the SE version.
</li>
<li>
A new function, mti_ScheduleDriver64(), has been added to the FLI to
allow scheduling of driver transactions with a 64-bit delay.

</li>
<li>
The user can now suppress simulation messages like "Simulation stop requested"
by setting the variable PrefMain(noRunMsg) to a value 1 in the tcl
startup file or in the <b>vsim</b> command line. For example,<br><br>
<code>
set PrefMain(noRunMsg) 1
</code>
<br>

</li>
<li>
Dataset Snapshot is a new feature which allows you to save data from the
current WLF file (vsim.wlf by default) at a specified interval. This lets
you take sequential or cumulative "snapshots" of your simulation data.
See the User's Manual and Command Reference for further details.
</li>
<li>
Implemented Verilog multi-dimensional arrays per IEEE 1364-2001 standard.
This includes support for reg, integer, time, real, realtime, and net arrays.
</li>
<li>
ModelSim version 5.6 fully supports the new Vital 2000 standard
(IEEE P1076.4, 2000). This includes upgrades to the vital_timing
package, support of the new vital_memory package, and support of
true multisource interconnect delays. In order to be backwards
compatible with Vital 1995 current usage, the Vital 1995 packages
are still compiled into the ModelSim IEEE library, and the Vital
2000 packages are compiled into another library called "vital2000".
This requires you to add library and use statements in your VHDL
source code for the vital2000 library. Vital 2000 is supported with the 
same degree of acceleration as Vital 1995. True multisource interconnect 
delays support means that for VHDL and Vital an SDF file can annotate more 
than one interconnect delay to a given input, for additional drivers on a 
tristate bus, and during simulation the actual delay corresponding to the 
active driver will be used. Although multisource interconnect delays is part 
of the Vital 2000 spec, the implementation also supports this for earlier 
versions of Vital. The vsim command line option <b>+multisource_int_delays</b> 
enables multisource interconnect delays (this is the same option used to enable 
Verilog multisource interconnect delays).
 
</li>
<li>
Added Verilog parameter value assignment by name (1364-2001 Section 12.2.2.2).
</li>
<li>
ModelSim now supports direct printing from the Source window. This feature is
for Windows only.
</li>
<li>
A new tool called <b>wlfrecover</b> checks and attempts to repair 5.6 and 
later WLF files which were rendered unreadable due to an abnormally terminated
simulation session. This includes a simulation crash or a WLF file being
copied before the end of a simulation session.
</li>
<li>
Windows platforms now support WLF files greater than 2GB in size. In a FAT32
file system, the maximum is 4GB.
</li>
<li>
Added support for environment variables in design unit names on the vsim 
command line.
</li>
<li>
Mixed language multisource SDF interconnect delays are now supported.
</li>
<li>
There is a new function in the FLI, mti_GetProcessRegion(), which will
return a handle to the region containing the specified process.

</li>
<li>
WLF file loading may be interrupted with the 'break' button.
The WLF file loading progress is reported.
</li>
</ul>
</BODY>
</HTML>


<HEAD>
<TITLE>6.2h Release Notes</TITLE>

</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 6.2h
</h1></center>

&nbsp;
<center><b>May 15 2007</b></center>

<br><br>
<center>
&nbsp;Copyright 1991-2007 Mentor Graphics Corporation
<br>
&nbsp;All rights reserved.
<br>
&nbsp;This document contains information that is proprietary to Mentor Graphics
<br>
&nbsp;Corporation. The original recipient of this document may duplicate this
<br>
&nbsp;document in whole or in part for internal business purposes only, provided
<br>
&nbsp;that this entire notice appears in all copies. In duplicating any part of
<br>
&nbsp;this document the recipient agrees to make every reasonable effort to
<br>
&nbsp;prevent the unauthorized use and distribution of the proprietary
<br>
&nbsp;information.
</center>

<br>
<center>
&nbsp; TRADEMARKS: The trademarks, logos and service marks ("Marks") used herein
<br>
&nbsp; are the property of Mentor Graphics Corporation or other third parties.
<br>
&nbsp; No one is permitted to use these Marks without the prior written consent
<br>
&nbsp; of Mentor Graphics or the respective third-party owner. The use herein
<br>
&nbsp; of a third-party Mark is not an attempt to indicate Mentor Graphics as a
<br>
&nbsp; source of a product, but is intended to indicate a product from, or
<br>
&nbsp; associated with, a particular third party. The following are trademarks of
<br>
&nbsp; of Mentor Graphics Corporation: Questa, ModelSim, JobSpy, and Signal Spy.
<br>
&nbsp; A current list of Mentor Graphics trademarks may be viewed at
<br>
&nbsp; www.mentor.com/terms_conditions/trademarks.cfm.
</center>

<br>
<center>
&nbsp; End-User License Agreement: You can print a copy of the End-User License
<br>
&nbsp; Agreement from: www.mentor.com/terms_conditions/enduser.cfm.
</center>
<br>

<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file in www.model.com. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>Model<i>Sim</i> Altera is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#assertiondefects">Assertion Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 6.2h</a></u></li>
<li>
<u><a href="#coverage">Coverage Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 6.2h</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 6.2h</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 6.2h</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 6.2h</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 6.2h</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 2000, XP
   <li>sunos5aloem - Solaris 8, 9, 10
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
<li>The following platform will be discontinued as of the 6.3 release:
   <ul>
   <li>HPUX Platform - hp700aloem
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 6.2h</b>
<ul>
<li>
Coverage filenames that contained a hyphen ('-') character could not be successfully read using the vsim <b>-viewcov &lt;filename&gt;</b> command.</li>
<li>
On Windows, invoking the File->Save As... menu pick from an undocked Transcript window caused the Main window to be activiated.  Now, the Transcript window stays on top.</li>
<li>
The Dataflow window did not use the namespace portion of object names passed to it.</li>
<li>
Wave window Find Previous Transition and Find Next Transition searches, for searches that required a relatively long time to perform, could crash the front end when another search was attempted while a search was ongoing.  Such searches are now ignored when a search is underway.  Search attempts are also ignored when the active cursor is locked (including the Now cursor).</li>
<li>
A delayed virtual signal could not be logged or added as a trigger to the List window.</li>
<li>
Expanding a ref struct variable did not expand its value in the Locals window.</li>
<li>
In a SystemVerilog design, the connection between a logic variable and an input or output logic port was not displayed correctly in the Dataflow window.  For example, in the simple design below, the connection between /top/A and /top/m/B failed to display properly:<br>
<code>
module top(); var logic A; assign A=1;  mid m(A); endmodule<br>
module mid(input logic B); wire x=B; endmodule
</code></li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 6.2h</b>
<ul>
<li>
A default skew containing both edge and time delay values would cause a crash if the clocking block contained no signals.</li>
<li>
The <b>-vlog95compat</b> switch no longer allows comma separated event lists.</li>
<li>
In some cases, initializing a static variable inside a task in SystemVerilog code caused the compiler to generate an internal error message. An example is when the initial value was a time literal such as "0ns".
</li>
<li>
An if-statement branch within an always block failed to execute in some cases when optimized in conjunction with a similar always block having a similar if-statement having an empty begin-end block in one of its branches.</li>
<li>
Error messages associated with objects located in $unit would report the incorrect file name.</li>
<li>
When compiling SystemVerilog source with the <b>-incr</b> option the compiler was not recompiling modules when imported packages were modified.</li>
<li>
Event control expressions containing logical operators such as "@(a && b)" or "@(a || b)" caused an internal compiler error when used inside an automatic task.</li>
<li>
When using the <b>vopt +acc</b> option on SystemVerilog packages, the generated code sometimes did not permit breakpoints on calls to tasks and functions in the package.</li>
<li>
Bidirectional pass switches had not been included in creating extended VCD files.  </li>
<li>
The ternary operator produced incorrect results in some cases if the condition operand was a bitwise inversion of a vector result.</li>
<li>
An indexed part-select of a vector net in a port connection list resulted in an inappropriate error message indicating that the "bounds are reversed" in an optimized design where the connected module was inlined.</li>
<li>
The sensitivity list implied for @* failed to include variables referenced in unreachable statements or ineffectual expressions due to constant propagation optimizations.</li>
<li>
There was a problem where concatenation of duplicate 2-state values could produce the wrong result. For example:<br>
<code>
{bval[63:0],bval[63:0]}
</code></li>
<li>
Conditional pathdelay selection could be incorrect particularly when multiple sequential cells are connected to a common clock net.</li>
<li>
Gate-level models with buffered delayed nets did not function correctly with +delayed_timing_checks.</li>
<li>
The parser would not correctly handle block comments containing "/*" as in  /*/AUTOWIRE/*/.</li>
<li>
Signals that are part of an interface instantiated as a vector could not be individually logged or added to a Wave window.
</li>
<li>
The simulator crashed in certain cases when using $countdrivers.</li>
<li>
In certain cases where the bounds are non-constant, a continuous assignment of a part-select did not trigger properly.  For Example:<br>
<code>
parameter porta_addr_size = f_width2addr(porta_width);
<br>input [porta_addr_size-1:0] addra;
<br>wire    [8:0]              porta_row_addr;
<br>assign porta_row_addr      = addra[(porta_addr_size - 1) -: 9];
</code></li>
<li>
Using an automatic variable in a system function as an argument to another system task or function sometimes caused an internal error like:<br>
<code>Internal error: ../../../src/vlog/vgencode.c(67) vl_save_stack_on_wait</code>

</li>
<li>
In SystemVerilog, the liblist clause of an instance in a config is now being inherited hierarchically downward to all entities.  This resolution will take place before using libraries specified in the <b>-L</b> switch.</li>
<li>
When using "ref" argument passing to tasks and functions where the type of the "ref" argument was a type parameter or parameterized class, accesses to the formal could be incorrect and cause incorrect results or fatal errors.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 6.2h</b>
<ul>
<li>
The acc_fetch_value and acc_set_value routines failed on System Verilog 2-state variable types in the accVectorVal format mode.</li>
<li>
The function acc_handle_path was not able to find net or signal objects when the scope was indexed (For example: /u/w/y[5]/sig1).
An earlier fix for a similar issue was treating the scope name as an escape id due to the presence of [].</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 6.2h</b>
<ul>
<li>
Use of signal_force() in a VHDL design caused the simulator to crash in certain cases.</li>
<li>
When run repeatedly on a top-level design unit, if the hierarchy contained a VHDL design unit with at least 2 different specializations (different generic values inferred for instantiations of the same architecture), vopt generated code for some of the specialized design units, and for all design units at higher levels of the design. vopt should have determined that none of the design units had been recompiled, and therefore no code generation was needed.</li>
<li>
vcom and vopt crashed when encountering a slice expression in the index_specification of a for generate_statement_label in a block_specification within a configuration declaration.</li>
<li>
If a package declaration contained a subprogram declaration and an enumeration literal declaration each with the same simple name, a later USE clause (applying to an otherwise unrelated scope) naming that declaration caused a compiler error.</li>
<li>
If a package is compiled with the <b>-work</b> switch, and is loaded from a design containing the statement:<br>

USE work.all;<br>

optimization of the design may fail to access components defined in the package. When this failure occurs, an error message like the following may be issued by vopt:<br>
<code>
** Error: Prefix pack of selected name is not valid.<br>
</code>
where "pack" is the name of the package containing component definitions.</li>
<li>
In a design containing a configuration that contains specifications for multiple levels of hierarchy, if architectures below the topmost level are altered and recompiled, vopt may fail to optimize the changed architectures, leaving the previous versions in place, and resulting in simulation of the wrong architectures. vopt has been changed to re-optimize all architectures specified by a changed configuration.</li>
<li>
A subprogram defined in a package may be inlined incorrectly by the vopt optimizer when the caller of the subprogram is a process using the package.</li>
<li>
vsim failed to load the default architecture of an entity that was also instantiated with a direct instantiation statement, and where the direct instantiation contained generics that were inferred by vopt to be constants. For example, if the instantiations were similar to the following:<br>
<code>
inst_e1 : entity work.e(a1) generic map( g => 5 );<br>
inst_e2 : e;<br>
</code>
vsim would issue the following error:<br>
<code>
**Error: Could not find machine code for 'work.e(a2)'.<br>
</code>
</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 6.2h</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 6.2h</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 6.2h</b>
<ul>
<li>
vsim crashed when a transaction stream was created in the start_of_simulation() callback of the parent module. </li>
<li>
An input or inout port cannot be forced if the port has values coming into
it from a higher level.  Forcing such an input or inout should result in
an error.  For lower level SystemC, this condition was not being caught.
Now such a case correctly results in an error.</li>
<li>
A force on a SystemC signal did not always propagate correctly through inputs or IOs to instantiated Verilog or VHDL below.</li>
<li>
The <b>noforce</b> command on a SystemC signal caused a crash if the signal was not being forced.</li>
<li>
sc_object::name() now behaves consistently in vopt and vsim.</li>
<li>
The MinGW gcc compiler distributed with the product had problems creating the SystemC shared library when the machine had a already installed MinGW gcc.</li>
<li>
The simlulator was crashing when control_foreign_signal() was called on a VHDL signal only a part of which was read in the VHDL.</li>
<li>
A sc_signal declared as a void* and created in the constructor using new() is now debuggable and can be connected at the mixed-language boundary. This is supported only when the signal is of a native C++ type(int, long, char etc) or a built-in SystemC type(sc_int<W>, sc_bv<W>, sc_logic etc).</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="assertiondefects"></a><b>Assertion Defects Repaired in 6.2h</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 6.2h</b>
<ul>
<li>
The compiler, when invoked with the <b>-O5</b> option on a very large design unit, crashed in rare cases.</li>
<li>
In a mixed VHDL-Verilog design, <b>force -freeze</b> on VHDL signals was not included in EVCD output.</li>
<li>
Signal Spy failed to handle a 1-bit wide Verilog vector as the src_object, resulting in incorrect updates of the dest_object and possibly acc_set_value() errors.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="coverage"></a><b>Coverage Defects Repaired in 6.2h</b>
<ul>
<li>
Unreadable UCDB files were created if the vsim command line had any quoted newline characters.</li>
<li>
Excluded toggle bits were displaying in toggle reports.</li>
<li>
There was a problem when multiple files are compiled with one invocation
of vcom, vlog or vopt, if coverage is turned off with a coverage off pragma,
and there is no matching coverage on pragma in that file, coverage
continued to be off at the start of the next file. But if multiple file
compilation unit semantics are in effect, coverage will remain off.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 6.2h</b>
<ul>
<li>
Calls to the signal_release() VHDL procedure or $signal_release() Verilog system task could leak memory if no prior call to signal_force()/$signal_force() was made on the specific destination object.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 6.2h</b>
<ul>
<li>
dts0100398725 - # ** Error: (vsim-3852) Invalid override of parameter.</li>
<li>
dts0100398763 - Incorrect write timing output on optimized cells.</li>
<li>
dts0100398791 - Certain types of gate level register cells produced incorrect results in -fast mode.</li>
<li>
dts0100398795 - Interconnect timings do not seem to be annotated correctly on memory inputs.</li>
<li>
dts0100387922 - Tool crashes if a hyphen is present in the filename of a coverage file.</li>
<li>
dts0100383459 - File browser popup activating Main window.</li>
<li>
dts0100391092 - Opening a 'dataflow' window when a .wlf is viewed.</li>
<li>
dts0100394644 - Crash when finding signal transitions in the Wave window.</li>
<li>
dts0100209434 - Virtual signal with delay is not accepted as a List window trigger.</li>
<li>
dts0100385775 - Locals window doesn't display ref struct value correctly.</li>
<li>
dts0100385479 - SIGSEGV Bad pointer access when using $countdrivers.</li>
<li>
dts0100408572 - vcom crashes if an enumerated value shares the same name as a sub-program.</li>
<li>
dts0100396844 - Memory leak in simulator when signal_release occurs without signal having been forced.</li>
<li>
dts0100402312 - Problem with ADMS and simulation interface when we have a SystemC unit in the design.</li>
<li>
dts0100400578 - Syntax error when sequence_expr refers to sequence parameter.</li>
<li>
dts0100392573 - vsim -help is missing "-viewcov" operation.</li>
<li>
dts0100384988 - Coverage report xml file, REG variables index incorrect.</li>
<li>
dts0100407864 - Specman hdl_path() error in 6.2g when -svcov, but no problem if using 6.2d.</li>
<li>
dts0100404799 - Internal error: ../../../src/vlog/vgencode.c(67) vl_save_stack_on_wait.</li>
<li>
dts0100408941 - Can't set breakpoints on assign statements.</li>
<li>
dts0100395904 - XML report shows ignored values in bin rhs values.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 6.2h</b>
<ul>
<li>
On certain (RedHat) Linux Operating System versions the "-restore" feature
occasionally fails. This is due to the memory allocation security (anti-hacking) feature of Linux. RedHat Enterprise release v.3 update3 was the first version to have this security feature. In these Linux releases two consecutive program invocations do not get the same memory allocation foot-print. For the "-restore" feature the simulator relies on having the same memory allocation foot-print. Users are advised to re-try this feature a few times as on average 3 out of 5 attempts are successful. In recent Linux versions, an override for this anti-hacking feature is provided. Please use it at your own discretion. </li>
<li>
Support of debugging C code during a quit command was disabled on Windows. The corresponding C Debug command <b>cdbg stop_on_quit</b> was also disabled on Windows.
</li>
<li>
'const ref' type of arguments are not supported in the function/task calls in assertions. For general function/task calls 'const ref' is treated like a 'ref' after issuing a warning.</li>
<li>
In code coverage, there is no way to exclude a condition or expression table
row for the case of more than one table on a line and the table in question
is not the first table on the line.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 6.2h</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 6.2h</b>
<ul>
<li>
Added the <b>-noautoldlibpath</b> option to vsim so that the LD_LIBRARY_PATH is not set internally.
</li>
<li>
Added a feature to code coverage to turn off code coverage within vlog
modules declared as `celldefine/`endcelldefine, and modules included
using <b>-v</b> and <b>-y</b>. This is disabled as the default, for
backwards compatibility. To
enable it, set the <i>CoverCells</i> variable in the modelsim.ini file to 0.
To override this feature for individual Verilog source files, there is a
vlog <b>-covercells</b> option. There is also a vopt <b>-covercells</b> option. And if
CoverCells in the modelsim.ini file is set to 1, and you want to turn it
off for individual files, there is a vlog <b>-nocovercells</b> option. There is
also a vopt <b>-nocovercells</b> option. In release 6.3, the default will be
to turn off coverage on celldefines.
</li>
</ul>
</BODY>
</HTML>

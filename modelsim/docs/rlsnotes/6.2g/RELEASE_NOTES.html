
<HEAD>
<TITLE>6.2g Release Notes</TITLE>

</HEAD>
<HTML>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">
<CENTER>
<h1>
&nbsp;<a NAME="TOC"></a>Release Notes For Model<i>Sim</i> Altera 6.2g
<br></h1></center>
<center>
&nbsp;Copyright 1991-2007 Mentor Graphics Corporation
<br>
&nbsp;All rights reserved.
<br>
&nbsp;This document contains information that is proprietary to Mentor Graphics Corporation.
<br>
&nbsp;The original recipient of this document may duplicate this document in whole or in
<br>
&nbsp;part for internal business purposes only, provided that this entire notice appears in all
<br>
&nbsp;copies. In duplicating any part of this document, the recipient agrees to make every
<br>
&nbsp;reasonable effort to prevent the unauthorized use and distribution of the proprietary
<br>
&nbsp;information.
</center>


&nbsp;
<blockquote>
<blockquote>
<center><b>Feb 21 2007</b></center>
</blockquote>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<li>
<b>Product Installation and Licensing Information</b></li>

<br>For brief instructions about product installation please visit the
"install_notes" file in www.model.com. The install_notes
file can be viewed at:
<br><a href="http://www.model.com/products/release.asp">http://www.model.com/products/release.asp</a>
<br>For detailed information about product installation and licensing see
the ModelSim Start Here Guide. The manual can be downloaded from:
<br><a href="http://www.model.com/support/documentation.asp">http://www.model.com/support/documentation.asp</a>
<br>&nbsp;
<li>
<b>Release Notes Archives</b></li>
<br>For release notes of previous versions visit the release notes archive
at: <a href="http://www.model.com/support/default.asp">http://www.model.com/support/default.asp</a>
<br>or find them in the installed modeltech tree in &lt;path to modeltech installation&gt;/docs/rlsnotes
<br>&nbsp;
<li>
<b>How to get Support</b></li>
<p>Model<i>Sim</i> Altera is supported by Altera Corporation
<ul>
<!--
<li>Telephone Support
<p>
Call 800-800-3753 or 408-544-7000
<br>&nbsp;
<br>&nbsp;
<li>Email Support
<p><a href="mailto:support@altera.com">support@altera.com</a>
<br>&nbsp;
<br>&nbsp;
-->
<li>World-Wide-Web Support
<p><a href="http://www.altera.com/mySupport">http://www.altera.com/mySupport</a>
<br>&nbsp;
</ul>
<br>&nbsp;
<p>
<h4>
<hr WIDTH="100%"></h4>
<h3>
<b>Index to Release Notes</b></h3>

<blockquote>
<li>
<u><a href="#keyinfo">Key Information</a></u></li>

<li>
<u><a href="#uidefects">User Interface Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#verilogdefects">Verilog Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#plidefects">PLI Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#vhdldefects">VHDL Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#flidefects">FLI Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#vitaldefects">VITAL Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#systemcdefects">SystemC Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#assertiondefects">Assertion Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#mixeddefects">Mixed Language Defects Repaired in 6.2g</a></u></li>
<li>
<u><a href="#coverage">Coverage Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#generaldefects">General Defects Repaired in 6.2g</a></u></li>

<li>
<u><a href="#mgcdefects">Mentor Graphics DRs Repaired in 6.2g</a></u></li>

<li>
<u><a href="#knowndefects">Known Defects in 6.2g</a></u></li>

<li>
<u><a href="#productchanges">Product Changes to 6.2g</a></u></li>

<li>
<u><a href="#newfeatures">New Features Added to 6.2g</a></u></li>
</blockquote>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="keyinfo"></a><b>Key Information</b>
<ul>
<li>The following lists the supported platforms:
   <ul>
   <li>win32aloem - Windows 2000, XP
   <li>sunos5aloem - Solaris 8, 9, 10
   <li>hp700aloem - HP-UX 11
   <li>linuxaloem - RedHat 7.2 and higher.
   </ul>
<li>The following platform will be discontinued as of the 6.3 release:
   <ul>
   <li>HPUX Platform - hp700aloem
   </ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="uidefects"></a><b>User Interface Defects Repaired in 6.2g</b>
<ul>
<li>
The drag and drop operation with editable signals crashed.</li>
<li>
When opening a dataset, the UserTimeUnit TCL variable was not getting set properly, which could result in the List window time column having the incorrect units.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="verilogdefects"></a><b>Verilog Defects Repaired in 6.2g</b>
<ul>
<li>
If the initializer of a for loop generate variable was a struct field select, vlog and vopt crashed when a case_generate_construct constant_expression was a struct field select.</li>
<li>
In some situations an optimized gate-level cell with a single output corrupted the simulation following a timing check violation that caused a notifier toggle.</li>
<li>
Associating arguments by name for class constructors or non-void function methods caused fatal errors at simulation time.</li>
<li>
vopt failed in certain cases if <b>+acc</b> settings were applied to a primitive instance and multiple instances of the parent module were instantiated.</li>
<li>
Improved the performance of the delay net delay solver when large output specific solutions were computed.</li>
<li>
In an optimized design, if a parameter was only accessed via the PLI and its value was set by a defparam, in some cases the value of the parameter remained the default initial value.</li>
<li>
Under certain circumstances negative timing check limits get converted to positive values when scaled greater than 65,535 simulation time units. </li>
<li>
An assignment to a part-select of a vector register that was partially out-of-bounds resulted in corruption of the register value such that subsequent expression references to the register resulted in incorrect values or a simulator crash.</li>
<li>
vsim failed with a fatal error in certain cases when passing an unpacked array to a dynamic array as an inout argument to an automatic task.</li>
<li>
The simulator gave incorrect output in certain cases when passing a dynamic array to a queue and an inout argument to an automtaic task.</li>
<li>
The <b>write timing</b> command displayed timing check limits and path delay values that were unadjusted for the effects of delayed net delays.</li>
<li>
Timing checks for gate-level optimized cells with exactly 32 timing checks were not always triggering correctly.</li>
<li>
The functions $system and $systemf crashed on the Windows platform.
 </li>
<li>
The ADMS GUI failed to load a design if it contains System Verilog DPI functions.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="plidefects"></a><b>PLI Defects Repaired in 6.2g</b>
<ul>
<li>
The tf_exprinfo routine returned garbage in the bval bits of the expr_value_p field in a System Verilog design. Specifically, it failed for 2-state constant values of 32-bits or less in size, which includes simple integer literals.</li>
<li>
Module array objects did not get a handle when passed as arguments to vpi_handle_by_name and vpi_handle_by index.
</li>
<li>
The acc_handle_object() and acc_handle_by_name() routines could not find PLI objects within modules that were members of module arrays.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vhdldefects"></a><b>VHDL Defects Repaired in 6.2g</b>
<ul>
<li>
Functions inlined from a package body that was compiled with <b>-O0</b>
sometimes caused the message:<br>
<code>
Internal error: ../../../src/vcom/genexpr.c(5506).
</code></li>
<li>
After logging or waving a vector signal, the attribute 'event may return incorrect values.</li>
<li>
When using a location map, refreshing a design caused pathnames to be incorrectly processed in certain cases. The result was that the viewing of source files in the simulator failed because of invalid pathnames to the source files.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="flidefects"></a><b>FLI Defects Repaired in 6.2g</b>
<ul>
<li>
The mti_CreateRegion function has been changed so that the region name is now case-sensitive when the parent region is an FLI-created region.  It is also case-sensitive for Verilog and SystemC parents, but still case-insensitive for VHDL parents.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="vitaldefects"></a><b>VITAL Defects Repaired in 6.2g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="systemcdefects"></a><b>SystemC Defects Repaired in 6.2g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="assertiondefects"></a><b>Assertion Defects Repaired in 6.2g</b>
<ul>
<li>
The vcom option <b>-nopsl</b> was ignored.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mixeddefects"></a><b>Mixed Language Defects Repaired in 6.2g</b>
<ul>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="coverage"></a><b>Coverage Defects Repaired in 6.2g</b>
<ul>
<li>
When instance exclusions were applied using exclusion-file mode, instance exclusions were not getting reflected in coverage reports.</li>
<li>
When running with with toggle coverage, there was a memory leak that occurred whenever the coverage data was updated. This leak could be quite large when processing a group of <b>coverage exclude</b> commands. In extreme cases this leak exhausted memory and caused the simulator to exit or crash.</li>
<li>
If expression and statement coverage is enabled, in some cases the missing expression coverage tab displayed nothing even though expressions were not completely covered. This only occurred when viewing coverage data by instance not by file.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="generaldefects"></a><b>General Defects Repaired in 6.2g</b>
<ul>
<li>
If a simulation library has its database file (_info) edited on a PC, the database could not be read starting with 6.2 although older releases could read it without problems.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="mgcdefects"></a><b>Mentor Graphics DRs Repaired in 6.2g</b>
<ul>
<li>
dts0100384166 - SDF annotation with timing checks not working on Power aware netlist.</li>
<li>
dts0100380258 - Constant propagation problem between VHDL and Verilog model.</li>
<li>
dts0100387891 - Ignores events in a process after optimization.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="knowndefects"></a><b>Known Defects in 6.2g</b>
<ul>
<li>
On certain (RedHat) Linux Operating System versions the "-restore" feature
occasionally fails. This is due to the memory allocation security (anti-hacking) feature of Linux. RedHat Enterprise release v.3 update3 was the first version to have this security feature. In these Linux releases two consecutive program invocations do not get the same memory allocation foot-print. For the "-restore" feature the simulator relies on having the same memory allocation foot-print. Users are advised to re-try this feature a few times as on average 3 out of 5 attempts are successful. In recent Linux versions, an override for this anti-hacking feature is provided. Please use it at your own discretion. </li>
<li>
Support of debugging C code during a quit command was disabled on Windows. The corresponding C Debug command <b>cdbg stop_on_quit</b> was also disabled on Windows.
</li>
<li>
'const ref' type of arguments are not supported in the function/task calls in assertions. For general function/task calls 'const ref' is treated like a 'ref' after issuing a warning.</li>
<li>
In code coverage, there is no way to exclude a condition or expression table
row for the case of more than one table on a line and the table in question
is not the first table on the line.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="productchanges"></a><b>Product Changes to 6.2g</b>
<ul>
<li>
The automatic invocation of the design-wide performance optimization tool "vopt" has been enabled. Upon invocation, the simulator determines if vopt has been run on the top-level module(s) you supplied; if not, the simulator invokes vopt and outputs a message similar to: 
<br>
# ** Note: (vsim-3812) Design is being optimized... 
<br>
The optimization step will improve run time performance and affect the visibility of objects in the design. To enable debug visibility it is recommended you add additional options to vopt on the vsim invocation via the -voptargs argument.  For example: vsim <b>-voptargs</b>="+acc" which enables full debug access to objects in the optimized design. To understand the full usage of <b>+acc</b> and <b>-voptargs</b>, please refer to the chapter "Optimizing Designs with vopt" in the User's Manual for more information. 
<br>
If required you may obtain the previous behavior of vsim, where it does not perform performance optimizations, by setting the modelsim.ini variable "VoptFlow" to 0 (zero). An alternative to setting VoptFlow to zero, where interactive debug compile throughput is required you can use the <b>-novopt</b> option on the vsim and compilation command line (vcom/vlog).</li>
<li>
The Watch window has changed the format for some kinds of objects.  Composite objects are now displayed in an expanded form.  The display box also will have scrollbars if necessary and is also resizable.</li>
<li>
vlog or vopt will now display a warning if cross coverage produces redundent results.</li>
<li>
A stacktrace will no longer be printed when a fatal error is the result of incorrect user code and the fatal error is recoverable. Instead, the simulation  stops and the failing source code line is reported.</li>
<li>
Due to customer requests, statement coverage has been added for
VHDL concurrent conditional signal assignments and selected signal
assignments.</li>
<li>
The User Interface was modified to suppress the display of implicit wires in the Structure and Process windows. The debugger will not step into implicit wire processes when the display of implicit wires is suppressed. This behavior is controlled by a preference variable, PrefMain(HideImplicitWires). When this variable is set to 0 (zero) it displays implicit wires and allows the debugger to step into them and when it is set to 1 (the default), it hides them and suppresses debugger interaction with them.</li>
<li>
Breakpoint and Fatal error messages have changed.  They now display the name of the function, task, subprogram, module, or architecture where the condition occurred, in addition to the file and line number.  This additional information should make it easier to debug.  This old message format can be enabled for backward compatibility by modifying the modelsim.ini variable ShowFunctions. Setting this to 0 will revert the messages to the previous format.</li>
<li>
The <b>see</b> command has been enhanced.  It will now accept 1 or 2 arguments.  These arguments are the number of source file lines to display before and after the current execution line.  The <b>see</b> command has also been made available in GUI mode in addition to command line mode.<br>
<code>
    see    ;# Display source file lines around the current execution line<br>
&nbsp;&nbsp;&nbsp; ;# By default 5 lines before and 4 lines after are displayed<br>

    see &lt;n&gt;  ;# Display &lt;n&gt; lines before and after the current line.
<br>
    see &lt;pre&gt; &lt;post&gt; ;# Display &lt;pre&gt; line before and &lt;post&gt; lines<br>
&nbsp;&nbsp;&nbsp; ;# after the current line<br>
</code>
</li>
<li>
Temporary compiler files are now always created in the current "work" library
under a directory called _temp.  Previous versions created files in /tmp or
/var/tmp and failed in some cases if the given machine did not have a large amount of disk space allocated to the partitions that contained these directories.
</li>
<li>
The WLF reader cache feature is now enabled by default.  This feature was introduced in version 6.1, but was disabled by default.  Refer to User's Manual for more information about the WLF reader cache.</li>
<li>
The shell commands vcom, vlog, vsim, vmap, no longer expand environment variables in filename arguments and options.  Instead, variables should be expanded by the shell before hand, in the usual manner.  The <b>-f</b> option that most of these commands support, now performs environment variable expansion throughout the file.
<br>
Environment variable expansion is still performed in the following places:
<ul>
<li>Pathname and other values in the modelsim.ini file.
<li>Strings used as file pathnames in VHDL and Verilog.
<li>VHDL Foreign attributes.
<li>The PLIOBJS environment variable may contain a path that has an environment variable.
<li>The Verilog `uselib file and dir directives.
<li>Anywhere in the contents of a <b>-f</b> file.
</ul>
The recommended method for using flexible pathnames is to make use of the MGC Location Map system.  When this is used, then pathnames stored in libraries and project files (.mpf) will be converted to soft names.
<br>
If a file or path name contains the dollar sign character ($), and must be used in one of the places listed above that accepts environment variables, then the explicit dollar sign must be escaped by using a double dollar sign ($$).
<br>
To revert to the old behavior in the event that this is necessary for existing flows, set the modelsim.ini variable "DepricatedEnvironmentVariableExpansion" to 1. This variable must be set in the appropriate section ([vcom], [vlog], or [vsim]) to revert the behavior in the corresponding tool.</li>
<li>
The Scroll Wheel behavior has changed for the Dataflow window.  It no longer scrolls the window up or down.  Instead, the scroll wheel will zoom In (wheel down) or zoom Out (wheel up). The window will also center on the mouse location as it zooms.</li>
<li>
In include file "svdpi.h", the definition of the fields in the svLogicVecVal struct has been changed.  As per IEEE P1800 SV-CC item #883, the two fields in that struct have been renamed from a and b to aval and bval, respectively.

To help ease this transition, you can add -DP1800_2005_VECVAL to your C compiler command line.  That will give you the old field names until you have the chance to change your source code to conform with the new naming.</li>
<li>
The <b>write report</b> command has been changed to list all source files used to compile a given design unit, not just the main file containing the module keyword.</li>
<li>
A "Compile selected files together" checkbox has been added to the Compile Source Files dialog.  It allows user choice of whether to compile all selected files in one compiler invocation or a separate invocation for each file.  You can change the default using the Preferences dialog or by editing the PrefCompileDialog(multiFileCompile) variable in the <i>pref.tcl</i> file.</li>
<li>
The <b>coverage save</b> command writes UCDB files and the <b>-XML</b>
switch is no longer supported with the new functional coverage flow. Also the 
<b>coverage reload</b> command is no longer supported, the users
can use the view mode of vsim to see their coverage results in the GUI.</li>
<li>
The <b>coverage save</b> command now saves data in the UCDB format (see note under New Features); the old code coverage format can no longer be saved, though it can still be processed with the standalone utility "vcover".  The old functional coverage format will likewise no longer be saved with "fcover save", and a UCDB will be saved instead.
</li>
<li>
If you run <b>vsim -voptargs=...</b> and then within vsim invoke
vsim again: previously the <b>-voptargs</b> argument would be
copied down and remain in effect. This is no longer the case. It is now
reset before each invocation.</li>
<li>
The Find dialog in the Objects, Locals and Dataflow windows now has a <b>Find All</b> button.</li>
<li>
A <b>-coverage</b> option has been added to vopt for running vopt
directly and adjusting options to correctly handle code coverage. When running
vopt implicitly through vsim nothing needs to be done: the
<b>vsim -coverage</b> option will make the needed adjustments.</li>
<li>
Increase timing check capacities for optimized Verilog cells.</li>
<li>
The following interfaces of registering a SystemVerilog SystemC DPI function have been renamed.<br>
<ul>
<li>"sc_export_function" has been changed to "sc_dpi_register_cpp_function"
<li>"SC_EXPORT_FUNCTION" has been changed to "SC_DPI_REGISTER_CPP_FUNCTION"
<li>"sc_export_member" has been changed to "sc_dpi_register_cpp_member_function"
<li>"SC_EXPORT_MEMBER" has been changed to "SC_DPI_REGISTER_CPP_MEMBER_FUNCTION"
</ul></li>
<li>
Progress information for loading dataflow is now displayed in the dataflow window's footer.</li>
<li>
A SystemC sc_out port connected to a HDL signal higher up in the design hierarchy is now treated as a pure output port. A read() operation on such a sc_out port might give incorrect values.  Use a sc_inout port to do both read() and write() operations.</li>
<li>
The Active Processes window now loads only those processes it needs for display.  This provides better interactive performance on designs with a large number of active processes when selecting a process from the Structure or Dataflow window.</li>
<li>
Error messages in the VHDL compiler now report the full selected names when
reporting on types. The old format for these error messages was:<br>
<code>Error file.vhd(46): Constant "udelay" is type vitaldelaytype01; expecting type vitaldelaytype01"<br></code>
The new format for these error messages is:<br>
<code>Error file.vhd(46): Constant "udelay" is type ieee.vital_timing.vitaldelaytype01; expecting type vital2000.vital_timing.vitaldelaytype01"<br></code>
</li>
<li>
There are three FLI/PLI query routines that allow an application to programmatically determine the simulator product name and version at run time. These are mti_GetProductVersion(), acc_product_version() and vpi_get_vlog_info(). The strings they return have been changed slightly. The reason for the change is to make the returned strings more predictable both across the routines themselves, and across products and product versions.

When the above routines return a product name, they will return strings that start either "ModelSim" or "ModelSim for Questa". Thus a query to match "ModelSim" in the first 8 characters will match for both the ModelSim and QuestaSim simulators. To differentiate the Questa simulator, it is necessary to search for the string "Questa" somewhere in the product name. The ModelSim simulator will not have the string "Questa" in its product name.

The product name string contains other product-differentiating information too, not detailed here. 

The product version is returned as a separate string in the VPI routine. In the other two routines it is returned as part of the same string, with the syntactic separator " Version " between the product name component and the version number component.

The TCL command, vsimVersionString, is unaffected by this change.</li>
<li>
The <b>coverage exclude</b> command syntax has been changed to better accommodate FSM coverage. The new syntax is as follows:
<UL>
<LI>    coverage exclude [-clearall | -addall][-code bcefst][-dataset &lt;name&gt;]
<LI>    coverage exclude [-clear] [-dataset &lt;name&gt;][-srcfile &lt;source_file&gt;]<br>
                     [-instance &lt;inst_path&gt; | -du &lt;du_name&gt;][-code bcefs]<br>
                     [-linerange &lt;ln&gt;+ | &lt;ln&gt;-&lt;ln&gt;+ | all]<br>
                     [-condrow | -exprrow &lt;ln&gt; &lt;rn&gt;+ | &lt;rn&gt;-&lt;rn&gt;+ | all]<br>
                     [-ftrans &lt;state_var_name&gt; &lt;trans_id&gt;+ | &lt;trans_id&gt;-&lt;trans_id&gt;+ | all]<br>
                     [-fstate &lt;state_var_name&gt; &lt;state#&gt;+ | &lt;state#&gt;-&lt;state#&gt; | all]<br>
</UL>
The <b>coverage exclude</b> can be used to do 'toggle disable' and 'toggle enable'(with -clear).
<UL> 
<LI>    coverage exclude [-clear] -togglenode &lt;node_path&gt;+
                     [-in] [-out] [-inout] [-internal] [-ports] [-r]<br>
</UL>
Note that the new 'coverage exclude' functionality is not fully supported yet. FSM exclusions will not reflect in the GUI.</li>
</ul>
<p>
<h4>
<hr WIDTH="100%"></h4>
<p><a NAME="newfeatures"></a><b>New Features Added to 6.2g</b>
<ul>
</ul>
</BODY>
</HTML>
